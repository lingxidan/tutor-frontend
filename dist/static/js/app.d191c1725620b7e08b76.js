webpackJsonp([1],{"/7Uz":function(e,t){},"/T7B":function(e,t){},"/oJd":function(e,t){},"0/9m":function(e,t){},"0Xiz":function(e,t){},"35ZO":function(e,t){},"3Waw":function(e,t){},"3Z23":function(e,t){},"3kbO":function(e,t){},"3o/o":function(e,t){},"4q1I":function(e,t){},"50ku":function(e,t){},"8m2i":function(e,t){},"9MzM":function(e,t){},"9krk":function(e,t){},AWIB:function(e,t){},AzGJ:function(e,t){},BVw9:function(e,t){},CD4W:function(e,t){},Db2N:function(e,t){e.exports={grinning:{keywords:["face","smile","happy","joy",":D","grin"],char:"😀",fitzpatrick_scale:!1,category:"people"},grin:{keywords:["face","happy","smile","joy","kawaii"],char:"😁",fitzpatrick_scale:!1,category:"people"},smiley:{keywords:["face","happy","joy","haha",":D",":)","smile","funny"],char:"😃",fitzpatrick_scale:!1,category:"people"},smile:{keywords:["face","happy","joy","funny","haha","laugh","like",":D",":)"],char:"😄",fitzpatrick_scale:!1,category:"people"},sweat_smile:{keywords:["face","hot","happy","laugh","sweat","smile","relief"],char:"😅",fitzpatrick_scale:!1,category:"people"},laughing:{keywords:["happy","joy","lol","satisfied","haha","face","glad","XD","laugh"],char:"😆",fitzpatrick_scale:!1,category:"people"},innocent:{keywords:["face","angel","heaven","halo"],char:"😇",fitzpatrick_scale:!1,category:"people"},wink:{keywords:["face","happy","mischievous","secret",";)","smile","eye"],char:"😉",fitzpatrick_scale:!1,category:"people"},blush:{keywords:["face","smile","happy","flushed","crush","embarrassed","shy","joy"],char:"😊",fitzpatrick_scale:!1,category:"people"},slightly_smiling_face:{keywords:["face","smile"],char:"🙂",fitzpatrick_scale:!1,category:"people"},yum:{keywords:["happy","joy","tongue","smile","face","silly","yummy","nom","delicious","savouring"],char:"😋",fitzpatrick_scale:!1,category:"people"},heart_eyes:{keywords:["face","love","like","affection","valentines","infatuation","crush","heart"],char:"😍",fitzpatrick_scale:!1,category:"people"},kissing_heart:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😘",fitzpatrick_scale:!1,category:"people"},kissing:{keywords:["love","like","face","3","valentines","infatuation","kiss"],char:"😗",fitzpatrick_scale:!1,category:"people"},kissing_smiling_eyes:{keywords:["face","affection","valentines","infatuation","kiss"],char:"😙",fitzpatrick_scale:!1,category:"people"},kissing_closed_eyes:{keywords:["face","love","like","affection","valentines","infatuation","kiss"],char:"😚",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_winking_eye:{keywords:["face","prank","childish","playful","mischievous","smile","wink","tongue"],char:"😜",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue_closed_eyes:{keywords:["face","prank","playful","mischievous","smile","tongue"],char:"😝",fitzpatrick_scale:!1,category:"people"},stuck_out_tongue:{keywords:["face","prank","childish","playful","mischievous","smile","tongue"],char:"😛",fitzpatrick_scale:!1,category:"people"},sunglasses:{keywords:["face","cool","smile","summer","beach","sunglass"],char:"😎",fitzpatrick_scale:!1,category:"people"},roll_eyes:{keywords:["face","eyeroll","frustrated"],char:"🙄",fitzpatrick_scale:!1,category:"people"},flushed:{keywords:["face","blush","shy","flattered"],char:"😳",fitzpatrick_scale:!1,category:"people"},rage:{keywords:["angry","mad","hate","despise"],char:"😡",fitzpatrick_scale:!1,category:"people"},confused:{keywords:["face","indifference","huh","weird","hmmm",":/"],char:"😕",fitzpatrick_scale:!1,category:"people"},tired_face:{keywords:["sick","whine","upset","frustrated"],char:"😫",fitzpatrick_scale:!1,category:"people"},triumph:{keywords:["face","gas","phew","proud","pride"],char:"😤",fitzpatrick_scale:!1,category:"people"},fearful:{keywords:["face","scared","terrified","nervous","oops","huh"],char:"😨",fitzpatrick_scale:!1,category:"people"},disappointed_relieved:{keywords:["face","phew","sweat","nervous"],char:"😥",fitzpatrick_scale:!1,category:"people"},sleepy:{keywords:["face","tired","rest","nap"],char:"😪",fitzpatrick_scale:!1,category:"people"},sweat:{keywords:["face","hot","sad","tired","exercise"],char:"😓",fitzpatrick_scale:!1,category:"people"},dizzy_face:{keywords:["spent","unconscious","xox","dizzy"],char:"😵",fitzpatrick_scale:!1,category:"people"},astonished:{keywords:["face","xox","surprised","poisoned"],char:"😲",fitzpatrick_scale:!1,category:"people"},sneezing_face:{keywords:["face","gesundheit","sneeze","sick","allergy"],char:"🤧",fitzpatrick_scale:!1,category:"people"},mask:{keywords:["face","sick","ill","disease"],char:"😷",fitzpatrick_scale:!1,category:"people"},face_with_thermometer:{keywords:["sick","temperature","thermometer","cold","fever"],char:"🤒",fitzpatrick_scale:!1,category:"people"},face_with_head_bandage:{keywords:["injured","clumsy","bandage","hurt"],char:"🤕",fitzpatrick_scale:!1,category:"people"},sleeping:{keywords:["face","tired","sleepy","night","zzz"],char:"😴",fitzpatrick_scale:!1,category:"people"},zzz:{keywords:["sleepy","tired","dream"],char:"💤",fitzpatrick_scale:!1,category:"people"},clap:{keywords:["hands","praise","applause","congrats","yay"],char:"👏",fitzpatrick_scale:!0,category:"people"},call_me_hand:{keywords:["hands","gesture"],char:"🤙",fitzpatrick_scale:!0,category:"people"},"+1":{keywords:["thumbsup","yes","awesome","good","agree","accept","cool","hand","like"],char:"👍",fitzpatrick_scale:!0,category:"people"},"-1":{keywords:["thumbsdown","no","dislike","hand"],char:"👎",fitzpatrick_scale:!0,category:"people"},facepunch:{keywords:["angry","violence","fist","hit","attack","hand"],char:"👊",fitzpatrick_scale:!0,category:"people"},fist:{keywords:["fingers","hand","grasp"],char:"✊",fitzpatrick_scale:!0,category:"people"},v:{keywords:["fingers","ohyeah","hand","peace","victory","two"],char:"✌",fitzpatrick_scale:!0,category:"people"},ok_hand:{keywords:["fingers","limbs","perfect","ok","okay"],char:"👌",fitzpatrick_scale:!0,category:"people"},raised_hand:{keywords:["fingers","stop","highfive","palm","ban"],char:"✋",fitzpatrick_scale:!0,category:"people"},raised_back_of_hand:{keywords:["fingers","raised","backhand"],char:"🤚",fitzpatrick_scale:!0,category:"people"},muscle:{keywords:["arm","flex","hand","summer","strong","biceps"],char:"💪",fitzpatrick_scale:!0,category:"people"},handshake:{keywords:["agreement","shake"],char:"🤝",fitzpatrick_scale:!1,category:"people"},point_left:{keywords:["direction","fingers","hand","left"],char:"👈",fitzpatrick_scale:!0,category:"people"},point_right:{keywords:["fingers","hand","direction","right"],char:"👉",fitzpatrick_scale:!0,category:"people"},fu:{keywords:["hand","fingers","rude","middle","flipping"],char:"🖕",fitzpatrick_scale:!0,category:"people"},raised_hand_with_fingers_splayed:{keywords:["hand","fingers","palm"],char:"🖐",fitzpatrick_scale:!0,category:"people"},lips:{keywords:["mouth","kiss"],char:"👄",fitzpatrick_scale:!1,category:"people"},ear:{keywords:["face","hear","sound","listen"],char:"👂",fitzpatrick_scale:!0,category:"people"},eyes:{keywords:["look","watch","stalk","peek","see"],char:"👀",fitzpatrick_scale:!1,category:"people"},santa:{keywords:["festival","man","male","xmas","father christmas"],char:"🎅",fitzpatrick_scale:!0,category:"people"},sun_with_face:{keywords:["nature","morning","sky"],char:"🌞",fitzpatrick_scale:!1,category:"animals_and_nature"},crescent_moon:{keywords:["night","sleep","sky","evening","magic"],char:"🌙",fitzpatrick_scale:!1,category:"animals_and_nature"},star:{keywords:["night","yellow"],char:"⭐",fitzpatrick_scale:!1,category:"animals_and_nature"},zap:{keywords:["thunder","weather","lightning bolt","fast"],char:"⚡",fitzpatrick_scale:!1,category:"animals_and_nature"},fire:{keywords:["hot","cook","flame"],char:"🔥",fitzpatrick_scale:!1,category:"animals_and_nature"},snowflake:{keywords:["winter","season","cold","weather","christmas","xmas"],char:"❄️",fitzpatrick_scale:!1,category:"animals_and_nature"},soccer:{keywords:["sports","football"],char:"⚽",fitzpatrick_scale:!1,category:"activity"},basketball:{keywords:["sports","balls","NBA"],char:"🏀",fitzpatrick_scale:!1,category:"activity"},football:{keywords:["sports","balls","NFL"],char:"🏈",fitzpatrick_scale:!1,category:"activity"},baseball:{keywords:["sports","balls"],char:"⚾",fitzpatrick_scale:!1,category:"activity"},gift:{keywords:["present","birthday","christmas","xmas"],char:"🎁",fitzpatrick_scale:!1,category:"objects"},tada:{keywords:["party","congratulations","birthday","magic","circus","celebration"],char:"🎉",fitzpatrick_scale:!1,category:"objects"},black_nib:{keywords:["pen","stationery","writing","write"],char:"✒️",fitzpatrick_scale:!1,category:"objects"},memo:{keywords:["write","documents","stationery","pencil","paper","writing","legal","exam","quiz","test","study","compose"],char:"📝",fitzpatrick_scale:!1,category:"objects"},heart:{keywords:["love","like","valentines"],char:"❤️",fitzpatrick_scale:!1,category:"symbols"},yellow_heart:{keywords:["love","like","affection","valentines"],char:"💛",fitzpatrick_scale:!1,category:"symbols"},green_heart:{keywords:["love","like","affection","valentines"],char:"💚",fitzpatrick_scale:!1,category:"symbols"},vs:{keywords:["words","orange-square"],char:"🆚",fitzpatrick_scale:!1,category:"symbols"},speech_balloon:{keywords:["bubble","words","message","talk","chatting"],char:"💬",fitzpatrick_scale:!1,category:"symbols"},clock1:{keywords:["time","late","early","schedule"],char:"🕐",fitzpatrick_scale:!1,category:"symbols"}}},Ed7i:function(e,t){},Ex5D:function(e,t){},GRs5:function(e,t){},H7CW:function(e,t){},I75D:function(e,t){},IRgJ:function(e,t){},J1aW:function(e,t){},Mnv7:function(e,t){},Mqg6:function(e,t){},NHnr:function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=s("7+uW"),i=s("NYxO");a.default.use(i.a);var l=new i.a.Store({state:{user:{}},getters:{},mutations:{user(e,t){e.user=t,sessionStorage.setItem("user",JSON.stringify(t))}},actions:{}}),r={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{ref:"app",attrs:{id:"app"}},[t("router-view")],1)},staticRenderFns:[]};var n=s("VU/8")({name:"App",components:{},methods:{}},r,!1,function(e){s("mndT")},null,null).exports,o=s("/ocq"),c={data:()=>({user:{},searchField:""}),created(){this.getUserInfo(),this.getSearchField()},mounted(){},methods:{logout(){this.$confirm("退出登录？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"wraning"}).then(()=>{this.user={},this.$store.commit("user",{}),sessionStorage.clear(),this.$router.push("/")})},login(){this.$emit("login")},registeSchool(){this.$emit("registe","recruiter")},registeVolun(){this.$emit("registe","volunteer")},toSelfInfo(){let e=JSON.parse(sessionStorage.getItem("user"));1==e.userType&&this.$router.push("/user/vol/volunteer"),2==e.userType&&this.$router.push("/user/recr/recruiter")},getUserInfo(){this.user=JSON.parse(sessionStorage.getItem("user"))||{}},toArticlePost(){this.$router.push({path:"/search",query:{field:"article",text:""}})},toJob(){this.$router.push({path:"/search",query:{field:"job",text:""}})},toVol(){this.$router.push({path:"/search",query:{field:"vol",text:""}})},toSchool(){this.$router.push({path:"/search",query:{field:"school",text:""}})},getSearchField(){"/search"==this.$route.path?this.searchField=this.$route.query.field:this.searchField=""}},watch:{$route(e,t){this.getUserInfo(),this.getSearchField()}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"mainTopNav"},[a("img",{staticClass:"logo",attrs:{src:s("ZBJ4")}}),e._v(" "),a("nav",{staticClass:"mainNav"},[a("a",{attrs:{href:"/",title:"首页"}},[e._v("首页")]),e._v(" "),e.user.id?["1"==e.user.userType?a("a",{style:"job"==e.searchField?"background-color: rgba(255,255,255,.2);":"",attrs:{title:"教职岗位"},on:{click:e.toJob}},[e._v("教职岗位")]):e._e(),e._v(" "),"1"==e.user.userType?a("a",{style:"school"==e.searchField?"background-color: rgba(255,255,255,.2);":"",attrs:{title:"支教学校"},on:{click:e.toSchool}},[e._v("支教学校")]):e._e(),e._v(" "),"2"==e.user.userType?a("a",{style:"vol"==e.searchField?"background-color: rgba(255,255,255,.2);":"",attrs:{title:"支教志愿者"},on:{click:e.toVol}},[e._v("支教志愿者")]):e._e()]:[a("a",{style:"job"==e.searchField?"background-color: rgba(255,255,255,.2);":"",attrs:{title:"教职岗位"},on:{click:e.toJob}},[e._v("教职岗位")]),e._v(" "),a("a",{style:"school"==e.searchField?"background-color: rgba(255,255,255,.2);":"",attrs:{title:"支教学校"},on:{click:e.toSchool}},[e._v("支教学校")]),e._v(" "),a("a",{style:"vol"==e.searchField?"background-color: rgba(255,255,255,.2);":"",attrs:{title:"支教志愿者"},on:{click:e.toVol}},[e._v("支教志愿者")])],e._v(" "),a("a",{style:"article"==e.searchField||"post"==e.searchField?"background-color: rgba(255,255,255,.2);":"",attrs:{title:"心得交流"},on:{click:e.toArticlePost}},[e._v("心得交流")])],2),e._v(" "),e.user&&e.user.id?a("div",[a("el-popover",{attrs:{placement:"bottom-end",width:"50",trigger:"hover"}},[a("el-button",{attrs:{type:"medium"},on:{click:e.logout}},[e._v("登出")]),e._v(" "),a("div",{staticClass:"user",attrs:{slot:"reference"},slot:"reference"},[a("button",{on:{click:e.toSelfInfo}},[e._v(e._s(e.user.name))])])],1)],1):a("div",[a("nav",{staticClass:"want"},[a("a",{attrs:{title:"我想支教"},on:{click:e.registeVolun}},[e._v("我想支教")]),e._v(" "),a("a",{attrs:{title:"招募教师"},on:{click:e.registeSchool}},[e._v("招募教师")])]),e._v(" "),a("div",{staticClass:"user"},[a("button",{on:{click:e.login}},[e._v("登录")])])])])},staticRenderFns:[]};var u=s("VU/8")(c,d,!1,function(e){s("Nd6v")},"data-v-18a0c39f",null).exports,h={name:"App",components:{topNav:u},data:()=>({user:{}}),mounted(){this.user=JSON.parse(sessionStorage.getItem("user"))||{}},methods:{registe(e){this.$router.push("/registe/"+e)},login(){this.$router.push("/login")},manage(){this.$router.push("/back")}},watch:{$route(e,t){this.user=JSON.parse(sessionStorage.getItem("user"))||{},window.scrollTo(0,0)}}},p={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"appFront",attrs:{id:"appFront"}},[s("div",{ref:"top",staticClass:"top"},[s("topNav",{on:{login:e.login,registe:e.registe}})],1),e._v(" "),s("div",{ref:"mainBody",staticClass:"main-body"},[s("router-view")],1),e._v(" "),s("div",{staticClass:"footer"},[e._m(0),e._v(" "),s("div",{staticClass:"bottom",on:{click:e.manage}},[e._v("师者教师志愿者招募平台 ©2020 ")])]),e._v(" "),e.user.id?e._e():s("div",{staticClass:"user-mask"},[s("span",[e._v("登录以查看更多信息")])])])},staticRenderFns:[function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main"},[s("div",{staticClass:"report"},[s("ul",[s("li",[e._v("侵权举报")]),e._v(" "),s("li",[e._v("有害信息举报")]),e._v(" "),s("li",[e._v("违法和不良信息举报")])])]),e._v(" "),s("div",{staticClass:"license"},[s("ul",[s("li",[e._v("联系我们")]),e._v(" "),s("li",[e._v("网络文化经营许可证")]),e._v(" "),s("li",[e._v("电信与服务业务经营许可证")])])])])}]};var m=s("VU/8")(h,p,!1,function(e){s("eOTS")},null,null).exports,v={name:"App",data:()=>({activeIdx:"/manager/volunteer"}),components:{topNav:u},mounted(){this.activeIdx=this.$route.path},methods:{toPath(e){this.$router.push(e)}},watch:{$route(e,t){this.activeIdx=e.path}}},f={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"app",staticClass:"app"},[s("div",{staticClass:"main"},[s("div",{ref:"top",staticClass:"top"},[s("div",{staticClass:"title"},[e._v("\n        师者\n      ")]),e._v(" "),s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":e.activeIdx,router:""}},[s("el-menu-item",{attrs:{index:"/manager/volunteer"},on:{click:function(t){return e.toPath("/manager/volunteer")}}},[s("i",{staticClass:"el-icon-user"}),e._v(" "),s("span",[e._v("教资认证")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/recruiter"},on:{click:function(t){return e.toPath("/manager/recruiter")}}},[s("i",{staticClass:"el-icon-help"}),e._v(" "),s("span",[e._v("招募者认证")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/articles"},on:{click:function(t){return e.toPath("/manager/articles")}}},[s("i",{staticClass:"el-icon-document"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/manager/posts"},on:{click:function(t){return e.toPath("/manager/posts")}}},[s("i",{staticClass:"el-icon-s-promotion"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("帖子")])])],1)],1),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-view"},[s("router-view")],1),e._v(" "),e._m(0)])])])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"footer"},[t("div",{staticClass:"bottom"},[this._v("师者教师志愿者招募平台 ©2019 ")])])}]};var y=s("VU/8")(v,f,!1,function(e){s("AWIB")},null,null).exports,g={name:"",data:()=>({user:{},school:{},recruiter:{}}),props:{teacher:{type:Object,default:function(){return{}}}},components:{},mounted(){this.user=JSON.parse(sessionStorage.getItem("user"))||{},this.$request.selectSchoolById({schoolId:this.teacher.schoolId}).then(e=>{this.school=e.data}),this.$request.getRecuriter({userId:this.teacher.userId}).then(e=>{this.recruiter=e.data})},methods:{showJob(){this.$router.push({path:"/job",query:{id:this.teacher.id}})},showSchool(){this.$router.push({path:"/school",query:{id:this.school.id}})},addContact(){this.user=JSON.parse(sessionStorage.getItem("user"))||{};let e=this;if(this.user.id){let t={fromId:this.user.id,toId:e.teacher.userId,content:"你好！"};e.$request.insertChat(t).then(s=>{e.$router.push("/user/vol/chat",t)})}else this.$message.warning("请登录")}}},_={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"teacher"},[s("div",{staticClass:"mainInfo",on:{click:e.showJob}},[s("div",{staticClass:"name"},[e._v("职位:"),s("p",{attrs:{title:e.teacher.name}},[e._v(e._s(e.teacher.name.substr(0,5)+(e.teacher.name.length>5?"...":"")))])]),e._v(" "),s("div",{staticClass:"require"},[s("span",[e._v("学历要求:"+e._s(e.teacher.education))])])]),e._v(" "),s("div",{staticClass:"schoolInfo",on:{click:e.showSchool}},[s("div",{staticClass:"name"},[e._v("学校:"),s("p",{attrs:{title:e.teacher.name}},[e._v(e._s(e.school.name))])]),e._v(" "),s("div",{staticClass:"require"},[s("span",[e._v(e._s(e.school.addressName))])])]),e._v(" "),s("div",{staticClass:"contactInfo"},[s("div",{staticClass:"change"},[s("span",[e._v(e._s(e.recruiter.name))]),e._v(" "),s("span",[e._v(e._s(e.recruiter.email))])]),e._v(" "),s("el-button",{staticClass:"btnChange",on:{click:e.addContact}},[e._v("立即沟通")])],1)])},staticRenderFns:[]};var b=s("VU/8")(g,_,!1,function(e){s("Tvwn")},"data-v-3d538966",null).exports,C={name:"",data:()=>({contact:!1,user:{}}),props:{volunteer:{type:Object,default:function(){return{}}}},components:{},mounted(){this.user=JSON.parse(sessionStorage.getItem("user"))||{};this.volunteer.educationName=[{name:"高中及以下",code:"1"},{name:"高中",code:"2"},{name:"大专",code:"3"},{name:"本科",code:"4"},{name:"硕士研究生",code:"5"},{name:"博士研究生",code:"6"}].filter(e=>e.code==this.volunteer.education)[0].name},methods:{addContact(){this.user=JSON.parse(sessionStorage.getItem("user"))||{};let e=this;if(this.user.id){let t={fromId:this.user.id,toId:e.volunteer.userId,content:"你好！"};e.$request.insertChat(t).then(s=>{e.$router.push("/user/recr/chat",t)})}else this.$message.warning("请登录")}},watch:{volunteer(e,t){e.educationName=[{name:"高中及以下",code:"1"},{name:"高中",code:"2"},{name:"大专",code:"3"},{name:"本科",code:"4"},{name:"硕士研究生",code:"5"},{name:"博士研究生",code:"6"}].filter(t=>t.code==e.education)[0].name}}},k={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"volunteer"},[s("div",{staticClass:"mainInfo"},[s("div",{staticClass:"name"},[s("p",[e._v(e._s(e.volunteer.name))])]),e._v(" "),s("div",{staticClass:"require"},[s("span",[e._v(e._s(e.volunteer.educationName))])])]),e._v(" "),s("div",{staticClass:"schoolInfo"},[e._m(0),e._v(" "),s("div",{staticClass:"require"},[s("span",[e._v("\n        "+e._s(e.volunteer.addressName)+"\n      ")])])]),e._v(" "),s("div",{staticClass:"contactInfo"},[s("el-button",{staticClass:"btnChange",on:{click:e.addContact}},[e._v("立即沟通")])],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"name"},[t("p",[this._v("现居地")])])}]};var I=s("VU/8")(C,k,!1,function(e){s("spDy")},"data-v-38169a59",null).exports,w={name:"essay",data:()=>({image:""}),props:{essay:{type:Object,default:function(){return{}}}},components:{},created(){},mounted(){if(this.essay.imgs&&"[]"!=this.essay.imgs){let e=this.essay.imgs.substr(1,this.essay.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/"));this.image=e[0]}},methods:{showArticle(){this.$router.push({path:"/article",query:{id:this.essay.id}})}},watch:{essay:{handler(e,t){if(e.imgs&&"[]"!=e.imgs){let t=e.imgs.substr(1,e.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/"));this.image=t[0]}}}}},D={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-col",{staticClass:"elCol",attrs:{span:6},on:{click:e.showArticle}},[s("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"},shadow:"hover"}},[e.image?s("img",{staticClass:"image",attrs:{src:e.image}}):s("div",{staticClass:"image none-image"},[s("i",{staticClass:"el-icon-picture-outline"}),e._v(" "),s("label",[e._v("暂无照片")])]),e._v(" "),s("div",{staticClass:"bottom_text"},[e._v("\n        "+e._s(e.essay.title.substr(0,10)+(e.essay.title.length>10?"...":""))+"\n      ")]),e._v(" "),s("p",[e._v("\n        发布时间:"+e._s(e.essay.establishDt)+"\n      ")]),e._v(" "),s("div",{staticClass:"mask",on:{click:e.showArticle}})])],1)},staticRenderFns:[]};var $=s("VU/8")(w,D,!1,function(e){s("H7CW"),s("yE5Q")},"data-v-eb750b4c",null).exports,x={name:"disguss",data:()=>({image:"",commentCnt:0}),props:{disguss:{type:Object,default:function(){return{}}}},components:{},mounted(){if(this.disguss.imgs&&"[]"!=this.disguss.imgs){let e=this.disguss.imgs.substr(1,this.disguss.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/"));this.image=e[0]}this.getCommentCnt()},methods:{showPost(){this.$router.push({path:"/post",query:{id:this.disguss.id}})},getCommentCnt(){this.$request.selectCommentByCondition({type:2,mainId:this.disguss.id}).then(e=>{this.commentCnt=e.data.length})}},watch:{disguss:{handler(e,t){if(e.imgs&&"[]"!=e.imgs){let t=e.imgs.substr(1,e.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/"));this.image=t[0]}}}}},z={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main",on:{click:e.showPost}},[s("div",{staticClass:"inner"},[e._t("num"),e._v(" "),s("div",{staticClass:"title"},[s("div",{staticClass:"name"},[e._v(e._s(e.disguss.title))]),e._v(" "),s("div",{staticClass:"content"},[e._v(e._s(e.disguss.content))]),e._v(" "),s("div",{staticClass:"bottom"},[s("span",[s("i",{staticClass:"el-icon-self-taolunhui"}),e._v("\n          "+e._s(e.commentCnt)+"个评论\n        ")])])]),e._v(" "),s("div",{staticClass:"image"},[s("img",{attrs:{src:e.image,alt:""}})])],2)])},staticRenderFns:[]};var j=s("VU/8")(x,z,!1,function(e){s("kUeD")},"data-v-73c8b2c1",null).exports,E={name:"login",data:()=>({ruleForm:{user:"",pass:""},rules:{user:[{required:!0,message:"请输入用户名",trigger:"blur"}],pass:[{required:!0,message:"请输入密码",trigger:"blur"}]}}),props:{},components:{},mounted(){},methods:{cancel(){this.$router.push("/")},registe(e){1==e&&this.$router.push("/registe/volunteer"),2==e&&this.$router.push("/registe/recruiter")},login(){let e={name:this.ruleForm.user,password:this.ruleForm.pass};this.$request.login(e).then(e=>{if(e.data){e.data.id;this.$store.commit("user",e.data),sessionStorage.setItem("user",JSON.stringify(e.data)),1==e.data.userType&&this.$router.push("/user/vol/volunteer"),2==e.data.userType&&this.$router.push("/user/recr/recruiter")}else this.$message.error("用户名或密码错误")})}}},S={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"login",staticClass:"login"},[s("div",{staticClass:"title"},[e._v("\n    师者教师志愿者招募平台\n  ")]),e._v(" "),s("div",{staticClass:"form-out-cont"},[s("el-form",{ref:"ruleForm",staticClass:"form-cont",attrs:{model:e.ruleForm,"status-icon":"",rules:e.rules,"label-width":"32px"}},[s("div",{staticClass:"login-form-middle"},[s("el-form-item",{attrs:{prop:"user"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"邮箱/手机号/身份证号"},model:{value:e.ruleForm.user,callback:function(t){e.$set(e.ruleForm,"user",t)},expression:"ruleForm.user"}},[s("i",{staticClass:"el-input__icon el-icon-user",attrs:{slot:"prepend"},slot:"prepend"})])],1),e._v(" "),s("el-form-item",{attrs:{prop:"pass"}},[s("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},nativeOn:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.login(t)}},model:{value:e.ruleForm.pass,callback:function(t){e.$set(e.ruleForm,"pass",t)},expression:"ruleForm.pass"}},[s("i",{staticClass:"el-input__icon el-icon-lock",attrs:{slot:"prepend"},slot:"prepend"})])],1),e._v(" "),s("el-form-item",[s("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.login}},[e._v("登录")]),e._v(" "),s("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:e.cancel}},[e._v("取消")])],1)],1),e._v(" "),s("p",[e._v("没有账号？\n        "),s("label",{staticClass:"registe",on:{click:function(t){return e.registe(1)}}},[e._v("我想支教")]),e._v(" "),s("label",{staticClass:"registe",on:{click:function(t){return e.registe(2)}}},[e._v("招募教师")])])])],1)])},staticRenderFns:[]};var F=s("VU/8")(E,S,!1,function(e){s("IRgJ"),s("35ZO")},"data-v-51f5e2bc",null).exports,q=s("TQvf"),A=s.n(q),N={components:{teacher:b,volunteer:I,essay:$,disguss:j,login:F},data:()=>({url:"https://lingxidan.github.io/",panels:{},moveArrow:!0,articles:[],searchSel:[{id:0,field:"total",label:"全部"},{id:1,field:"job",label:"职位"},{id:2,field:"school",label:"学校"},{id:3,field:"vol",label:"志愿者"},{id:4,field:"article",label:"文章"},{id:5,field:"post",label:"帖子"}],teachers:[],volunteers:[],searchMsg:{select:"",text:""},posts:[],user:{}}),mounted(){this.user=JSON.parse(sessionStorage.getItem("user"))||{};let e=this;this.panels.top=this.$parent.$refs.top,this.panels.search=this.$refs.search,this.panels.rightNav=this.$refs.rightNav,this.panels.leftNav=this.$refs.leftNav,this.panels.login=this.$refs.login,this.panels.login.style.display="none",this.panels.info=this.$refs.info,this.handleScroll(),this.searchMsg.select=this.searchSel[0].field,window.addEventListener("scroll",this.handleScroll,!0),this.$request.selectJobByCondition({}).then(e=>{this.teachers=e.data.slice(0,6)}),this.$request.getVols({}).then(t=>{let s=[];for(let e=0;e<t.data.length;e++)s.push(t.data[e]);e.volunteers=s}),this.$request.getRecrs({}).then(e=>{let t=[];for(let s=0;s<e.data.length;s++)t.push(e.data[s])}),this.$request.selectArticleByCondition({}).then(t=>{e.articles=t.data.slice(0,8)}),this.$request.selectPostByCondition({}).then(t=>{e.posts=t.data})},methods:{registe(e){this.$router.push("/registe/"+e)},login(){this.$router.push("/login")},cancel(){this.panels.login.style.display="none"},handleScroll(){let e=this.panels.top,t=this.panels.search,s=this.panels.rightNav,a=this.panels.leftNav,i=this.panels.info,l=document.documentElement.scrollTop||document.body.scrollTop,r=e.clientHeight+80,n=t.clientHeight;t.clientWidth;l>r?(t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.right="0px",t.style.background="linear-gradient(to bottom,rgb(105, 141, 116) 20%, transparent 80%)",t.style.width="80%",t.style.padding="1vh 10vw",t.style.zIndex="5",s.style.opacity="1",a.style.opacity="1",s.style.display="",a.style.display="",i.style.marginTop=n+"px"):(t.style.position="relative",t.style.background="inherit",t.style.width="100%",t.style.padding="1vh 0",s.style.display="none",a.style.display="none",s.style.opacity="0",a.style.opacity="0",i.style.marginTop="0px")},handleTopEnter(){this.moveArrow=!1},handleTopLeave(){this.moveArrow=!0},scrollTop(){let e=setInterval(function(){let t=document.documentElement.scrollTop||document.body.scrollTop;window.scrollTo(0,t-80),t<=0&&clearInterval(e)},50);window.addEventListener("click",function(){clearInterval(e)},!0)},copy(){let e=new A.a(this.$refs.copyBtn);e.on("success",t=>{this.$message({message:"复制成功！非常感谢您的分享~",type:"success",customClass:"el-self-message",iconClass:"el-icon-self-success"}),e.destroy()}),e.on("error",t=>{this.$message({message:"复制失败了T_T，请您手动复制",type:"error",customClass:"el-self-message"}),e.destroy()})},searchByKeyword(){this.$router.push({path:"/search",query:{field:this.searchMsg.select,text:this.searchMsg.text}})}},watch:{$route(e,t){this.user=JSON.parse(sessionStorage.getItem("user"))||{}}}},T={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"index"},[s("div",{ref:"rightNav",staticClass:"rightNav"},[s("ul",[s("li",{on:{click:e.login}},[e._v("登录")]),e._v(" "),s("el-popover",{attrs:{placement:"left",trigger:"hover"}},[s("ul",{staticClass:"registe"},[s("li",{on:{click:function(t){return e.registe("recruiter")}}},[e._v("我想招募")]),e._v(" "),s("li",{on:{click:function(t){return e.registe("volunteer")}}},[e._v("我想支教")])]),e._v(" "),s("li",{staticStyle:{"border-top":"none"},attrs:{slot:"reference"},slot:"reference"},[e._v("注册")])]),e._v(" "),s("li",[e._v("聊天室")]),e._v(" "),s("el-popover",{attrs:{placement:"left",trigger:"hover"}},[s("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"el-input__inner copy-input",attrs:{type:"text",id:"copy_url",readonly:""},domProps:{value:e.url},on:{input:function(t){t.target.composing||(e.url=t.target.value)}}}),e._v(" "),s("button",{ref:"copyBtn",staticClass:"copyBtn",attrs:{"data-clipboard-target":"#copy_url"},on:{click:e.copy}},[e._v("\r\n          复制网址\r\n        ")]),e._v(" "),s("li",{staticStyle:{"border-top":"none"},attrs:{slot:"reference"},slot:"reference"},[e._v("传播分享")])])],1)]),e._v(" "),s("div",{ref:"leftNav",staticClass:"leftNav"},[s("ul",[e._m(0),e._v(" "),e._m(1),e._v(" "),e._m(2),e._v(" "),s("li",{staticClass:"top",on:{mouseenter:function(t){return t.target!==t.currentTarget?null:e.handleTopEnter(t)},mouseleave:function(t){return t.target!==t.currentTarget?null:e.handleTopLeave(t)},click:e.scrollTop}},[e.moveArrow?s("p",{staticClass:"arrow"},[e._v("<")]):s("p",[e._v("返回顶部")])])])]),e._v(" "),s("div",{staticClass:"main"},[s("div",{ref:"search",staticClass:"search"},[s("el-select",{staticClass:"searchSel",attrs:{name:"",id:""},model:{value:e.searchMsg.select,callback:function(t){e.$set(e.searchMsg,"select",t)},expression:"searchMsg.select"}},[e.user.id?[e._l(e.searchSel,function(t){return"1"==e.user.userType&&"vol"!=t.field?s("el-option",{key:t.id,attrs:{value:t.field,label:t.label}}):e._e()}),e._v(" "),e._l(e.searchSel,function(t){return"2"==e.user.userType&&"job"!=t.field&&"school"!=t.field?s("el-option",{key:t.id,attrs:{value:t.field,label:t.label}}):e._e()})]:e._l(e.searchSel,function(e){return s("el-option",{key:e.id,attrs:{value:e.field,label:e.label}})})],2),e._v(" "),s("el-input",{staticClass:"input-with-select searchInput",attrs:{placeholder:"请输入内容"},model:{value:e.searchMsg.text,callback:function(t){e.$set(e.searchMsg,"text",t)},expression:"searchMsg.text"}}),e._v(" "),s("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.searchByKeyword}},[e._v("搜索")])],1),e._v(" "),s("div",{ref:"info",staticClass:"articles",attrs:{id:"articles"}},[e._m(3),e._v(" "),s("el-row",{attrs:{gutter:10}},e._l(e.articles,function(e,t){return s("essay",{key:t,attrs:{essay:e}})}),1)],1),e._v(" "),s("div",{staticClass:"info",attrs:{id:"info"}},[e._m(4),e._v(" "),e.user.id&&"1"==e.user.userType?s("div",{staticClass:"teachers"},e._l(e.teachers,function(e,t){return s("teacher",{key:t,staticClass:"single-teacher",attrs:{teacher:e}})}),1):e._e(),e._v(" "),e.user.id&&"2"==e.user.userType?s("div",{staticClass:"volunteers"},e._l(e.volunteers,function(e,t){return s("volunteer",{key:t,staticClass:"single-volunteers",attrs:{volunteer:e}})}),1):e._e(),e._v(" "),e.user.id?e._e():s("div",{staticClass:"teachers all"},e._l(e.teachers,function(e,t){return s("teacher",{key:t,staticClass:"single-teacher",attrs:{teacher:e}})}),1),e._v(" "),e.user.id?e._e():s("div",{staticClass:"volunteers all"},e._l(e.volunteers,function(e,t){return s("volunteer",{key:t,staticClass:"single-volunteers",attrs:{volunteer:e}})}),1)]),e._v(" "),s("div",{staticClass:"postCard",attrs:{id:"postCard"}},[e._m(5),e._v(" "),s("div",{staticClass:"disgusses"},e._l(e.posts,function(e,t){return s("disguss",{key:t,staticClass:"post-single",attrs:{disguss:e}})}),1)])]),e._v(" "),s("div",{ref:"login",staticClass:"login"},[s("login",{on:{cancel:e.cancel}})],1)])},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"#articles"}},[this._v("日志文章")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"#info"}},[this._v("招募信息")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("li",[t("a",{attrs:{href:"#postCard"}},[this._v("讨论交流")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"name"},[this._v("日志文章")]),this._v(" "),t("div",{staticClass:"more"},[this._v("查看更多 >>")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"name"},[this._v("招募信息")]),this._v(" "),t("div",{staticClass:"more"},[this._v("查看更多 >>")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"title"},[t("div",{staticClass:"name"},[this._v("讨论交流")]),this._v(" "),t("div",{staticClass:"more"},[this._v("查看更多 >>")])])}]};var L=s("VU/8")(N,T,!1,function(e){s("e+dm")},"data-v-f6dcb3e6",null).exports,J={name:"school-main",data:()=>({user:{},image:""}),props:{school:{type:Object,default:function(){return{}}}},components:{},created(){},mounted(){this.user=JSON.parse(sessionStorage.getItem("user"))||{},this.getImage()},methods:{showSchool(){this.$router.push({path:"/school",query:{id:this.school.id}})},getImage(){"[]"!=this.school.imgs?this.image=this.school.imgs.substr(1,this.school.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):this.school.imgs=[]}},watch:{school(e,t){this.getImage()}}},P={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"school-main",on:{click:e.showSchool}},[s("div",{staticClass:"mainInfo"},[s("div",{staticClass:"name"},[e._v("学校名:"),s("p",{attrs:{title:e.school.name}},[e._v(e._s(e.school.name.substr(0,10)+(e.school.name.length>10?"...":"")))])]),e._v(" "),s("div",{staticClass:"require"},[s("span",[e._v("教育等级:"+e._s(e.school.education))])])]),e._v(" "),s("div",{staticClass:"schoolInfo"},[s("div",{staticClass:"name"},[s("p",[e._v(e._s(e.school.addressName))])]),e._v(" "),s("div",{staticClass:"require"},[e._v("\n      成立日期:"),s("span",[e._v(e._s(e.school.establishDt))])])]),e._v(" "),s("div",{staticClass:"image"},[s("img",{attrs:{src:e.image,alt:""}})])])},staticRenderFns:[]};var B=s("VU/8")(J,P,!1,function(e){s("bips")},"data-v-23e611e8",null).exports,R={name:"inputSelect",data:()=>({searchData:{inputData:{},selectData:{}}}),props:{inputs:{default:()=>new Array},selects:{default:()=>new Array},searchBtn:{default:!1}},components:{},mounted(){},methods:{search(){this.$emit("search",this.searchData)}}},V={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"inputSelect",staticClass:"search-cont"},[e._l(e.inputs,function(t,a){return s("el-input",{key:"input"+a,style:{width:t.width+"px"},attrs:{placeholder:t.placeholder,disabled:!!t.disabled&&t.disabled,clearable:!!t.clearable&&t.clearable,size:t.size?t.clearable:"medium"},model:{value:e.searchData.inputData[t.model],callback:function(s){e.$set(e.searchData.inputData,t.model,s)},expression:"searchData.inputData[item.model]"}})}),e._v(" "),e._l(e.selects,function(t,a){return s("el-select",{key:"select"+a,style:{width:t.width+"px"},attrs:{placeholder:t.placeholder,clearable:void 0===t.clearable||t.clearable,filterable:!!t.filterable&&t.filterable,disabled:!!t.disabled&&t.disabled,size:t.size?t.size:"medium"},on:{change:function(e){t.change&&t.change(e)},clear:function(e){t.clear&&t.clear()}},model:{value:e.searchData.selectData[t.model],callback:function(s){e.$set(e.searchData.selectData,t.model,s)},expression:"searchData.selectData[item.model]"}},e._l(t.options,function(e,a){return s("el-option",{key:"option"+a,attrs:{label:e[t.label],value:e[t.value]}})}),1)}),e._v(" "),e.searchBtn?s("el-button",{attrs:{icon:"el-icon-search",type:"primary",circle:""},on:{click:e.search}}):e._e()],2)},staticRenderFns:[]};var O=s("VU/8")(R,V,!1,function(e){s("w5M+")},null,null).exports,M={name:"pagination",data:()=>({}),props:{paginationConf:{default:()=>new Object},currentPage:{default:1}},components:{},mounted(){},methods:{handleSizeChange(e){this.$emit("pageSizesChange",e)},handleCurrentChange(e){this.$emit("pageChange",e)}}},U={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"pagination-cont"},[t("el-pagination",{attrs:{"current-page":this.currentPage,"page-sizes":this.paginationConf.sizes,"page-size":this.paginationConf.size,total:this.paginationConf.total,layout:"total, prev, pager, next, jumper"},on:{"size-change":this.handleSizeChange,"current-change":this.handleCurrentChange}})],1)},staticRenderFns:[]};var G=s("VU/8")(M,U,!1,function(e){s("WcXL")},"data-v-419d25da",null).exports,X={name:"search-list",data:()=>({activeName:"job",posts:[],articles:[],searchSel:[{id:0,field:"total",label:"全部"},{id:1,field:"job",label:"职位"},{id:2,field:"school",label:"学校"},{id:3,field:"vol",label:"志愿者"},{id:4,field:"article",label:"文章"},{id:5,field:"post",label:"帖子"}],searchMsg:{select:"",text:""},teachers:[],schools:[],volunteers:[],user:{}}),props:{},components:{inputSelect:O,pagination:G,teacher:b,volunteer:I,essay:$,disguss:j,schoolInfo:B},created(){this.user=JSON.parse(sessionStorage.getItem("user"))||{},this.searchMsg.select=this.$route.query.field,this.searchMsg.text=this.$route.query.text,this.search()},mounted(){},methods:{search(){let e=this;"total"!=this.searchMsg.select&&"vol"!=this.searchMsg.select||(e.$request.getVols({keyword:this.searchMsg.text}).then(e=>{this.volunteers=e.data}),this.activeName=this.searchMsg.select),"total"!=this.searchMsg.select&&"job"!=this.searchMsg.select||(e.$request.selectJobByCondition({keyword:this.searchMsg.text}).then(e=>{this.teachers=e.data}),this.activeName=this.searchMsg.select),"total"!=this.searchMsg.select&&"school"!=this.searchMsg.select||(e.$request.selectSchoolByCondition({keyword:this.searchMsg.text}).then(e=>{this.schools=e.data}),this.activeName=this.searchMsg.select),"total"!=this.searchMsg.select&&"article"!=this.searchMsg.select||(e.$request.selectArticleByCondition({keyword:this.searchMsg.text}).then(e=>{this.articles=e.data}),this.activeName=this.searchMsg.select),"total"!=this.searchMsg.select&&"post"!=this.searchMsg.select||(e.$request.selectPostByCondition({keyword:this.searchMsg.text}).then(e=>{this.posts=e.data}),this.activeName=this.searchMsg.select),"total"==this.searchMsg.select&&(this.activeName=this.searchMsg.select,this.user.id?(1==this.user.userType&&(this.activeName="job"),2==this.user.userType&&(this.activeName="vol")):this.activeName="job"),this.$router.push({path:"/search",query:{field:this.searchMsg.select,text:this.searchMsg.text}})},tabClick(e){this.$router.push({path:"/search",query:{field:e.name,text:this.searchMsg.text}})}},watch:{$route(e,t){this.searchMsg.select=this.$route.query.field,this.searchMsg.text=this.$route.query.text,this.search()}}},H={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"search-list"},[s("div",{ref:"search",staticClass:"search"},[s("el-select",{staticClass:"searchSel",attrs:{name:"",id:""},model:{value:e.searchMsg.select,callback:function(t){e.$set(e.searchMsg,"select",t)},expression:"searchMsg.select"}},[e.user.id?[e._l(e.searchSel,function(t){return"1"==e.user.userType&&"vol"!=t.field?s("el-option",{key:t.id,attrs:{value:t.field,label:t.label}}):e._e()}),e._v(" "),e._l(e.searchSel,function(t){return"2"==e.user.userType&&"job"!=t.field&&"school"!=t.field?s("el-option",{key:t.id,attrs:{value:t.field,label:t.label}}):e._e()})]:e._l(e.searchSel,function(e){return s("el-option",{key:e.id,attrs:{value:e.field,label:e.label}})})],2),s("el-input",{staticClass:"input-with-select searchInput",attrs:{placeholder:"请输入内容"},model:{value:e.searchMsg.text,callback:function(t){e.$set(e.searchMsg,"text",t)},expression:"searchMsg.text"}}),s("el-button",{attrs:{icon:"el-icon-search"},on:{click:e.search}},[e._v("搜索")])],1),e._v(" "),s("div",{staticClass:"search-tab"},[s("el-tabs",{on:{"tab-click":e.tabClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[e.user.id?["1"==e.user.userType?s("el-tab-pane",{attrs:{label:"职位",name:"job"}},[e.teachers.length>0?s("div",{staticClass:"main-search-post"},e._l(e.teachers,function(e,t){return s("teacher",{key:t,staticClass:"half",attrs:{teacher:e}})}),1):s("span",[e._v("无结果")])]):e._e()]:[s("el-tab-pane",{attrs:{label:"职位",name:"job"}},[e.teachers.length>0?s("div",{staticClass:"main-search-post"},e._l(e.teachers,function(e,t){return s("teacher",{key:t,staticClass:"half",attrs:{teacher:e}})}),1):s("span",[e._v("无结果")])])],e._v(" "),e.user.id?["1"==e.user.userType?s("el-tab-pane",{attrs:{label:"学校",name:"school"}},[e.schools.length>0?s("div",{staticClass:"main-search-post"},e._l(e.schools,function(e,t){return s("school-info",{key:t,staticClass:"half",attrs:{school:e}})}),1):s("span",[e._v("无结果")])]):e._e()]:[s("el-tab-pane",{attrs:{label:"学校",name:"school"}},[e.schools.length>0?s("div",{staticClass:"main-search-post"},e._l(e.schools,function(e,t){return s("school-info",{key:t,staticClass:"half",attrs:{school:e}})}),1):s("span",[e._v("无结果")])])],e._v(" "),e.user.id?["2"==e.user.userType?s("el-tab-pane",{attrs:{label:"志愿者",name:"vol"}},[e.volunteers.length>0?s("div",{staticClass:"main-search-post"},e._l(e.volunteers,function(e,t){return s("volunteer",{key:t,staticClass:"half",attrs:{volunteer:e}})}),1):s("span",[e._v("无结果")])]):e._e()]:[s("el-tab-pane",{attrs:{label:"志愿者",name:"vol"}},[e.volunteers.length>0?s("div",{staticClass:"main-search-post"},e._l(e.volunteers,function(e,t){return s("volunteer",{key:t,staticClass:"half",attrs:{volunteer:e}})}),1):s("span",[e._v("无结果")])])],e._v(" "),s("el-tab-pane",{attrs:{label:"文章",name:"article"}},[e.articles.length>0?s("div",{staticClass:"main-search"},e._l(e.articles,function(e,t){return s("essay",{key:t,staticClass:"article",attrs:{essay:e}})}),1):s("span",[e._v("无结果")])]),e._v(" "),s("el-tab-pane",{attrs:{label:"帖子",name:"post"}},[e.posts.length>0?s("div",{staticClass:"main-search-post"},e._l(e.posts,function(e,t){return s("disguss",{key:t,staticClass:"half",attrs:{disguss:e}})}),1):s("span",[e._v("无结果")])])],2)],1)])},staticRenderFns:[]};var Z=s("VU/8")(X,H,!1,function(e){s("NOhF"),s("iEqy")},"data-v-d426b602",null).exports;const W=s("Db2N");var K={name:"chat",data:()=>({getChatMsg:null,msg:"",findText:"",user:{name:"张XX"},chatList:{},emojijs:W,currentChatList:[],user:{},personList:[],chatTimer:[],chatContentList:[],current:{},showEmojijs:!1,chat:{fromId:0,toId:0,content:""}}),props:{},components:{},created(){this.chatList={},this.user=JSON.parse(sessionStorage.getItem("user")),this.$request.selectAllChat({uesrId:this.user.id}).then(e=>{let t=e.data,s=[];t.forEach(e=>{e.fromId==this.user.id&&s.indexOf(e.toId)<0&&s.push(e.toId),e.toId==this.user.id&&s.indexOf(e.fromId)<0&&s.push(e.fromId)});let a=[];1==this.user.userType&&s.forEach((e,s)=>{let i=[];t.forEach(t=>{t.fromId!=e&&t.toId!=e||i.push(t)}),this.$request.getRecuriter({userId:e}).then(e=>{this.personList.push(e.data),a.push({person:e.data,contentList:i});let t=setInterval(()=>{this.$request.selectByFromTo({userId:this.user.id,dt:this.chatContentList[s].contentList[this.chatContentList[s].contentList.length-1].dt}).then(e=>{e.data.length>0&&(this.chatContentList[s].contentList=[...this.chatContentList[s].contentList,...e.data])})},1e3);this.chatTimer.push(t)})}),2==this.user.userType&&s.forEach(e=>{let s=[];t.forEach(t=>{t.fromId!=e&&t.toId!=e||s.push(t)}),this.$request.getVolunteer({userId:e}).then(e=>{this.personList.push(e.data),a.push({person:e.data,contentList:s})})}),this.chatContentList=a})},mounted(){},methods:{addEmoji(e){this.chat.content+=e.char,this.showEmojijs=!1},onSubmit(){this.chat.fromId=this.user.id,this.chat.toId=this.current.person.userId,this.$request.insertChat(this.chat).then(e=>{this.chat.content=""})},onEnter(){this.chat.content+="\n"}},updated(){this.$refs.messageList&&(this.$refs.messageList.scrollTop=this.$refs.messageList.scrollHeight)}},Q={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"chat"},[s("div",{staticClass:"chat-main"},[s("div",{staticClass:"chatList"},[s("div",{staticClass:"top"},[s("div",{staticClass:"name"},[e._v(e._s(e.user.name))]),e._v(" "),s("div",{staticClass:"search"},[s("el-input",{attrs:{placeholder:"查找联系人"},model:{value:e.findText,callback:function(t){e.findText=t},expression:"findText"}},[s("i",{staticClass:"el-input__icon el-icon-search",attrs:{slot:"prefix"},slot:"prefix"})])],1)]),e._v(" "),s("ul",e._l(e.chatContentList,function(t,a){return s("li",{key:a,style:(e.current.person||{}).id==t.person.id?"background-color: rgb(29, 29, 29);":"",on:{click:function(s){e.current=t}}},[s("div",{staticClass:"info"},[s("p",{staticClass:"name"},[e._v(e._s(t.person.name))]),e._v(" "),s("p",{staticClass:"last"},[e._v(e._s(t.contentList[t.contentList.length-1].dt))])]),e._v(" "),s("div",{staticClass:"msg"},[s("p",{staticClass:"last"},[e._v(e._s(t.contentList[t.contentList.length-1].content))])])])}),0)]),e._v(" "),s("div",{staticClass:"chatInfo"},[e.current.person?[s("div",{staticClass:"top"},[s("p",{staticClass:"name"},[e._v(e._s(e.current.person.name))])]),e._v(" "),s("div",{ref:"messageList",staticClass:"messages",attrs:{id:"messageList"}},e._l(e.current.contentList,function(t,a){return s("div",{staticClass:"message-info"},[t.fromId==e.user.id?s("div",{staticClass:"to"},[s("label",{attrs:{for:""}},[e._v(e._s(t.dt))]),e._v(" "),s("span",[e._v(e._s(t.content))])]):s("div",{staticClass:"from"},[s("label",{attrs:{for:""}},[e._v(e._s(t.dt))]),e._v(" "),s("span",[e._v(e._s(t.content))])])])}),0),e._v(" "),s("div",{staticClass:"input-emojis"},[s("div",{staticClass:"submit-input"},[s("i",{staticClass:"el-icon-magic-stick",on:{click:function(t){e.showEmojijs=!e.showEmojijs}}}),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("发送")])],1),e._v(" "),e.showEmojijs?s("div",{staticClass:"emojis",on:{mouseleave:function(t){e.showEmojijs=!1}}},[s("ul",e._l(e.emojijs,function(t,a){return s("li",{key:a,on:{click:function(s){return e.addEmoji(t)}}},[e._v(e._s(t.char))])}),0)]):e._e(),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.chat.content,expression:"chat.content"}],staticClass:"msgInput",attrs:{type:"textarea",placeholder:"输入聊天内容"},domProps:{value:e.chat.content},on:{keyup:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:t.ctrlKey?e.onEnter(t):null},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onSubmit(t)}],input:function(t){t.target.composing||e.$set(e.chat,"content",t.target.value)}}})])]:[s("p",{staticClass:"notCurrent"},[e._v("\n          您还未选中或发起聊天，快去聊一聊吧\n        ")])]],2)])])},staticRenderFns:[]};var Y=s("VU/8")(K,Q,!1,function(e){s("Oluj")},null,null).exports,ee={name:"",data:()=>({}),props:{},components:{},mounted(){},methods:{}},te={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",[t("router-view")],1)},staticRenderFns:[]};var se=s("VU/8")(ee,te,!1,function(e){s("cSl9")},"data-v-3a20db1d",null).exports,ae={name:"registe",userTime:{},data(){return{panels:{},codeTime:{},registeForm:{name:"",idcard:"",phone:"",email:"",password:"",checkPass:"",province:"",city:"",county:"",education:"1",status:"1",companyName:"",identify:"",companyPhone:""},options:{province:[],city:[],county:[]},rules:{name:[{required:!0,message:"用户名不能为空"}],idcard:[{required:!0,message:"身份证号不能为空"}],phone:[{required:!0,message:"手机号码不能为空"}],email:[{required:!0,message:"邮箱不能为空"},{validator:(e,t,s)=>{""===t?s(new Error("请输入邮箱")):/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t)?s():s(new Error("邮箱格式不正确"))},trigger:"blur"}],password:[{required:!0,message:"密码不能为空"},{validator:(e,t,s)=>{""===t?s(new Error("请输入密码")):(""!==this.registeForm.checkPass&&this.$refs.registeForm.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{required:!0,message:"重复密码不能为空"},{validator:(e,t,s)=>{""===t?s(new Error("请再次输入密码")):t!==this.registeForm.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],province:[{required:!0,message:"地址不能为空"}],city:[{required:!0,message:"地址不能为空"}],county:[{required:!0,message:"地址不能为空"}]},moreForm:[],identy:this.$route.path.split("/")[2]}},props:{},components:{},watch:{$route(e,t){this.identy=this.$route.path.split("/")[2],this.getMoreForm()}},created(){},mounted(){let e=this,t=document.documentElement.clientHeight||document.body.clientHeight;this.$refs.registe.style.height=t+"px",this.panels.codeBtn=this.$refs.code,this.$request.selectAddress({level:1,pcode:0}).then(t=>{e.options.province=t.data}),this.getMoreForm()},methods:{changeCity(e){let t=this;t.options.city=[],t.options.county=[],t.registeForm.city="",t.registeForm.county="",this.$request.selectAddress({level:2,pcode:e}).then(e=>{t.options.city=e.data})},changeCounty(e){let t=this;t.options.county=[],t.registeForm.county="",this.$request.selectAddress({level:3,pcode:e}).then(e=>{t.options.county=e.data})},getMoreForm(){this.moreForm=[],"volunteer"==this.identy&&(this.moreForm=[{model:"education",label:"学历",type:"select",options:[{name:"高中及以下",code:"1"},{name:"高中",code:"2"},{name:"大专",code:"3"},{name:"本科",code:"4"},{name:"硕士研究生",code:"5"},{name:"博士研究生",code:"6"}]},{model:"status",label:"求职状态",type:"select",options:[{name:"考虑机会",code:"1"},{name:"暂不考虑",code:"2"}]}]),"recruiter"==this.identy&&(this.moreForm=[{model:"companyName",label:"公司名称",type:"input"},{model:"identify",label:"职位",type:"input"},{model:"companyPhone",label:"公司联系方式",type:"input"}])},registe(){this.identy;this.$refs.registeForm.validate(e=>{this.$refs.moreForm.validate(t=>{e&&t&&(this.registeForm.address=this.registeForm.county||this.registeForm.city||this.registeForm.province||"","volunteer"==this.identy&&this.$request.registerVolunteer(this.registeForm).then(e=>{this.$store.commit("user",e.data),sessionStorage.setItem("user",JSON.stringify(e.data)),this.$router.push("/user/vol/"+this.identy)}),"recruiter"==this.identy&&this.$request.registeRecuriter(this.registeForm).then(e=>{this.$store.commit("user",e.data),sessionStorage.setItem("user",JSON.stringify(e.data)),this.$router.push("/user/vol/"+this.identy)}))})})},registeDirect(){"recruiter"==this.identy&&this.$router.push("/registe/volunteer"),"volunteer"==this.identy&&this.$router.push("/registe/recruiter")},login(){this.$router.push("/login")}}},ie={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"registe",staticClass:"registe"},[s("div",{staticClass:"img"}),e._v(" "),s("div",{staticClass:"teacher"},["volunteer"==e.identy?s("h1",{staticClass:"registe_top"},[e._v("欢迎加入志愿教师大家庭")]):s("h1",{staticClass:"registe_top"},[e._v("一站式招募平台")]),e._v(" "),s("el-form",{ref:"registeForm",staticClass:"form-cont",attrs:{model:e.registeForm,rules:e.rules,"label-position":"right"}},[s("el-form-item",{attrs:{prop:"name",label:"用户名"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"用户名"},model:{value:e.registeForm.name,callback:function(t){e.$set(e.registeForm,"name",t)},expression:"registeForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"idcard",label:"身份证号"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"身份证号码"},model:{value:e.registeForm.idcard,callback:function(t){e.$set(e.registeForm,"idcard",t)},expression:"registeForm.idcard"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"phone",label:"手机号码"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"手机号码"},model:{value:e.registeForm.phone,callback:function(t){e.$set(e.registeForm,"phone",t)},expression:"registeForm.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"email",label:"邮箱"}},[s("el-input",{attrs:{autocomplete:"off",placeholder:"邮箱"},model:{value:e.registeForm.email,callback:function(t){e.$set(e.registeForm,"email",t)},expression:"registeForm.email"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"password",label:"密码"}},[s("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"请输入密码"},model:{value:e.registeForm.password,callback:function(t){e.$set(e.registeForm,"password",t)},expression:"registeForm.password"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"checkPass",label:"确认密码"}},[s("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"再次输入密码"},model:{value:e.registeForm.checkPass,callback:function(t){e.$set(e.registeForm,"checkPass",t)},expression:"registeForm.checkPass"}})],1)],1),e._v(" "),s("el-form",{ref:"moreForm",staticClass:"form-cont",attrs:{model:e.registeForm,rules:e.rules,"label-position":"right"}},[s("el-form-item",{attrs:{label:"联系地址"}},[s("el-select",{attrs:{placeholder:"省"},on:{change:e.changeCity},model:{value:e.registeForm.province,callback:function(t){e.$set(e.registeForm,"province",t)},expression:"registeForm.province"}},e._l(e.options.province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:e.changeCounty},model:{value:e.registeForm.city,callback:function(t){e.$set(e.registeForm,"city",t)},expression:"registeForm.city"}},e._l(e.options.city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},model:{value:e.registeForm.county,callback:function(t){e.$set(e.registeForm,"county",t)},expression:"registeForm.county"}},e._l(e.options.county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)],1),e._v(" "),e._l(e.moreForm,function(t,a){return s("el-form-item",{key:t.model,attrs:{prop:t.model,label:t.label}},["input"==t.type?s("el-input",{model:{value:e.registeForm[t.model],callback:function(s){e.$set(e.registeForm,t.model,s)},expression:"registeForm[item.model]"}}):e._e(),e._v(" "),"select"==t.type?s("el-select",{model:{value:e.registeForm[t.model],callback:function(s){e.$set(e.registeForm,t.model,s)},expression:"registeForm[item.model]"}},e._l(t.options,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1):e._e()],1)}),e._v(" "),"volunteer"==e.identy?s("el-button",{staticClass:"login_bottom",attrs:{type:"primary"},on:{click:e.registe}},[e._v("开启志愿之旅")]):s("el-button",{staticClass:"login_bottom",attrs:{type:"primary"},on:{click:e.registe}},[e._v("开启招募大门")])],2),e._v(" "),s("div",{staticClass:"form_bottom"},[s("p",{staticClass:"loginDirect",on:{click:e.login}},[e._v("已有账号？现在就登录")]),e._v(" "),"volunteer"==e.identy?s("p",{staticClass:"loginDirect",on:{click:e.registeDirect}},[e._v("去招募")]):s("p",{staticClass:"loginDirect",on:{click:e.registeDirect}},[e._v("我想支教")])])],1)])},staticRenderFns:[]};var le=s("VU/8")(ae,ie,!1,function(e){s("I75D"),s("BVw9")},"data-v-4d16a563",null).exports,re={name:"selfSch",data:()=>({}),props:{},computed:{},components:{},mounted(){},methods:{}},ne={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"selfSch"},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,router:""}},[s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/recruiter"}},[s("i",{staticClass:"el-icon-setting"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("个人信息")])]),e._v(" "),s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/school"}},[s("i",{staticClass:"el-icon-self-edu"}),e._v(" "),s("span",[e._v("学校信息")])]),e._v(" "),s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/job"}},[s("i",{staticClass:"el-icon-self-gongzuojingyan"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("招募职位")])]),e._v(" "),s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/chat"}},[s("i",{staticClass:"el-icon-self-taolunhui"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("聊天室")])]),e._v(" "),s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/articleList"}},[s("i",{staticClass:"el-icon-document"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),e._v(" "),s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/postList"}},[s("i",{staticClass:"el-icon-s-promotion"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("帖子管理")])]),e._v(" "),s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/comment"}},[s("i",{staticClass:"el-icon-s-comment"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的评论")])]),e._v(" "),s("el-menu-item",{staticStyle:{"padding-left":"0.8vw"},attrs:{index:"/user/recr/interest"}},[s("i",{staticClass:"el-icon-star-off"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("收藏关注")])])],1),e._v(" "),s("div",{staticClass:"main"},[s("router-view")],1)],1)},staticRenderFns:[]};var oe=s("VU/8")(re,ne,!1,function(e){s("8m2i"),s("hFwG")},"data-v-1e35f0b2",null).exports,ce={name:"tablePage",data:()=>({panels:{},timer:"",tableHeight:0,tableWidth:0}),props:{tableTitles:{default:()=>new Array},tableData:{default:()=>new Array},isLoading:{default:!1},tableConf:{default:()=>new Object},tableCellStyle:{default:()=>()=>{}}},watch:{tableData(e,t){}},components:{},mounted(){let e=this;this.$nextTick(function(){e.tableHeight=document.body.clientHeight-e.$refs.tableCont.offsetTop-.089*document.body.clientHeight}),window.onresize=function(){e.tableHeight=document.body.clientHeight-e.$refs.tableCont.offsetTop-.089*document.body.clientHeight},e.panels.elTb=this.$refs.elTb},beforeDestroy(){clearTimeout(this.timer)},methods:{examineTable(e){this.$emit("examineTable",e)},ensureData(e){this.$emit("ensure-data",e)},tableHeaderColor:({row:e,column:t,rowIndex:s,columnIndex:a})=>"height:5vh",filterTag:(e,t,s)=>"firstLabel"===s.property?1==e?1===Math.abs(t.targetSigma)||2===Math.abs(t.targetSigma):3===Math.abs(t.targetSigma):"secondLabel"===s.property?1==e?1===Math.abs(t.targetBox)||2===Math.abs(t.targetBox):3===Math.abs(t.targetBox):"thirdLabel"===s.property?1==e?1===Math.abs(t.targetKmean)||2===Math.abs(t.targetKmean):3===Math.abs(t.targetKmean):"errTotal"===s.property?Math.abs(t.errTotal)==e:void 0,changTableSize(){this.tableHeight=this.$refs.tableCont.clientHeight,this.tableWidth=document.body.clientWidth-50}}},de={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{directives:[{name:"loading",rawName:"v-loading",value:e.isLoading,expression:"isLoading"}],ref:"tableCont",staticClass:"table-cont"},[e.isLoading?e._e():s("el-table",{ref:"elTb",attrs:{data:e.tableData,stripe:e.tableConf.stripe,border:e.tableConf.border,"cell-style":e.tableCellStyle,"header-cell-style":e.tableHeaderColor,"span-method":e.tableConf.spanMethod,height:e.tableConf.height||e.tableHeight}},[e.tableConf.expand?s("el-table-column",{attrs:{type:"expand",fixed:"left"},scopedSlots:e._u([{key:"default",fn:function(t){return e.tableConf.expand?[s("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"right",inline:""}},[e._l(e.tableConf.expands,function(a,i){return[t.row.hasOwnProperty(a.prop)?s("el-form-item",{key:"expand"+i,attrs:{label:a.label,"label-width":18*a.label.length+"px"}},[s("span",[e._v(e._s(t.row[a.prop]))])]):e._e(),e._v(" "),(i+1)%3==0?s("br"):e._e()]})],2)]:void 0}}],null,!0)}):e._e(),e._v(" "),e.tableConf.index?s("el-table-column",{attrs:{type:"index",label:"序号",width:"50",align:"center",fixed:"left"}}):e._e(),e._v(" "),e._l(e.tableTitles,function(t,a){return[t.childs?s("el-table-column",{key:"tableTitle"+a,attrs:{align:t.align?t.align:"center",fixed:!!t.fixed&&t.fixed,prop:t.prop,label:t.label,width:t.width?t.width:""}},[e._l(t.childs,function(e,t){return[e.filter?s("el-table-column",{key:a+"-"+t,attrs:{align:e.align?e.align:"center",fixed:!!e.fixed&&e.fixed,prop:e.prop,label:e.label,width:e.width?e.width:"",filters:e.filters,"filter-method":e.filterMethod,"filter-placement":"bottom-end"}}):s("el-table-column",{key:a+"-"+t,attrs:{align:e.align?e.align:"center",fixed:!!e.fixed&&e.fixed,prop:e.prop,label:e.label,width:e.width?e.width:""}})]})],2):[t.filter?s("el-table-column",{key:"tableTitle"+a,attrs:{align:t.align?t.align:"center",fixed:!!t.fixed&&t.fixed,prop:t.prop,label:t.label,width:t.width?t.width:"",filters:t.filters,"filter-method":t.filterMethod,"filter-placement":"bottom-end"}}):s("el-table-column",{key:"tableTitle"+a,attrs:{align:t.align?t.align:"center",fixed:!!t.fixed&&t.fixed,prop:t.prop,label:t.label,width:t.width?t.width:""}})]]}),e._v(" "),e.tableConf.operation&&e.tableConf.operation?s("el-table-column",{staticClass:"btnCol",attrs:{fixed:"right",label:"操作",width:e.tableConf.operation?75*e.tableConf.btns.length:0},scopedSlots:e._u([{key:"header",fn:function(t){return e.tableConf.operaHeader?[s("el-button",{attrs:{id:e.tableConf.operaHeader.id,size:e.tableConf.operaHeader.size,type:e.tableConf.operaHeader.type,plain:""},on:{click:function(s){return e.tableConf.operaHeader.click(t.row)}}},[e._v(e._s(e.tableConf.operaHeader.text))])]:void 0}},{key:"default",fn:function(t){return e._l(e.tableConf.btns,function(a,i){return s("el-button",{key:"btn"+i,attrs:{id:a.id,size:a.size,type:a.type},on:{click:function(e){return a.click(t.row)}}},[e._v(e._s(a.text))])})}}],null,!0)}):e._e()],2)],1)},staticRenderFns:[]};var ue=s("VU/8")(ce,de,!1,function(e){s("tdXv"),s("T0ah")},"data-v-6a9757bb",null).exports,he=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},pe={name:"selfInfo",data(){return{baseEdit:!1,baseForm:[{prop:"name",label:"用户名",edit:!0},{prop:"phone",label:"联系手机",edit:!0},{prop:"email",label:"联系邮箱",edit:!0},{prop:"address",label:"联系地址",edit:!0},{prop:"password",label:"登录密码",edit:!0}],identyForm:[{prop:"companyName",label:"公司名称",type:"input"},{prop:"companyPhone",label:"公司联系方式",type:"input"},{prop:"applyName",label:"职称",type:"input"},{prop:"applyId",label:"工号",type:"input"},{prop:"image",label:"工作证图片",type:"image"}],identyFormData:{},identyFormVisible:!1,recruiter:{},baseFormData:{name:"",phone:"",email:"",password:"",checkPass:"",address:"",identy:this.$route.path.split("/")[2]},rules:{name:[{required:!0,message:"用户名不能为空"}],phone:[{required:!0,message:"手机号码不能为空"}],email:[{required:!0,message:"邮箱不能为空"},{validator:(e,t,s)=>{""===t?s(new Error("请输入邮箱")):/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t)?s():s(new Error("邮箱格式不正确"))},trigger:"blur"}],password:[{required:!0,message:"密码不能为空"},{validator:(e,t,s)=>{""===t?s(new Error("请输入密码")):(""!==this.baseFormData.checkPass&&this.$refs.baseForm.validateField("checkPass"),s())},trigger:"blur"}],checkPass:[{required:!0,message:"重复密码不能为空"},{validator:(e,t,s)=>{""===t?s(new Error("请再次输入密码")):t!==this.baseFormData.password?s(new Error("两次输入密码不一致!")):s()},trigger:"blur"}],companyName:[{required:!0,message:" "}],companyPhone:[{required:!0,message:" "}],applyName:[{required:!0,message:" "}]},selectData:{province:[],city:[],county:[]},identyHisFormVisible:!1,tableTitles:[{prop:"applyDt",label:"申请日期"},{prop:"companyName",label:"公司名称"},{prop:"companyPhone",label:"公司联系方式"},{prop:"applyName",label:"职称"},{prop:"applyId",label:"工号"},{prop:"resultName",label:"结果"},{prop:"describe",label:"备注说明"}],tableData:[],tableConf:{operation:!1}}},props:{},components:{tablePage:ue},mounted(){this.recruiter=JSON.parse(sessionStorage.getItem("user")),this.getUserInfo(this.recruiter.id)},methods:{getUserInfo(e=this.recruiter.userId){let t=this;t.$request.getRecuriter({userId:e}).then(s=>{t.recruiter=s.data,t.recruiter.province=s.data.address.substring(0,2),t.recruiter.city=s.data.address.substring(0,4),t.recruiter.county=s.data.address,Object.keys(t.recruiter).forEach(e=>{t.baseFormData.hasOwnProperty(e)&&(t.baseFormData[e]=t.recruiter[e])}),this.$request.selectAddress({level:1,pcode:0}).then(e=>{t.selectData.province=e.data}),this.$request.selectAddress({level:2,pcode:t.recruiter.province}).then(e=>{t.selectData.city=e.data}),this.$request.selectAddress({level:3,pcode:t.recruiter.city}).then(e=>{t.selectData.county=e.data}),t.$request.getLastRecrIdenty({recrId:e}).then(e=>{"[]"!=e.data.image?e.data.image=e.data.image.substr(1,e.data.image.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):e.data.image=[],t.recruiter=he({},t.recruiter,e.data)})})},changeCity(e){let t=this;t.selectData.city=[],t.selectData.county=[],t.recruiter.city="",t.recruiter.county="",t.recruiter.address="",this.$request.selectAddress({level:2,pcode:e}).then(e=>{t.selectData.city=e.data})},changeCounty(e){let t=this;t.selectData.county=[],t.recruiter.county="",t.recruiter.address="",this.$request.selectAddress({level:3,pcode:e}).then(e=>{t.selectData.county=e.data})},changeBase(){this.baseEdit=!this.baseEdit},onSubmit(){let e=this;this.$refs.baseForm.validate(t=>{if(!t)return!1;Object.keys(this.baseFormData).forEach(t=>{e.recruiter.hasOwnProperty(t)&&(e.recruiter[t]=e.baseFormData[t])}),e.recruiter.address=e.recruiter.county,e.$request.editRecuriter(e.recruiter).then(t=>{e.getUserInfo(e.recruiter.userId),this.baseEdit=!this.baseEdit})})},pathTo(e){1==e&&this.$router.push("/user/recr/school"),2==e&&this.$router.push("/user/recr/job"),3==e&&this.$router.push("/user/recr/article"),4==e&&this.$router.push("/user/recr/post")},handleRemove(e){let t=this.identyFormData.image;t.splice(t.indexOf(e),1),this.identyFormData.image=t},handleChange(e,t){this.identyFormData.image=t,t.length>2&&(this.$message.warning("最多选择两张照片"),t.splice(t.length-1,1))},applyRecrIdenty(){this.$refs.baseForm.validate(e=>{if(!e)return!1;{let e=(this.identyFormData.image||[]).map(e=>e.raw),t=new FormData;e.forEach(e=>{t.append("image",e)}),t.append("recrId",this.recruiter.userId),t.append("companyName",this.identyFormData.companyName),t.append("companyPhone",this.identyFormData.companyPhone),t.append("applyName",this.identyFormData.applyName),t.append("applyId",this.identyFormData.applyId||""),t.append("frontPath",this.$rootPath),this.$request.appplyRecrIdenty(t).then(e=>{this.getUserInfo(),this.identyFormVisible=!1})}})},showHisIdenty(){this.$request.getRecrIdenty({recrId:this.recruiter.userId}).then(e=>{this.tableData=e.data.map((e,t)=>{switch(e.result){case-1:e.resultName=0==t?"认证中":"过期";break;case 0:e.resultName="认证失败";break;case 2:e.resultName="认证成功"}return e}),this.identyHisFormVisible=!0})},tableCellStyle(e){if("resultName"==e.column.property)switch(e.row.result){case-1:return 0==e.rowIndex?"color:orange;":"color:#ccc;";case 0:return"color:red";case 2:return"color:green"}}}},me={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"selfInfo"},[s("el-dialog",{attrs:{title:"申请认证",visible:e.identyFormVisible,top:"2vh",width:"40%"},on:{"update:visible":function(t){e.identyFormVisible=t}}},[s("el-form",{ref:"identyForm",staticClass:"identy-form",attrs:{"label-position":"right",model:e.identyFormData,rules:e.rules}},[e._l(e.identyForm,function(t,a){return s("el-form-item",{key:a,staticClass:"edit-form-item",attrs:{prop:t.prop,label:t.label}},["input"==t.type?s("el-input",{attrs:{placeholder:t.label},model:{value:e.identyFormData[t.prop],callback:function(s){e.$set(e.identyFormData,t.prop,s)},expression:"identyFormData[prop.prop]"}}):e._e(),e._v(" "),"image"==t.type?s("div",{staticClass:"image-upload"},[s("el-upload",{attrs:{action:"doUpload","list-type":"picture-card","on-change":e.handleChange,"auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}],null,!0)},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1):e._e()],1)}),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.applyRecrIdenty}},[e._v("提交申请")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.identyFormVisible=!1}}},[e._v("取消")])],1)],2)],1),e._v(" "),s("el-dialog",{attrs:{title:"认证历史",visible:e.identyHisFormVisible,top:"2vh",width:"60%"},on:{"update:visible":function(t){e.identyHisFormVisible=t}}},[s("div",{staticClass:"history-info"},[e._v("仅处理最新认证申请")]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,tableConf:e.tableConf,tableCellStyle:e.tableCellStyle}})],1),e._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"base"},[s("h3",[e._v("个人信息")]),e._v(" "),s("i",{staticClass:"el-icon-edit",on:{click:e.changeBase}},[e.baseEdit?s("label",{attrs:{for:""}},[e._v("  取消")]):s("label",{attrs:{for:""}},[e._v("  编辑")])]),e._v(" "),s("el-form",{ref:"baseForm",staticClass:"demo-form-inline-base",attrs:{"label-position":"right",model:e.baseFormData,rules:e.rules}},[e._l(e.baseForm,function(t,a){return s("el-form-item",{key:a,staticClass:"edit-form-item",attrs:{prop:t.prop,label:t.label}},[e.baseEdit?["address"!=t.prop?[s("el-input",{attrs:{type:"password"==t.prop?"password":"text",placeholder:t.label,disabled:!t.edit},model:{value:e.baseFormData[t.prop],callback:function(s){e.$set(e.baseFormData,t.prop,s)},expression:"baseFormData[prop.prop]"}})]:[s("el-select",{attrs:{placeholder:"省"},on:{change:e.changeCity},model:{value:e.recruiter.province,callback:function(t){e.$set(e.recruiter,"province",t)},expression:"recruiter.province"}},e._l(e.selectData.province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:e.changeCounty},model:{value:e.recruiter.city,callback:function(t){e.$set(e.recruiter,"city",t)},expression:"recruiter.city"}},e._l(e.selectData.city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},model:{value:e.recruiter.county,callback:function(t){e.$set(e.recruiter,"county",t)},expression:"recruiter.county"}},e._l(e.selectData.county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)]]:s("label",["address"==t.prop?s("label",{attrs:{for:""}},[e._v(e._s(e.recruiter.addressName))]):"password"==t.prop?s("label",{attrs:{for:""}},[e._v("************")]):s("label",{attrs:{for:""}},[e._v(e._s(e.recruiter[t.prop]))])])],2)}),e._v(" "),e.baseEdit?s("el-form-item",{attrs:{prop:"checkPass",label:"确认密码"}},[s("el-input",{attrs:{type:"password",autocomplete:"off",placeholder:"再次输入密码"},model:{value:e.baseFormData.checkPass,callback:function(t){e.$set(e.baseFormData,"checkPass",t)},expression:"baseFormData.checkPass"}})],1):e._e(),e._v(" "),e.baseEdit?s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交修改")])],1):e._e()],2)],1),e._v(" "),s("div",{staticClass:"identy"})]),e._v(" "),s("div",{staticClass:"zhaomu"},[s("div",{staticClass:"identy-title"},[s("h3",[e._v("认证信息")]),e._v(" "),s("el-button",{attrs:{icon:"el-icon-edit"},on:{click:function(t){e.identyFormVisible=!0}}},[e._v("申请认证")]),e._v(" "),s("el-button",{attrs:{icon:"el-icon-notebook-2"},on:{click:e.showHisIdenty}},[e._v("认证历史")])],1),e._v(" "),s("el-form",{staticClass:"demo-form",attrs:{"label-position":"right",model:e.recruiter}},[s("el-form-item",{attrs:{label:"身份证号"}},[s("label",{attrs:{for:""}},[e._v(e._s(e.recruiter.idcard))])]),e._v(" "),s("el-form-item",{attrs:{label:"认证状态"}},[s("label",{style:-1==e.recruiter.result?"color:orange":-2==e.recruiter.result?"color:red":"color:green"},[e._v("\n        "+e._s(-1==e.recruiter.result?"认证中...":-2==e.recruiter.result?"认证失败":"认证成功")+"\n        ")])]),e._v(" "),s("el-form-item",{attrs:{label:"公司名称"}},[s("label",[e._v(e._s(e.recruiter.companyName))])]),e._v(" "),s("el-form-item",{attrs:{label:"公司职位"}},[s("label",[e._v(e._s(e.recruiter.applyName))])]),e._v(" "),s("el-form-item",{attrs:{label:"公司联系方式"}},[s("label",[e._v(e._s(e.recruiter.companyPhone))])]),e._v(" "),s("el-form-item",{attrs:{label:"工号"}},[s("label",[e._v(e._s(e.recruiter.applyId||"无"))])]),e._v(" "),s("el-form-item",{staticClass:"upload-images",attrs:{label:"工作证照片"}},[e.recruiter.image&&e.recruiter.image.length>0?e._l(e.recruiter.image,function(e){return s("img",{staticClass:"upload-image",attrs:{src:e,alt:""}})}):[e._v("\n          无相关照片\n        ")]],2)],1)],1)],1)},staticRenderFns:[]};var ve=s("VU/8")(pe,me,!1,function(e){s("dq79"),s("J1aW")},"data-v-6a68d50a",null).exports,fe={name:"info-recr",data:()=>({activeName:"first",recruiter:{name:"张XX",identiCard:"142729********20",phone:"1738200****",email:"ajoheobn@ss.com",password:"adsfa",address:"北京市朝阳区",reason:"s",identity:"简巨科技有限公司HR经理",schoolCnt:8,zhiwei:{cnt:10,opened:6,closed:4}},teachers:[{name:"数学教师",during:"4-10年",education:"本科",teacherCert:!0,schoolName:"XXX小学",schoolAddr:"北京市 北京市 朝阳区",contactImg:"/src/assets/logo_vue.png",contactPerson:"刘女士",contactJob:"教育局代表人"},{name:"语文教师",during:"1-5年",education:"本科",teacherCert:!0,schoolName:"XXX小学",schoolAddr:"北京市 北京市 朝阳区",contactImg:"/src/assets/logo_vue.png",contactPerson:"张先生",contactJob:"校长"},{name:"语文教师",during:"1-5年",education:"本科",teacherCert:!0,schoolName:"XXX小学",schoolAddr:"北京市 北京市 朝阳区",contactImg:"/src/assets/logo_vue.png",contactPerson:"张先生",contactJob:"校长"},{name:"语文教师",during:"1-5年",education:"本科",teacherCert:!0,schoolName:"XXX小学",schoolAddr:"北京市 北京市 朝阳区",contactImg:"/src/assets/logo_vue.png",contactPerson:"张先生",contactJob:"校长"},{name:"语文教师",during:"1-5年",education:"本科",teacherCert:!0,schoolName:"XXX小学",schoolAddr:"北京市 北京市 朝阳区",contactImg:"/src/assets/logo_vue.png",contactPerson:"张先生",contactJob:"校长"}],school:{name:"XXXX学校",address:"北京市北京市昌平区",education:"小学",describe:"成立于XX年，已有20年历史，由XXX捐资建立",establishDt:"2009年1月1日",scale:"100-500",jobCnt:10}}),props:{},components:{teacher:b,essay:$,disguss:j},mounted(){},methods:{showSchool(){this.$router.push("/school")}}},ye={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"info-recr"},[s("div",{staticClass:"left"},[s("div",{staticClass:"recr"},[s("div",{staticClass:"name"},[e._v(e._s(e.recruiter.name))]),e._v(" "),s("div",{staticClass:"base"},[s("p",{staticClass:"identity"},[e._v(e._s(e.recruiter.identity))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("公司地址:")]),e._v(e._s(e.recruiter.address))])]),e._v(" "),s("div",{staticClass:"contact"},[s("p",[s("label",{attrs:{for:""}},[e._v("联系邮箱:")]),e._v(e._s(e.recruiter.email))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("联系电话:")]),e._v(e._s(e.recruiter.phone))])]),e._v(" "),s("div",{staticClass:"fabu"},[s("p",[s("label",{attrs:{for:""}},[e._v("发布文章:")]),e._v(e._s(e.recruiter.schoolCnt)+"篇")]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("发布帖子:")]),e._v(e._s(e.recruiter.schoolCnt)+"个")])])])]),e._v(" "),s("div",{staticClass:"info"},[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"岗位",name:"first"}},[s("div",{staticClass:"main-interest"},e._l(e.teachers,function(e,t){return s("teacher",{key:t,staticClass:"half",attrs:{teacher:e}})}),1)]),e._v(" "),s("el-tab-pane",{attrs:{label:"学校",name:"second"}},[s("div",{staticClass:"main-interest"},e._l(5,function(t){return s("div",{key:t,staticClass:"school",on:{click:e.showSchool}},[s("div",{staticClass:"school-name"},[e._v(e._s(e.school.name))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("学校地址:")]),e._v(e._s(e.school.address))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("招聘职位:")]),e._v(e._s(e.school.jobCnt)+"个")])])}),0)]),e._v(" "),s("el-tab-pane",{attrs:{label:"文章",name:"third"}},[s("div",{staticClass:"main-interest"},e._l(9,function(e,t){return s("essay",{key:e,staticClass:"half article"})}),1)]),e._v(" "),s("el-tab-pane",{attrs:{label:"帖子",name:"fourth"}},[s("div",{staticClass:"main-interest"},e._l(5,function(e,t){return s("disguss",{key:e,staticClass:"half"})}),1)])],1)],1)])},staticRenderFns:[]};var ge=s("VU/8")(fe,ye,!1,function(e){s("s9nu")},"data-v-c666bada",null).exports,_e={name:"volunteer-menu",data:()=>({}),props:{},components:{},mounted(){},methods:{}},be={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"volunteer-menu"},[s("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":this.$route.path,"active-text-color":"#fce9c7",router:""}},[s("el-menu-item",{attrs:{index:"/user/vol/volunteer"}},[s("i",{staticClass:"el-icon-setting"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("个人信息")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/user/vol/chat"}},[s("i",{staticClass:"el-icon-self-taolunhui"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("聊天室")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/user/vol/articleList"}},[s("i",{staticClass:"el-icon-document"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("文章管理")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/user/vol/postList"}},[s("i",{staticClass:"el-icon-s-promotion"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("帖子管理")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/user/vol/comment"}},[s("i",{staticClass:"el-icon-s-comment"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("我的评论")])]),e._v(" "),s("el-menu-item",{attrs:{index:"/user/vol/interest"}},[s("i",{staticClass:"el-icon-star-off"}),e._v(" "),s("span",{attrs:{slot:"title"},slot:"title"},[e._v("收藏关注")])])],1),e._v(" "),s("div",{staticClass:"main"},[s("router-view",{staticClass:"main-view"})],1)],1)},staticRenderFns:[]};var Ce=s("VU/8")(_e,be,!1,function(e){s("/oJd"),s("CD4W")},"data-v-1d0e7b09",null).exports,ke=s("mtWM"),Ie=s.n(ke),we=s("zL8q"),De=s.n(we),$e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e};function xe(e,t="GET",s="url",a={},i={}){return new Promise(function(l,r){let n=$e({url:e,method:t},i);"url"===s?n.params=a:n.data=a,Ie()(n).then(e=>{1e3===e.data.status?l(e.data):r(e.data)}).catch(e=>{r({msg:"网络出错"})})})}function ze(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,s){return function a(i,l){try{var r=t[i](l),n=r.value}catch(e){return void s(e)}if(!r.done)return Promise.resolve(n).then(function(e){a("next",e)},function(e){a("throw",e)});e(n)}("next")})}}const je="/shizhe/api/user/registeRecruiter",Ee="/shizhe/api/user/registeVolunteer",Se="/shizhe/api/user/login",Fe="/shizhe/api/user/getVolunteer",qe="/shizhe/api/user/editVolunteer",Ae="/shizhe/api/user/getRecruiter",Ne="/shizhe/api/user/editRecruiter",Te="/shizhe/api/user/getVols",Le="/shizhe/api/user/getRecrs",Je="/shizhe/api/user/getUser",Pe="/shizhe/api/identy/applyRecrIdenty",Be="/shizhe/api/identy/listRecrIdenty",Re="/shizhe/api/identy/listAllRecrIdenty",Ve="/shizhe/api/identy/updateRecrIdenty",Oe="/shizhe/api/identy/getLasrRecrIdenty",Me="/shizhe/api/identy/applyVolIdenty",Ue="/shizhe/api/identy/listVolIdenty",Ge="/shizhe/api/identy/listAllVolIdenty",Xe="/shizhe/api/identy/updateVolIdenty",He="/shizhe/api/identy/getLasrVolIdenty",Ze="/shizhe/api/datadict/selectAddress",We="/shizhe/api/datadict/selectJobtype",Ke="/shizhe/api/datadict/selectLicense",Qe="/shizhe/api/datadict/selectTrade",Ye="/shizhe/api/datadict/selectAddressByCode",et="/shizhe/api/article/insertArticle",tt="/shizhe/api/article/selectByCondition",st="/shizhe/api/article/selectById",at="/shizhe/api/article/updateArticle",it="/shizhe/api/article/deleteArticle",lt="/shizhe/api/certificate/insertCertificate",rt="/shizhe/api/certificate/selectByCondition",nt="/shizhe/api/certificate/updateCertificate",ot="/shizhe/api/chat/insertChat",ct="/shizhe/api/chat/selectAllChat",dt="/shizhe/api/chat/selectByFromTo",ut="/shizhe/api/comment/insertArticleComment",ht="/shizhe/api/comment/insertPostComment",pt="/shizhe/api/comment/selectByCondition",mt="/shizhe/api/comment/deleteComment",vt="/shizhe/api/expectJob/insertExpectJob",ft="/shizhe/api/expectJob/selectByCondition",yt="/shizhe/api/expectJob/updateExpectJob",gt="/shizhe/api/expectJob/deleteExpectJob",_t="/shizhe/api/experience/insertExperience",bt="/shizhe/api/experience/selectByCondition",Ct="/shizhe/api/experience/updateExperience",kt="/shizhe/api/experience/deleteExperience",It="/shizhe/api/file/upload",wt="/shizhe/api/file/selectByCondition",Dt="/shizhe/api/file/selectById",$t="/shizhe/api/file/updateFile",xt="/shizhe/api/file/deleteFile",zt="/shizhe/api/interest/insertAttention",jt="/shizhe/api/interest/insertAccuse",Et="/shizhe/api/interest/selectAttentionByCondition",St="/shizhe/api/interest/selectAccuseByCondition",Ft="/shizhe/api/interest/deleteAttention",qt="/shizhe/api/interest/updateAccuse",At="/shizhe/api/interest/deleteAccuse",Nt="/shizhe/api/job/insertJob",Tt="/shizhe/api/job/selectByCondition",Lt="/shizhe/api/job/selectById",Jt="/shizhe/api/job/updateJob",Pt="/shizhe/api/job/deleteJob",Bt="/shizhe/api/post/insertPost",Rt="/shizhe/api/post/selectByCondition",Vt="/shizhe/api/post/selectById",Ot="/shizhe/api/post/updatePost",Mt="/shizhe/api/post/deletePost",Ut="/shizhe/api/school/insertSchool",Gt="/shizhe/api/school/selectByCondition",Xt="/shizhe/api/school/selectById",Ht="/shizhe/api/school/updateSchool",Zt="/shizhe/api/school/deleteSchool",Wt="/shizhe/api/volEducation/insertVolEducation",Kt="/shizhe/api/volEducation/selectByCondition",Qt="/shizhe/api/volEducation/updateVolEducation",Yt="/shizhe/api/volEducation/deleteVolEducation";var es={getUser:({userId:e})=>ze(function*(){return yield xe(Je,"GET","url",{userId:e})})(),getVols:({address:e,education:t,status:s,certificate:a,keyword:i})=>ze(function*(){return yield xe(Te,"GET","url",{address:e,education:t,status:s,certificate:a,keyword:i})})(),getRecrs:({address:e,companyName:t})=>ze(function*(){return yield xe(Le,"GET","url",{address:e,companyName:t})})(),registeRecuriter:({name:e,password:t,idcard:s,phone:a,email:i,address:l,identify:r,companyName:n,companyPhone:o})=>ze(function*(){return yield xe(je,"GET","url",{name:e,password:t,idcard:s,phone:a,email:i,address:l,identify:r,companyName:n,companyPhone:o})})(),getRecuriter:({userId:e})=>ze(function*(){return yield xe(Ae,"GET","url",{userId:e})})(),editRecuriter:({id:e,name:t,password:s,idcard:a,phone:i,email:l,address:r,identify:n,reason:o,userId:c})=>ze(function*(){return yield xe(Ne,"GET","url",{id:e,name:t,password:s,idcard:a,phone:i,email:l,address:r,identify:n,reason:o,userId:c})})(),registerVolunteer:({name:e,password:t,idcard:s,phone:a,email:i,address:l,education:r,status:n})=>ze(function*(){return yield xe(Ee,"GET","url",{name:e,password:t,idcard:s,phone:a,email:i,address:l,education:r,status:n})})(),getVolunteer:({userId:e})=>ze(function*(){return yield xe(Fe,"GET","url",{userId:e})})(),editVolunteer:({id:e,name:t,password:s,idcard:a,phone:i,email:l,address:r,education:n,status:o,certificate:c,userId:d})=>ze(function*(){return yield xe(qe,"GET","url",{id:e,name:t,password:s,idcard:a,phone:i,email:l,address:r,education:n,status:o,certificate:c,userId:d})})(),login:({name:e,password:t})=>ze(function*(){return yield xe(Se,"POST","url",{name:e,password:t})})(),appplyRecrIdenty:e=>ze(function*(){return yield xe(Pe,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),getLastRecrIdenty:({recrId:e})=>ze(function*(){return yield xe(Oe,"GET","url",{recrId:e})})(),getRecrIdenty:({recrId:e})=>ze(function*(){return yield xe(Be,"GET","url",{recrId:e})})(),getAllRecrIdenty:({result:e})=>ze(function*(){return yield xe(Re,"GET","url",{result:e})})(),updateRecrIdenty:({id:e,describe:t,result:s})=>ze(function*(){return yield xe(Ve,"GET","url",{id:e,describe:t,result:s})})(),appplyVolIdenty:e=>ze(function*(){return yield xe(Me,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),getLastVolIdenty:({volId:e})=>ze(function*(){return yield xe(He,"GET","url",{volId:e})})(),getVolIdenty:({volId:e})=>ze(function*(){return yield xe(Ue,"GET","url",{volId:e})})(),getAllVolIdenty:({result:e})=>ze(function*(){return yield xe(Ge,"GET","url",{result:e})})(),updateVolIdenty:({id:e,describe:t,result:s})=>ze(function*(){return yield xe(Xe,"GET","url",{id:e,describe:t,result:s})})(),insertArticle:e=>ze(function*(){return yield xe(et,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),selectArticleByCondition:({userId:e,keyword:t,establishDt:s,status:a})=>ze(function*(){return yield xe(tt,"GET","url",{userId:e,keyword:t,establishDt:s,status:a})})(),deleteArticle:({articleId:e})=>ze(function*(){return yield xe(it,"GET","url",{articleId:e})})(),selectArticleById:({articleId:e})=>ze(function*(){return yield xe(st,"GET","url",{articleId:e})})(),updateArticle:e=>ze(function*(){return yield xe(at,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),insertPost:e=>ze(function*(){return yield xe(Bt,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),selectPostByCondition:({userId:e,keyword:t,establishDt:s,status:a})=>ze(function*(){return yield xe(Rt,"GET","url",{userId:e,keyword:t,establishDt:s,status:a})})(),deletePost:({postId:e})=>ze(function*(){return yield xe(Mt,"GET","url",{postId:e})})(),selectPostById:({postId:e})=>ze(function*(){return yield xe(Vt,"GET","url",{postId:e})})(),updatePost:e=>ze(function*(){return yield xe(Ot,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),insertSchool:e=>ze(function*(){return yield xe(Ut,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),selectSchoolByCondition:({userId:e,scale:t,address:s,keyword:a,status:i})=>ze(function*(){return yield xe(Gt,"GET","url",{userId:e,scale:t,address:s,keyword:a,status:i})})(),selectSchoolById:({schoolId:e})=>ze(function*(){return yield xe(Xt,"GET","url",{schoolId:e})})(),updateSchool:e=>ze(function*(){return yield xe(Ht,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),deleteSchoolById:({schoolId:e})=>ze(function*(){return yield xe(Zt,"GET","url",{schoolId:e})})(),insertJob:e=>ze(function*(){return yield xe(Nt,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),selectJobByCondition:({userId:e,schoolId:t,address:s,keyword:a,education:i,status:l})=>ze(function*(){return yield xe(Tt,"GET","url",{userId:e,schoolId:t,address:s,keyword:a,education:i,status:l})})(),selectJobById:({jobId:e})=>ze(function*(){return yield xe(Lt,"GET","url",{jobId:e})})(),deleteJob:({jobId:e})=>ze(function*(){return yield xe(Pt,"GET","url",{jobId:e})})(),updateJob:e=>ze(function*(){return yield xe(Jt,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),insertArticleComment:({userId:e,articleId:t,msg:s})=>ze(function*(){return yield xe(ut,"GET","url",{userId:e,articleId:t,msg:s})})(),insertPostComment:({userId:e,postId:t,msg:s})=>ze(function*(){return yield xe(ht,"GET","url",{userId:e,postId:t,msg:s})})(),selectCommentByCondition:({userId:e,mainId:t,type:s})=>ze(function*(){return yield xe(pt,"GET","url",{userId:e,mainId:t,type:s})})(),deleteComment:({id:e,type:t})=>ze(function*(){return yield xe(mt,"GET","url",{id:e,type:t})})(),insertAttention:({userId:e,collectId:t,collectType:s})=>ze(function*(){return yield xe(zt,"GET","url",{userId:e,collectId:t,collectType:s})})(),insertAccuse:({userId:e,accuseId:t,accuseType:s})=>ze(function*(){return yield xe(jt,"GET","url",{userId:e,accuseId:t,accuseType:s})})(),selectAttentionByCondition:({userId:e,collectType:t,collectId:s})=>ze(function*(){return yield xe(Et,"GET","url",{userId:e,collectType:t,collectId:s})})(),selectAccuseByCondition:({userId:e,accuseType:t,accuseId:s,accuseResult:a})=>ze(function*(){return yield xe(St,"GET","url",{userId:e,accuseType:t,accuseId:s,accuseResult:a})})(),deleteAttention:({id:e})=>ze(function*(){return yield xe(Ft,"GET","url",{id:e})})(),updateAccuse:({id:e,accuseRes:t})=>ze(function*(){return yield xe(qt,"GET","url",{id:e,accuseRes:t})})(),deleteAccuse:({id:e})=>ze(function*(){return yield xe(At,"GET","url",{id:e})})(),selectAddress:({level:e,pcode:t})=>ze(function*(){return yield xe(Ze,"GET","url",{level:e,pcode:t})})(),selectJobType:()=>ze(function*(){return yield xe(We,"GET","url",{})})(),selectLicense:()=>ze(function*(){return yield xe(Ke,"GET","url",{})})(),selectTrade:()=>ze(function*(){return yield xe(Qe,"GET","url",{})})(),selectNameByCode:({code:e})=>ze(function*(){return yield xe(Ye,"GET","url",{code:e})})(),insertExperience:({companyName:e,startDt:t,endDt:s,departName:a,jobName:i,userId:l,task:r,performance:n})=>ze(function*(){return yield xe(_t,"GET","url",{companyName:e,startDt:t,endDt:s,departName:a,jobName:i,userId:l,task:r,performance:n})})(),selectExperienceByCondition:({userId:e})=>ze(function*(){return yield xe(bt,"GET","url",{userId:e})})(),updateExperience:({id:e,companyName:t,startDt:s,endDt:a,departName:i,jobName:l,task:r,performance:n})=>ze(function*(){return yield xe(Ct,"GET","url",{id:e,companyName:t,startDt:s,endDt:a,departName:i,jobName:l,task:r,performance:n})})(),deleteExperience:({id:e})=>ze(function*(){return yield xe(kt,"POST","url",{id:e})})(),insertExpectJob:({name:e,addrs:t,userId:s})=>ze(function*(){return yield xe(vt,"GET","url",{name:e,addrs:t,userId:s})})(),selectExpectJobByCondition:({userId:e})=>ze(function*(){return yield xe(ft,"GET","url",{userId:e})})(),updateExpectJob:({id:e,name:t,addrs:s})=>ze(function*(){return yield xe(yt,"GET","url",{id:e,name:t,addrs:s})})(),deleteExpectJob:({id:e})=>ze(function*(){return yield xe(gt,"POST","url",{id:e})})(),insertVolEdu:({schoolName:e,project:t,degree:s,startDt:a,endDt:i,userId:l,content:r})=>ze(function*(){return yield xe(Wt,"GET","url",{schoolName:e,project:t,degree:s,startDt:a,endDt:i,userId:l,content:r})})(),selectVolEduByCondition:({userId:e})=>ze(function*(){return yield xe(Kt,"GET","url",{userId:e})})(),updateVolEdu:({id:e,schoolName:t,project:s,degree:a,startDt:i,endDt:l,content:r})=>ze(function*(){return yield xe(Qt,"GET","url",{id:e,schoolName:t,project:s,degree:a,startDt:i,endDt:l,content:r})})(),deleteVolEdu:({id:e})=>ze(function*(){return yield xe(Yt,"POST","url",{id:e})})(),insertCertificate:e=>ze(function*(){return yield xe(lt,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),selectCertificateByCondition:({userId:e})=>ze(function*(){return yield xe(rt,"GET","url",{userId:e})})(),updateCertificate:e=>ze(function*(){return yield xe(nt,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),uploadFile:e=>ze(function*(){return yield xe(It,"POST","post",e,{"Content-Type":"multipart/form-data"})})(),selectFileByCondition:({userId:e,dt:t})=>ze(function*(){return yield xe(wt,"GET","url",{userId:e,dt:t})})(),selectFileById:({id:e})=>ze(function*(){return yield xe(Dt,"GET","url",{id:e})})(),updateFile:({id:e,name:t,filepath:s,upDt:a,userId:i,status:l})=>ze(function*(){return yield xe($t,"GET","url",{id:e,name:t,filepath:s,upDt:a,userId:i,status:l})})(),deleteFileById:({id:e})=>ze(function*(){return yield xe(xt,"POST","url",{id:e})})(),insertChat:({fromId:e,toId:t,content:s})=>ze(function*(){return yield xe(ot,"GET","url",{fromId:e,toId:t,content:s})})(),selectAllChat:({uesrId:e})=>ze(function*(){return yield xe(ct,"GET","url",{uesrId:e})})(),selectByFromTo:({userId:e,dt:t})=>ze(function*(){return yield xe(dt,"GET","url",{userId:e,dt:t})})()},ts={name:"fileShow",data:()=>({}),props:{url:{default:""}},components:{},mounted(){},methods:{}},ss={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"fileShow"},[t("iframe",{attrs:{src:"../../../static/pdfjs/web/viewer.html?file="+this.url}})])},staticRenderFns:[]};var as={name:"file",data:()=>({showUrl:"",fileId:0,filePath:"",fileName:"",fileList:[],fileRes:[]}),props:{},components:{fileShow:s("VU/8")(ts,ss,!1,function(e){s("lROm")},"data-v-05a7cf50",null).exports},mounted(){},methods:{beforeUpload(e){this.files=e;const t="doc"===e.name.split(".")[1],s="docx"===e.name.split(".")[1],a="pdf"===e.name.split(".")[1];if(t||s||a)return this.fileName=e.name,!1;this.$message.warning("上传模板只能是 doc、docx格式或者pdf格式!")},submitUpload(){if(""==this.fileName)return this.$message.warning("请选择要上传的文件！"),!1;this.$emit("uploadFile",this.files,this.fileName)},fileBtn(){document.getElementById("file").click()},show(e){this.showUrl="../../../static/files/"+this.fileRes[e].name;var t="../../../static/files/"+this.fileRes[e].name;window.open("../../../static/pdfjs/web/viewer.html?file="+t)},getFileList(){es.selectFileById({id:this.fileId}).then(e=>{console.log("selectFileById",e),this.fileRes.push(e.data)})}}},is={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"file"},[s("el-upload",{ref:"upload",staticClass:"upload-demo",attrs:{action:"doUpload",limit:1,"file-list":e.fileList,"before-upload":e.beforeUpload}},[s("el-button",{attrs:{slot:"trigger",size:"small",type:"primary"},slot:"trigger"},[e._v("选取文件")]),e._v(" "),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(t){return e.submitUpload()}}},[e._v("保存到服务器")]),e._v(" "),s("div",{staticClass:"el-upload-list__item-name",attrs:{slot:"tip"},slot:"tip"},[e._v(e._s(e.fileName))])],1)],1)},staticRenderFns:[]};var ls=s("VU/8")(as,is,!1,function(e){s("Ed7i")},null,null).exports,rs=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ns={name:"volInfo",data(){return{zhiweiList:[],zhiwei:{name:"",addr:[{province:"",city:"",county:"",address:""},{province:"",city:"",county:"",address:""},{province:"",city:"",county:"",address:""}]},jiaoyuList:[],jiaoyu:{},licenseList:[],firstLicense:!0,licenseChecked:[],zhengshuDialog:!1,zhengshu:{},jingliList:[],jingli:{},jianliList:[],edit:{baseInfo:!1,uploadFile:!1,zhiwei:[!1,!1,!1],jiaoyu:[],jingli:[]},teacher:{},selectData:{status:[{name:"考虑机会",code:1},{name:"暂不考虑",code:2}],province:[],city:[],county:[],expectJob:[{province:[],city:[],county:[]},{province:[],city:[],county:[]},{province:[],city:[],county:[]}],education:[{name:"高中及以下",code:"1"},{name:"高中",code:"2"},{name:"大专",code:"3"},{name:"本科",code:"4"},{name:"硕士研究生",code:"5"},{name:"博士研究生",code:"6"}]},rules:{status:[{required:!0,message:" "}],education:[{required:!0,message:" "}],phone:[{required:!0,message:" "}],email:[{required:!0,message:" "},{validator:(e,t,s)=>{""===t?s(new Error("请输入邮箱")):/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/.test(t)?s():s(new Error("邮箱格式不正确"))},trigger:"blur"}],county:[{required:!0,message:" "}],password:[{required:!0,message:" "},{validator:(e,t,s)=>{""===t?s(new Error("请输入密码")):s()},trigger:"blur"}],checkPass:[{required:!0,message:" "},{validator:(e,t,s)=>{""===t?s(new Error(" ")):t!==this.teacher.password?this.$message.warning("密码不一致"):s()},trigger:"blur"}],applyId:[{required:!0,message:" ",trigger:"blur"}],startDt:[{required:!0,message:" "}]},zhiweiRules:{name:[{required:!0,message:" "}],zhiweiAddr:[{validator:(e,t,s)=>{""==this.zhiwei.addr[0].county?(this.$message.warning("请输入至少一个期望地址"),s(new Error(" "))):s()},trigger:"blur"}]},jiaoyuRules:{schoolName:[{required:!0,message:" "}],project:[{required:!0,message:" "}],degree:[{required:!0,message:" "}],range:[{validator:(e,t,s)=>{this.zhiwei.addr[0];let a=this.jiaoyu.startDt||"",i=this.jiaoyu.endDt||this.jiaoyu.endDtBak||"";""==a||""==i?s(new Error(" ")):s()},trigger:"blur"}]},jingliRules:{companyName:[{required:!0,message:" "}],departName:[{required:!0,message:" "}],jobName:[{required:!0,message:" "}],range:[{validator:(e,t,s)=>{let a=this.jingli.startDt||"",i=this.jingli.endDt||this.jingli.endDtBak||"";""==a||""==i?s(new Error(" ")):s()},trigger:"blur"}]},identyHisFormVisible:!1,identyHisTableTitles:[{prop:"applyDt",label:"申请日期"},{prop:"applyId",label:"证书号"},{prop:"applyStartdt",label:"证书开始日期"},{prop:"applyEnddt",label:"证书结束日期"},{prop:"resultName",label:"结果"},{prop:"describe",label:"备注说明"}],identyHisTableData:[],identyHisTableConf:{operation:!1},identyFormVisible:!1,identyFormData:{},teacherIdenty:{}}},props:{},components:{uploadFile:ls,tablePage:ue},created(){this.teacher=JSON.parse(sessionStorage.getItem("user")),this.teacher.userId?(this.getUserInfo(),this.getExpectJobs(),this.getJiaoyuList(),this.getJingliList(),this.getZhengshuList(),this.getJianliList()):(this.getUserInfo(this.teacher.id),this.getExpectJobs(this.teacher.id),this.getJiaoyuList(this.teacher.id),this.getJingliList(this.teacher.id),this.getZhengshuList(this.teacher.id),this.getJianliList(this.teacher.id)),this.$request.selectLicense({}).then(e=>{this.licenseList=e.data})},mounted(){},methods:{getUserInfo(e=this.teacher.userId){let t=this;this.$request.getVolunteer({userId:e}).then(s=>{t.teacher=s.data,t.teacher.province=s.data.address.substring(0,2),t.teacher.city=s.data.address.substring(0,4),t.teacher.county=s.data.address,t.selectData.education.forEach(e=>{e.code==t.teacher.education&&(t.teacher.educationName=e.name)}),t.teacher.checkPass="",t.$request.getLastVolIdenty({volId:e}).then(e=>{"[]"!=e.data.img?e.data.img=e.data.img.substr(1,e.data.img.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):e.data.img=[],t.teacherIdenty=rs({},e.data)}),this.$request.selectAddress({level:1,pcode:0}).then(e=>{t.selectData.province=e.data,t.selectData.expectJob.forEach(t=>{t.province=e.data})}),this.$request.selectAddress({level:2,pcode:t.teacher.province}).then(e=>{t.selectData.city=e.data}),this.$request.selectAddress({level:3,pcode:t.teacher.city}).then(e=>{t.selectData.county=e.data}),t.teacher=rs({},t.teacher),this.edit.baseInfo=!1})},getExpectJobs(e=this.teacher.userId){let t=this;this.edit.zhiwei=[!1,!1,!1],t.zhiweiList=[],t.$request.selectExpectJobByCondition({userId:e}).then(e=>{e.data.length>0&&e.data.forEach((e,t)=>{let s=[];for(let e=0;e<3;e++)s.push({province:"",city:"",county:""});e.addrs.split(";").forEach((e,t)=>{s[t].province=e.substr(0,2),s[t].city=e.substr(0,4),s[t].county=e}),e.addrsList=s}),t.zhiweiList=e.data})},getJiaoyuList(e=this.teacher.userId){let t=this;this.edit.jiaoyu=[],t.jiaoyuList=[],t.$request.selectVolEduByCondition({userId:e}).then(e=>{for(let t in e.data.length)this.edit.jiaoyu.push(!1);e.data.forEach(e=>{if("至今"==e.endDt)e.endDt="",e.endDtBak="至今";else if(e.endDt.indexOf("-")<0){let t=e.endDt.substring(0,4),s=e.endDt.substring(4,6),a=e.endDt.substring(6,8);e.endDt=t+"-"+s+"-"+a}}),t.jiaoyuList=[...e.data]})},getJingliList(e=this.teacher.userId){let t=this;this.edit.jingli=[],t.jingliList=[],t.$request.selectExperienceByCondition({userId:e}).then(e=>{for(let t in e.data.length)this.edit.jingli.push(!1);e.data.forEach(e=>{if("至今"==e.endDt)e.endDt="",e.endDtBak="至今";else if(e.endDt.indexOf("-")<0){let t=e.endDt.substring(0,4),s=e.endDt.substring(4,6),a=e.endDt.substring(6,8);e.endDt=t+"-"+s+"-"+a}}),t.jingliList=[...e.data]})},getZhengshuList(e=this.teacher.userId){let t=this;this.zhengshu={},this.zhengshuDialog=!1,t.$request.selectCertificateByCondition({userId:e}).then(e=>{e.data.length>0&&(t.zhengshu=rs({},e.data[0]),t.zhengshu.zhengshuList=(e.data[0].name||"").split(","),t.licenseChecked=[...t.zhengshu.zhengshuList])})},getJianliList(e=this.teacher.userId){let t=this;this.zhengshu={},this.zhengshuDialog=!1,this.$request.selectFileByCondition({userId:e}).then(e=>{t.jianliList=[...e.data]})},editSelfInfo(){this.$refs.baseForm.validate(e=>{if(!e)return!1;this.teacher.address=this.teacher.county||this.teacher.city||this.teacher.province||"",this.$request.editVolunteer(this.teacher).then(e=>{this.getUserInfo()})})},showIdentyHis(){this.$request.getVolIdenty({volId:this.teacher.userId}).then(e=>{this.identyHisTableData=e.data.map((e,t)=>{switch(e.result){case-1:e.resultName=0==t?"认证中":"过期";break;case 0:e.resultName="认证失败";break;case 2:e.resultName="认证成功"}return e}),this.identyHisFormVisible=!0})},handleRemove(e){let t=this.identyFormData.image;t.splice(t.indexOf(e),1),this.identyFormData.image=t},handleChange(e,t){this.identyFormData.image=t,t.length>2&&(this.$message.warning("最多选择两张照片"),t.splice(t.length-1,1))},applyVolIdenty(){this.$refs.identyForm.validate(e=>{if(!e)return!1;{let e=(this.identyFormData.image||[]).map(e=>e.raw),t=new FormData;e.forEach(e=>{t.append("image",e)}),t.append("volId",this.teacher.userId),t.append("applyStartdt",this.identyFormData.startDt[0].replace(/-/g,"")),t.append("applyEnddt",this.identyFormData.startDt[1].replace(/-/g,"")),t.append("applyId",this.identyFormData.applyId),t.append("frontPath",this.$rootPath),this.$request.appplyVolIdenty(t).then(e=>{this.getUserInfo(),this.identyFormVisible=!1})}})},changeCity(e){let t=this;t.selectData.city=[],t.selectData.county=[],t.teacher.city="",t.teacher.county="",this.$request.selectAddress({level:2,pcode:e}).then(e=>{t.selectData.city=e.data})},changeCounty(e){let t=this;t.selectData.county=[],t.teacher.county="",this.$request.selectAddress({level:3,pcode:e}).then(e=>{t.selectData.county=e.data})},changeExpectCity(e,t={}){let s=this;s.selectData.expectJob[e].city=[],s.selectData.expectJob[e].county=[],t.province?(t.city="",t.county="",this.$request.selectAddress({level:2,pcode:t.province}).then(t=>{s.selectData.expectJob[e].city=t.data})):(s.zhiwei.addr[e].city="",s.zhiwei.addr[e].county="",this.$request.selectAddress({level:2,pcode:s.zhiwei.addr[e].province}).then(t=>{s.selectData.expectJob[e].city=t.data}))},changeExpectCounty(e,t={}){let s=this;s.selectData.expectJob[e].county=[],t.province?(t.county="",this.$request.selectAddress({level:3,pcode:t.city}).then(t=>{s.selectData.expectJob[e].county=t.data})):(s.zhiwei.addr[e].county="",this.$request.selectAddress({level:3,pcode:s.zhiwei.addr[e].city}).then(t=>{s.selectData.expectJob[e].county=t.data}))},editData(e,t){let s=this,a=rs({},this.edit);if(-1==t)a[e]=!a[e];else{let i=[...a[e]];i[t]=!i[t];for(let e=0;e<i.length;e++)e!=t&&(i[e]=!1);switch(i.forEach((e,t)=>{}),a[e]=[...i],e){case"zhiwei":s.zhiweiList[t].addrsList.forEach((e,t)=>{let a=s.selectData.expectJob[t];e.province&&this.$request.selectAddress({level:1,pcode:0}).then(e=>{a.province=[...e.data]}),e.city&&this.$request.selectAddress({level:2,pcode:e.province}).then(e=>{a.city=[...e.data]}),e.county&&this.$request.selectAddress({level:3,pcode:e.city}).then(e=>{a.county=[...e.data]})})}}this.edit=rs({},a)},showJianli(e){let t=e.filepath;t=t.split("static"),console.log(t),window.open("../../../../static/pdfjs/web/viewer.html?file=/static"+t[1])},addExpectJob(){let e=this;this.$refs.zhiweiForm.validate(t=>{if(!t)return!1;{let t=e.zhiwei,s="";t.addr.forEach(e=>{""!=e.county&&(s+=e.county+";")});let a={name:t.name,addrs:s.substr(0,s.length-2),userId:this.teacher.userId};this.$request.insertExpectJob(a).then(e=>{this.getExpectJobs(),this.zhiwei={name:"",addr:[{province:"",city:"",county:"",address:""},{province:"",city:"",county:"",address:""},{province:"",city:"",county:"",address:""}]},this.$refs.zhiweiForm.resetFields()})}})},deleteExpectJob(e){let t=this.zhiweiList[e].id;this.$request.deleteExpectJob({id:t}).then(e=>{this.getExpectJobs()})},editExpectJob(e){this.$refs.zhiweiEditForm[0].validate(t=>{if(!t)return!1;{let t="";e.addrsList.forEach(e=>{t+=e.county+";"}),e.addrs=t.substr(0,t.length-2),this.$request.updateExpectJob(e).then(e=>{this.getExpectJobs()})}})},addJiaoyu(){let e=this;this.$refs.jiaoyuForm.validate(t=>{if(!t)return!1;{let t=this.jiaoyu,s={schoolName:t.schoolName,project:t.project,degree:t.degree,startDt:t.startDt.replace(/-/g,""),endDt:(t.endDtBak||t.endDt).replace(/-/g,""),content:t.content||"",userId:e.teacher.userId};e.$request.insertVolEdu(s).then(e=>{this.getJiaoyuList(),this.$refs.jiaoyuForm.resetFields(),this.jiaoyu={}})}})},deleteJiaoyu(e){let t=this.jiaoyuList[e].id;this.$request.deleteVolEdu({id:t}).then(e=>{this.getJiaoyuList()})},changeJiaoyuEndDt(e=this.jiaoyu){e.id?e.endDtBak="至今"==e.endDt?e.endDt:"":"至今"==e.endDtBak?e.endDtBak="":(this.$set(e,"endDt",""),this.$set(e,"endDtBak","至今"))},changeJiaoyuEndDtBak(e=this.jiaoyu){this.$set(e,"endDtBak","")},editJiaoyu(e){let t=this;this.$refs.jiaoyuEditForm[0].validate(s=>{if(!s)return!1;{let s=rs({},e),a={id:s.id,schoolName:s.schoolName,project:s.project,degree:s.degree,startDt:s.startDt.replace(/-/g,""),endDt:s.endDtBak||s.endDt,content:s.content||""};t.$request.updateVolEdu(a).then(e=>{this.getJiaoyuList()})}})},addZhengshu(){let e=this,t=new FormData;t.append("name",e.licenseChecked.join(",")),t.append("userId",e.teacher.userId),this.zhengshu.id?(t.append("id",this.zhengshu.id),e.$request.updateCertificate(t).then(t=>{e.getZhengshuList()})):e.$request.insertCertificate(t).then(t=>{e.getZhengshuList()})},addJingli(){let e=this;this.$refs.jingliForm.validate(t=>{if(!t)return!1;{let t=e.jingli,s={companyName:t.companyName,startDt:t.startDt.replace(/-/g,""),endDt:(t.endDtBak||t.endDt).replace(/-/g,""),departName:t.departName,jobName:t.jobName,task:t.task||"",performance:t.performance||"",userId:e.teacher.userId};e.$request.insertExperience(s).then(e=>{this.getJingliList(),this.$refs.jingliForm.resetFields(),this.jingli={}})}})},deleteJingli(e){let t=this,s=this.teacher.jingli[e].id;t.$request.deleteExperience({id:s}).then(e=>{t.getUserInfo(t.teacher.userId)})},changeJingliEndDt(e=this.jingli){e.id?e.endDtBak="至今"==e.endDt?e.endDt:"":"至今"==e.endDtBak?e.endDtBak="":(this.$set(e,"endDt",""),this.$set(e,"endDtBak","至今"))},changeJingliEndDtBak(e=this.jingli){this.$set(e,"endDtBak","")},editJingli(e){let t=this;this.$refs.jingliEditForm[0].validate(s=>{if(!s)return!1;{let s=rs({},e),a={id:s.id,companyName:s.companyName,startDt:s.startDt.replace(/-/g,""),endDt:(s.endDtBak||s.endDt).replace(/-/g,""),departName:s.departName,jobName:s.jobName,task:s.task||"",performance:s.performance||""};t.$request.updateExperience(a).then(e=>{this.getJingliList()})}})},uploadFile(e,t){let s=this,a=new FormData;a.append("file",e,t),a.append("userId",this.teacher.userId),a.append("frontPath",this.$rootPath),this.$request.uploadFile(a).then(e=>{this.getJianliList(),s.$message.success("上传成功"),s.editData("uploadFile",-1)})},deleteJianli(e){let t=this,s=e.id;t.$request.deleteFileById({id:s}).then(e=>{this.getJianliList(),t.$message.success("删除成功")})},identyHisTableCellStyle(e){if("resultName"==e.column.property)switch(e.row.result){case-1:return 0==e.rowIndex?"color:orange;":"color:#ccc;";case 0:return"color:red;";case 2:return"color:green;"}},handleCommand(e){this.licenseChecked.indexOf(e)<0&&this.licenseChecked.splice(0,0,e)},removeLicense(e){let t=[];this.licenseChecked.forEach(s=>{s!=e&&t.push(s)}),this.licenseChecked=t}}},os={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"volInfo"},[s("div",{staticClass:"content"},[s("div",{staticClass:"jingli"},[s("div",{staticClass:"part zhiwei"},[s("div",{staticClass:"title"},[e._v("期望岗位")]),e._v(" "),s("div",{staticClass:"partContent"},[e._l(e.zhiweiList,function(t,a){return s("div",{key:a,staticClass:"zhiweiContent"},[e.edit.zhiwei[a]?s("div",{staticClass:"edit-zhiwei"},[s("el-form",{ref:"zhiweiEditForm",refInFor:!0,staticClass:"identy-form",attrs:{"label-position":"right",model:t,rules:e.zhiweiRules}},[s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"职位名称",prop:"name"}},[s("el-input",{model:{value:t.name,callback:function(s){e.$set(t,"name",s)},expression:"zhiweiInfo.name"}})],1),e._v(" "),e._l(3,function(a,i){return s("el-form-item",{key:i,staticClass:"edit-form-item",attrs:{label:"期望地址"+(i+1),prop:"zhiweiAddr"+i}},[s("el-select",{attrs:{placeholder:"省"},on:{change:function(s){return e.changeExpectCity(i,t.addrsList[i])}},model:{value:t.addrsList[i].province,callback:function(s){e.$set(t.addrsList[i],"province",s)},expression:"zhiweiInfo.addrsList[addrIdx].province"}},e._l(e.selectData.expectJob[i].province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:function(s){return e.changeExpectCounty(i,t.addrsList[i])}},model:{value:t.addrsList[i].city,callback:function(s){e.$set(t.addrsList[i],"city",s)},expression:"zhiweiInfo.addrsList[addrIdx].city"}},e._l(e.selectData.expectJob[i].city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},model:{value:t.addrsList[i].county,callback:function(s){e.$set(t.addrsList[i],"county",s)},expression:"zhiweiInfo.addrsList[addrIdx].county"}},e._l(e.selectData.expectJob[i].county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)],1)})],2),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(s){return e.editExpectJob(t)}}},[e._v("提交")]),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(t){return e.editData("zhiwei",a)}}},[e._v("取消")])],1):s("div",{staticClass:"zhiweiContent-part"},[s("span",{staticClass:"zhiweiContent-edit"},[s("a",{staticClass:"edit",on:{click:function(t){return e.editData("zhiwei",a)}}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("label",[e._v("编辑")])]),e._v(" "),s("a",{staticClass:"edit",on:{click:function(t){return e.deleteExpectJob(a)}}},[s("i",{staticClass:"el-icon-delete"}),e._v(" "),s("label",[e._v("删除")])])]),e._v(" "),s("span",[s("i",{staticClass:"el-icon-self-yingpinzhiwei"}),e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),s("span",[s("i",{staticClass:"el-icon-self-dingwei"}),e._v(" "),e._l(t.addrNames,function(t,a){return s("label",{key:a},[e._v("\n                  "+e._s(t)+"\n                ")])})],2)])])}),e._v(" "),e.edit.zhiwei.indexOf(!0)<0&&e.zhiweiList.length<3?s("div",{staticClass:"zhiweiContent"},[s("div",{staticClass:"edit-zhiwei"},[s("el-form",{ref:"zhiweiForm",staticClass:"identy-form",attrs:{"label-position":"right",model:e.zhiwei,rules:e.zhiweiRules}},[s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"职位名称",prop:"name"}},[s("el-input",{model:{value:e.zhiwei.name,callback:function(t){e.$set(e.zhiwei,"name",t)},expression:"zhiwei.name"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"期望地址1",prop:"zhiweiAddr"}},[s("el-select",{attrs:{placeholder:"省"},on:{change:function(t){return e.changeExpectCity(0)}},model:{value:e.zhiwei.addr[0].province,callback:function(t){e.$set(e.zhiwei.addr[0],"province",t)},expression:"zhiwei.addr[0].province"}},e._l(e.selectData.expectJob[0].province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:function(t){return e.changeExpectCounty(0)}},model:{value:e.zhiwei.addr[0].city,callback:function(t){e.$set(e.zhiwei.addr[0],"city",t)},expression:"zhiwei.addr[0].city"}},e._l(e.selectData.expectJob[0].city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},model:{value:e.zhiwei.addr[0].county,callback:function(t){e.$set(e.zhiwei.addr[0],"county",t)},expression:"zhiwei.addr[0].county"}},e._l(e.selectData.expectJob[0].county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"期望地址2"}},[s("el-select",{attrs:{placeholder:"省"},on:{change:function(t){return e.changeExpectCity(1)}},model:{value:e.zhiwei.addr[1].province,callback:function(t){e.$set(e.zhiwei.addr[1],"province",t)},expression:"zhiwei.addr[1].province"}},e._l(e.selectData.expectJob[1].province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:function(t){return e.changeExpectCounty(1)}},model:{value:e.zhiwei.addr[1].city,callback:function(t){e.$set(e.zhiwei.addr[1],"city",t)},expression:"zhiwei.addr[1].city"}},e._l(e.selectData.expectJob[1].city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},model:{value:e.zhiwei.addr[1].county,callback:function(t){e.$set(e.zhiwei.addr[1],"county",t)},expression:"zhiwei.addr[1].county"}},e._l(e.selectData.expectJob[1].county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"期望地址3"}},[s("el-select",{attrs:{placeholder:"省"},on:{change:function(t){return e.changeExpectCity(2)}},model:{value:e.zhiwei.addr[2].province,callback:function(t){e.$set(e.zhiwei.addr[2],"province",t)},expression:"zhiwei.addr[2].province"}},e._l(e.selectData.expectJob[2].province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:function(t){return e.changeExpectCounty(2)}},model:{value:e.zhiwei.addr[2].city,callback:function(t){e.$set(e.zhiwei.addr[2],"city",t)},expression:"zhiwei.addr[2].city"}},e._l(e.selectData.expectJob[2].city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},model:{value:e.zhiwei.addr[2].county,callback:function(t){e.$set(e.zhiwei.addr[2],"county",t)},expression:"zhiwei.addr[2].county"}},e._l(e.selectData.expectJob[2].county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)],1)],1)],1),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.addExpectJob}},[e._v("提交")])],1):e._e()],2)]),e._v(" "),s("div",{staticClass:"part jiaoyu"},[s("div",{staticClass:"title"},[e._v("教育经历")]),e._v(" "),s("div",{staticClass:"partContent"},[e._l(e.jiaoyuList,function(t,a){return s("div",{key:a,staticClass:"jiaoyuContent"},[e.edit.jiaoyu[a]?s("div",{staticClass:"edit-zhiwei"},[s("el-form",{ref:"jiaoyuEditForm",refInFor:!0,staticClass:"identy-form",attrs:{"label-position":"right",model:t,rules:e.jiaoyuRules}},[s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"学校名称",prop:"schoolName"}},[s("el-input",{model:{value:t.schoolName,callback:function(s){e.$set(t,"schoolName",s)},expression:"jiaoyuInfo.schoolName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"专业名称",prop:"project"}},[s("el-input",{model:{value:t.project,callback:function(s){e.$set(t,"project",s)},expression:"jiaoyuInfo.project"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"专业学历",prop:"degree"}},[s("el-input",{model:{value:t.degree,callback:function(s){e.$set(t,"degree",s)},expression:"jiaoyuInfo.degree"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item-date",attrs:{label:"就学时间"}},[s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"开始日期",clearable:!1},model:{value:t.startDt,callback:function(s){e.$set(t,"startDt",s)},expression:"jiaoyuInfo.startDt"}}),e._v(" "),s("span",{staticClass:"date-sperator"},[e._v("至")]),e._v(" "),s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"结束日期",clearable:!1},on:{change:function(s){return e.changeJiaoyuEndDtBak(t)}},model:{value:t.endDt,callback:function(s){e.$set(t,"endDt",s)},expression:"jiaoyuInfo.endDt"}}),e._v(" "),s("el-button",{style:"至今"==t.endDtBak?"background-color:#134120":" ",attrs:{type:"text"},on:{click:function(s){return e.changeJiaoyuEndDt(t)}}},[e._v("至今")])],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"学校经历",prop:"content"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.content,callback:function(s){e.$set(t,"content",s)},expression:"jiaoyuInfo.content"}})],1)],1),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(s){return e.editJiaoyu(t)}}},[e._v("提交")]),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(t){return e.editData("jiaoyu",a)}}},[e._v("取消")])],1):s("div",{staticClass:"jiaoyuContent-part"},[s("span",{staticClass:"jiaoyuContent-edit"},[s("a",{staticClass:"edit",on:{click:function(t){return e.editData("jiaoyu",a)}}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("label",[e._v("编辑")])]),e._v(" "),s("a",{staticClass:"edit",on:{click:function(t){return e.deleteJiaoyu(a)}}},[s("i",{staticClass:"el-icon-delete"}),e._v(" "),s("label",[e._v("删除")])])]),e._v(" "),s("div",{staticClass:"gongsi"},[s("i",{staticClass:"el-icon-self-edu"}),e._v(" "),s("label",{attrs:{for:""}},[e._v(e._s(t.schoolName))]),e._v(" "),s("span",{staticClass:"time"},[e._v(e._s(t.startDt+"  --  "+(t.endDt||t.endDtBak)))])]),e._v(" "),s("div",{staticClass:"project"},[s("label",[e._v("专业：")]),e._v(" "),s("span",[e._v(e._s(t.project))])]),e._v(" "),s("div",{staticClass:"degree"},[s("label",[e._v("学历：")]),e._v(" "),s("span",[e._v(e._s(t.degree))])]),e._v(" "),s("div",{staticClass:"neirong"},[s("label",[e._v("经历：")]),e._v(" "),s("span",[e._v(e._s(t.content))])])])])}),e._v(" "),e.edit.jiaoyu.indexOf(!0)<0?s("div",{staticClass:"jiaoyuContent"},[s("div",{staticClass:"edit-zhiwei"},[s("el-form",{ref:"jiaoyuForm",staticClass:"identy-form",attrs:{"label-position":"right",model:e.jiaoyu,rules:e.jiaoyuRules}},[s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"学校名称",prop:"schoolName"}},[s("el-input",{model:{value:e.jiaoyu.schoolName,callback:function(t){e.$set(e.jiaoyu,"schoolName",t)},expression:"jiaoyu.schoolName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"专业名称",prop:"project"}},[s("el-input",{model:{value:e.jiaoyu.project,callback:function(t){e.$set(e.jiaoyu,"project",t)},expression:"jiaoyu.project"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"专业学历",prop:"degree"}},[s("el-input",{model:{value:e.jiaoyu.degree,callback:function(t){e.$set(e.jiaoyu,"degree",t)},expression:"jiaoyu.degree"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item-date",attrs:{label:"就学时间",prop:"range"}},[s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyyMMdd",placeholder:"开始日期"},model:{value:e.jiaoyu.startDt,callback:function(t){e.$set(e.jiaoyu,"startDt",t)},expression:"jiaoyu.startDt"}}),e._v(" "),s("span",{staticClass:"date-sperator"},[e._v("至")]),e._v(" "),s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyyMMdd",placeholder:"结束日期"},on:{change:function(t){return e.changeJiaoyuEndDtBak(e.jiaoyu)}},model:{value:e.jiaoyu.endDt,callback:function(t){e.$set(e.jiaoyu,"endDt",t)},expression:"jiaoyu.endDt"}}),e._v(" "),s("el-button",{style:"至今"==e.jiaoyu.endDtBak?"background-color:#134120":" ",attrs:{type:"text"},on:{click:function(t){return e.changeJiaoyuEndDt(e.jiaoyu)}}},[e._v("至今")])],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"学校经历",prop:"content"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.jiaoyu.content,callback:function(t){e.$set(e.jiaoyu,"content",t)},expression:"jiaoyu.content"}})],1)],1)],1),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.addJiaoyu}},[e._v("提交")])],1):e._e()],2)]),e._v(" "),s("div",{staticClass:"part zhengshu"},[s("div",{staticClass:"title"},[e._v("资格证书\n          "),e.zhengshuDialog?e._e():s("a",{staticClass:"edit",on:{click:function(t){e.zhengshuDialog=!0}}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("label",[e._v("编辑")])])]),e._v(" "),s("div",{staticClass:"partContent"},[e.zhengshuDialog?[s("div",{staticClass:"license-checked"},e._l(e.licenseChecked,function(t){return s("el-tag",{key:t,staticClass:"license-tag",attrs:{closable:"",type:"success"},on:{close:function(s){return e.removeLicense(t)}}},[e._v("\n                "+e._s(t)+"\n              ")])}),1),e._v(" "),s("el-tabs",{staticClass:"license-list",attrs:{"tab-position":"left"}},e._l(e.licenseList,function(t){return s("el-tab-pane",{key:t.name,staticClass:"license-main",attrs:{label:t.name}},e._l(t.subList,function(t){return s("div",{staticClass:"license-item"},[t.subList.length>0?s("el-dropdown",{key:t.name,staticClass:"license-sub-drop",on:{command:e.handleCommand}},[s("span",{staticClass:"el-dropdown-link"},[e._v("\n                      "+e._s(t.name)),s("i",{staticClass:"el-icon-arrow-down el-icon--right"})]),e._v(" "),s("el-dropdown-menu",{attrs:{slot:"dropdown"},slot:"dropdown"},e._l(t.subList,function(t){return s("el-dropdown-item",{key:t.name,attrs:{command:t.name}},[e._v("\n                        "+e._s(t.name)+"\n                      ")])}),1)],1):s("div",{staticClass:"license-sub",on:{click:function(s){return e.handleCommand(t.name)}}},[e._v(e._s(t.name))])],1)}),0)}),1),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.addZhengshu}},[e._v("提交")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.zhengshuDialog=!1}}},[e._v("取消")])]:s("div",e._l(e.zhengshu.zhengshuList,function(t){return s("el-tag",{key:t,staticClass:"license-tag",attrs:{type:"success"},on:{close:function(s){return e.removeLicense(t)}}},[e._v("\n              "+e._s(t)+"\n            ")])}),1)],2)]),e._v(" "),s("div",{staticClass:"part shengya"},[s("div",{staticClass:"title"},[e._v("工作经历")]),e._v(" "),s("div",{staticClass:"partContent"},[e._l(e.jingliList,function(t,a){return s("div",{key:a,staticClass:"jingliContent"},[e.edit.jingli[a]?s("div",{staticClass:"edit-zhiwei"},[s("el-form",{ref:"jingliEditForm",refInFor:!0,staticClass:"identy-form",attrs:{"label-position":"right",model:t,rules:e.jingliRules}},[s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"公司名称",prop:"companyName"}},[s("el-input",{model:{value:t.companyName,callback:function(s){e.$set(t,"companyName",s)},expression:"jingliInfo.companyName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"部门名称",prop:"departName"}},[s("el-input",{model:{value:t.departName,callback:function(s){e.$set(t,"departName",s)},expression:"jingliInfo.departName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"职位名称",prop:"jobName"}},[s("el-input",{model:{value:t.jobName,callback:function(s){e.$set(t,"jobName",s)},expression:"jingliInfo.jobName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item-date",attrs:{label:"工作时间"}},[s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"开始日期",clearable:!1},model:{value:t.startDt,callback:function(s){e.$set(t,"startDt",s)},expression:"jingliInfo.startDt"}}),e._v(" "),s("span",{staticClass:"date-sperator"},[e._v("至")]),e._v(" "),s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"结束日期",clearable:!1},on:{change:function(s){return e.changeJingliEndDtBak(t)}},model:{value:t.endDt,callback:function(s){e.$set(t,"endDt",s)},expression:"jingliInfo.endDt"}}),e._v(" "),s("el-button",{style:"至今"==t.endDtBak?"background-color:#134120":" ",attrs:{type:"text"},on:{click:function(s){return e.changeJingliEndDt(t)}}},[e._v("至今")])],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"工作内容",prop:"task"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.task,callback:function(s){e.$set(t,"task",s)},expression:"jingliInfo.task"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"工作业绩",prop:"performance"}},[s("el-input",{attrs:{type:"textarea"},model:{value:t.performance,callback:function(s){e.$set(t,"performance",s)},expression:"jingliInfo.performance"}})],1)],1),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(s){return e.editJingli(t)}}},[e._v("提交")]),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(t){return e.editData("jingli",a)}}},[e._v("取消")])],1):s("div",{staticClass:"jingliContent-part"},[s("span",{staticClass:"jingliContent-edit"},[s("a",{staticClass:"edit",on:{click:function(t){return e.editData("jingli",a)}}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("label",[e._v("编辑")])]),e._v(" "),s("a",{staticClass:"edit",on:{click:function(t){return e.deleteJingli(a)}}},[s("i",{staticClass:"el-icon-delete"}),e._v(" "),s("label",[e._v("删除")])])]),e._v(" "),s("div",{staticClass:"gongsi"},[s("i",{staticClass:"el-icon-self-yingpinzhiwei"}),e._v(" "),s("label",[e._v(e._s(t.companyName))]),e._v(" "),s("span",{staticClass:"time"},[e._v(e._s(t.startDt+"  --  "+(t.endDt||t.endDtBak)))])]),e._v(" "),s("div",{staticClass:"zhiwei"},[s("label",[e._v("部门职位：")]),e._v(" "),s("span",[e._v(e._s(t.departName+"  --  "+t.jobName))])]),e._v(" "),s("div",{staticClass:"neirong"},[s("label",[e._v("工作内容：")]),s("span",[e._v(e._s(t.task))])]),e._v(" "),s("div",{staticClass:"yeji"},[s("label",[e._v("工作业绩：")]),s("span",[e._v(e._s(t.performance))])])])])}),e._v(" "),e.edit.jingli.indexOf(!0)<0?s("div",{staticClass:"jingliContent"},[s("div",{staticClass:"edit-zhiwei"},[s("el-form",{ref:"jingliForm",staticClass:"identy-form",attrs:{"label-position":"right",model:e.jingli,rules:e.jingliRules}},[s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"公司名称",prop:"companyName"}},[s("el-input",{model:{value:e.jingli.companyName,callback:function(t){e.$set(e.jingli,"companyName",t)},expression:"jingli.companyName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"部门名称",prop:"departName"}},[s("el-input",{model:{value:e.jingli.departName,callback:function(t){e.$set(e.jingli,"departName",t)},expression:"jingli.departName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"职位名称",prop:"jobName"}},[s("el-input",{model:{value:e.jingli.jobName,callback:function(t){e.$set(e.jingli,"jobName",t)},expression:"jingli.jobName"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item-date",attrs:{label:"工作时间",prop:"range"}},[s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"开始日期",clearable:!1},model:{value:e.jingli.startDt,callback:function(t){e.$set(e.jingli,"startDt",t)},expression:"jingli.startDt"}}),e._v(" "),s("span",{staticClass:"date-sperator"},[e._v("至")]),e._v(" "),s("el-date-picker",{attrs:{type:"date",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd",placeholder:"结束日期",clearable:!1},on:{change:function(t){return e.changeJingliEndDtBak(e.jingli)}},model:{value:e.jingli.endDt,callback:function(t){e.$set(e.jingli,"endDt",t)},expression:"jingli.endDt"}}),e._v(" "),s("el-button",{style:"至今"==e.jingli.endDtBak?"background-color:#134120":" ",attrs:{type:"text"},on:{click:function(t){return e.changeJingliEndDt(e.jingli)}}},[e._v("至今")])],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"工作内容",prop:"task"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.jingli.task,callback:function(t){e.$set(e.jingli,"task",t)},expression:"jingli.task"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"工作业绩",prop:"performance"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.jingli.performance,callback:function(t){e.$set(e.jingli,"performance",t)},expression:"jingli.performance"}})],1)],1)],1),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.addJingli}},[e._v("提交")])],1):e._e()],2)])]),e._v(" "),s("div",{staticClass:"other"},[s("div",{staticClass:"self"},[s("div",{staticClass:"name"},[s("h2",{staticClass:"show"},[e._v(e._s(e.teacher.name))]),e._v(" "),e.edit.baseInfo?e._e():s("a",{staticClass:"edit",on:{click:function(t){e.edit.baseInfo=!0}}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("label",[e._v("编辑")])])]),e._v(" "),e.edit.baseInfo?s("div",{staticClass:"editBase"},[s("el-form",{ref:"baseForm",staticClass:"identy-form",attrs:{"label-position":"right",model:e.teacher,rules:e.rules}},[s("el-form-item",[s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:e.editSelfInfo}},[e._v("提交")]),e._v(" "),s("el-button",{staticClass:"submit-button",attrs:{type:"primary"},on:{click:function(t){e.edit.baseInfo=!1}}},[e._v("取消")])],1),e._v(" "),s("el-form-item",{attrs:{prop:"status"}},[s("label",{attrs:{slot:"label",for:""},slot:"label"},[e._v("当前状态")]),e._v(" "),s("el-select",{model:{value:e.teacher.status,callback:function(t){e.$set(e.teacher,"status",t)},expression:"teacher.status"}},e._l(e.selectData.status,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"education"}},[s("label",{attrs:{slot:"label"},slot:"label"},[e._v("学历")]),e._v(" "),s("el-select",{model:{value:e.teacher.education,callback:function(t){e.$set(e.teacher,"education",t)},expression:"teacher.education"}},e._l(e.selectData.education,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"phone"}},[s("label",{attrs:{slot:"label"},slot:"label"},[e._v("联系电话")]),e._v(" "),s("el-input",{model:{value:e.teacher.phone,callback:function(t){e.$set(e.teacher,"phone",t)},expression:"teacher.phone"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"email"}},[s("label",{attrs:{slot:"label"},slot:"label"},[e._v("联系邮箱")]),e._v(" "),s("el-input",{model:{value:e.teacher.email,callback:function(t){e.$set(e.teacher,"email",t)},expression:"teacher.email"}})],1),e._v(" "),s("el-form-item",{staticClass:"addr-input"},[s("label",{attrs:{slot:"label",for:""},slot:"label"},[e._v("联系地址")]),e._v(" "),s("el-select",{attrs:{placeholder:"省"},on:{change:e.changeCity},model:{value:e.teacher.province,callback:function(t){e.$set(e.teacher,"province",t)},expression:"teacher.province"}},e._l(e.selectData.province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:e.changeCounty},model:{value:e.teacher.city,callback:function(t){e.$set(e.teacher,"city",t)},expression:"teacher.city"}},e._l(e.selectData.city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},model:{value:e.teacher.county,callback:function(t){e.$set(e.teacher,"county",t)},expression:"teacher.county"}},e._l(e.selectData.county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{prop:"password"}},[s("label",{attrs:{slot:"label"},slot:"label"},[e._v("密码")]),e._v(" "),s("el-input",{attrs:{type:"password"},model:{value:e.teacher.password,callback:function(t){e.$set(e.teacher,"password",t)},expression:"teacher.password"}})],1),e._v(" "),s("el-form-item",{attrs:{prop:"checkPass"}},[s("label",{attrs:{slot:"label"},slot:"label"},[e._v("确认密码")]),e._v(" "),s("el-input",{attrs:{type:"password"},model:{value:e.teacher.checkPass,callback:function(t){e.$set(e.teacher,"checkPass",t)},expression:"teacher.checkPass"}})],1)],1)],1):s("div",{staticClass:"base"},[s("p",[s("i",{staticClass:"el-icon-self-touxiang"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("当前状态:")]),e._v("\n            "+e._s(1==e.teacher.status?"考虑机会":"暂不考虑")+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-self-edu"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("学       历:")]),e._v("\n            "+e._s(e.teacher.educationName)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-self-dianhua"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("联系电话:")]),e._v("\n            "+e._s(e.teacher.phone)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-message"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("联系邮箱:")]),e._v("\n            "+e._s(e.teacher.email)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-position"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("联系地址:")]),e._v("\n            "+e._s(e.teacher.addressName)+"\n          ")])])]),e._v(" "),s("div",{staticClass:"jianli"},[s("div",{staticClass:"title"},[s("h3",[e._v("身份认证")]),e._v(" "),s("div",{staticClass:"title-edit"},[s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:function(t){e.identyFormVisible=!0}}},[e._v("申请认证")]),e._v(" "),s("el-button",{attrs:{type:"text",icon:"el-icon-edit"},on:{click:e.showIdentyHis}},[e._v("认证历史")])],1)]),e._v(" "),s("el-dialog",{attrs:{title:"认证历史",visible:e.identyHisFormVisible,top:"2vh",width:"60%","destroy-on-close":!0},on:{"update:visible":function(t){e.identyHisFormVisible=t}}},[s("div",{staticClass:"history-info"},[e._v("仅处理最新认证申请")]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.identyHisTableTitles,tableData:e.identyHisTableData,tableConf:e.identyHisTableConf,tableCellStyle:e.identyHisTableCellStyle}})],1),e._v(" "),s("el-dialog",{attrs:{title:"申请认证",visible:e.identyFormVisible,top:"2vh",width:"40%","destroy-on-close":!0},on:{"update:visible":function(t){e.identyFormVisible=t}}},[s("el-form",{ref:"identyForm",staticClass:"identy-form",attrs:{"label-position":"right",model:e.identyFormData,rules:e.rules}},[s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"教资证书号",prop:"applyId"}},[s("el-input",{model:{value:e.identyFormData.applyId,callback:function(t){e.$set(e.identyFormData,"applyId",t)},expression:"identyFormData.applyId"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"证书有效期",prop:"startDt"}},[s("el-date-picker",{attrs:{type:"daterange","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期",format:"yyyy-MM-dd","value-format":"yyyyMMdd"},model:{value:e.identyFormData.startDt,callback:function(t){e.$set(e.identyFormData,"startDt",t)},expression:"identyFormData.startDt"}})],1),e._v(" "),s("el-form-item",{staticClass:"edit-form-item",attrs:{label:"相关图片"}},[s("div",{staticClass:"image-upload"},[s("el-upload",{attrs:{action:"doUpload","list-type":"picture-card","on-change":e.handleChange,"auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1)]),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.applyVolIdenty}},[e._v("提交申请")]),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:function(t){e.identyFormVisible=!1}}},[e._v("取消")])],1)],1)],1),e._v(" "),s("div",{staticClass:"base"},[s("p",[s("i",{staticClass:"el-icon-s-flag"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("申请状态:")]),e._v(" "),s("label",{style:-1==e.teacherIdenty.result?"color:orange":-2==e.teacherIdenty.result?"color:red":"color:green"},[e._v(" \n              "+e._s(-1==e.teacherIdenty.result?"认证中...":-2==e.teacherIdenty.result?"认证失败":"认证成功")+"\n              ")])]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-postcard"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("教资证号:")]),e._v("\n            "+e._s(e.teacherIdenty.applyId)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-date"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("证书开始日期:")]),e._v("\n            "+e._s(e.teacherIdenty.applyStartdt)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-date"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("证书结束日期:")]),e._v("\n            "+e._s(e.teacherIdenty.applyEnddt)+"\n          ")]),e._v(" "),s("p",{staticClass:"upload-images"},[s("i",{staticClass:"el-icon-picture-outline-round"}),e._v(" "),s("label",{attrs:{for:""}},[e.teacherIdenty.img&&e.teacherIdenty.img.length>0?e._l(e.teacherIdenty.img,function(e){return s("img",{staticClass:"upload-image",attrs:{src:e,alt:""}})}):[e._v("\n                无相关照片\n              ")]],2)])])],1),e._v(" "),s("div",{staticClass:"jianli"},[s("div",{staticClass:"title"},[e._v("附件简历")]),e._v(" "),s("div",{staticClass:"partContent"},[s("el-button",{on:{click:function(t){return e.editData("uploadFile",-1)}}},[e.edit.uploadFile?s("p",[s("label",[e._v("取消上传")])]):s("p",[s("i",{staticClass:"el-icon-plus"}),e._v(" "),s("label",[e._v("上传简历")])])]),e._v(" "),e._l(e.jianliList,function(t,a){return s("div",{key:a,staticClass:"jianliContent"},[s("label",{staticClass:"jianli-name",attrs:{for:""}},[s("i",{staticClass:"el-icon-document"}),e._v("\n                "+e._s(t.name)+"\n              ")]),e._v(" "),s("div",{staticClass:"jianliContent-edit"},[s("a",{staticClass:"edit",on:{click:function(s){return e.showJianli(t)}}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("label",[e._v("查看")])]),e._v(" "),s("a",{staticClass:"edit",on:{click:function(s){return e.deleteJianli(t)}}},[s("i",{staticClass:"el-icon-delete"}),e._v(" "),s("label",[e._v("删除")])])])])})],2),e._v(" "),e.edit.uploadFile?s("uploadFile",{on:{uploadFile:e.uploadFile}}):e._e()],1)])])])},staticRenderFns:[]};var cs=s("VU/8")(ns,os,!1,function(e){s("WILv"),s("j7S9")},"data-v-c532a330",null).exports,ds={name:"info-vol",data:()=>({activeName:"first",teacher:{name:"曾小贤",identiCard:"142729********20",phone:"1738200****",password:"adsfa",address:"北京市朝阳区",sex:1,gongzuojingyan:2,education:"本科",status:"暂不考虑",email:"dajuj@mail.com",province:"山西省",city:"太原市",county:"小店区",describe:"本人性格开朗，双料硕士学位，现任广播电视主持人。唱歌雷人，尤其喜欢在洗澡时唱歌，拥有打嗝特长的特殊技能。",zhiwei:[{qiwang:"数学教师",city:[{adcode:"75766",province:"山西省",city:"太原市",county:"小店区"},{adcode:"75766",province:"山东省",city:"潍坊市",county:"潍城区"},{adcode:"",province:"",city:"",county:""}]},{qiwang:"英语教师",city:[{adcode:"75766",province:"内蒙古自治区",city:"呼和浩特市",county:"呼和浩特经济技术开发区"},{adcode:"75766",province:"山东省",city:"潍坊市",county:"潍城区"},{adcode:"",province:"",city:"",county:""}]}],jiaoyu:[{name:"交通大学",xueli:"硕士",zhuanye:"历史学",start:"2015.9",end:"2018.9",neirong:"无"},{name:"交通大学",xueli:"硕士",zhuanye:"哲学",start:"2015.9",end:"2018.9",neirong:"无"}],zhengshu:"大学英语四级;大学英语六级",jingli:[{name:"上海市XXX广播电台",hangye:"广播/影视",bumen:"广播部",zhiwei:"广播主持人",zhiweileixing:"主播",start:"2018.1",end:"至今",neirong:"主持深夜广播节目《你的月亮我的心》",yeji:"拉到三个赞助商广告"},{name:"上海市XXX广播电台",hangye:"广播/影视",bumen:"广播部",zhiwei:"广播主持人",zhiweileixing:"主播",start:"2008.12",end:"2018.1",neirong:"主持深夜广播节目《你的月亮我的心》"},{name:"上海市XXX广播电台",hangye:"广播/影视",zhiwei:"广播主持人",zhiweileixing:"主播",start:"2008.10",end:"2008.12",neirong:"主持深夜广播节目《你的月亮我的心》",yeji:"拉到三个赞助商广告"}],shejiao:"https://baike.baidu.com/item/%E6%9B%BE%E5%B0%8F%E8%B4%A4/1926595?fr=aladdin||https://baike.baidu.com/item/%E6%9B%BE%E5%B0%8F%E8%B4%A4/1926595?fr=aladdin",jianli:[{name:"附件简历_1",path:"../../../../static/files/转正申请书-张泽丹_1567833451113.pdf"}]}}),props:{},components:{essay:$,disguss:j},created(){let e=this;this.teacher.zhengshu=this.teacher.zhengshu.split(";"),e.teacher.shejiaoList=[],[...this.teacher.shejiao.split("||")].forEach((t,s)=>{e.teacher.shejiaoList.push({value:t,key:s})})},mounted(){},methods:{showSchool(){this.$router.push("/school")},showJianli(e){window.open("../../../static/pdfjs/web/viewer.html?file="+e)}}},us={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"info-vol"},[s("div",{staticClass:"left"},[s("div",{staticClass:"jingli"},[s("div",{staticClass:"part selfInfo"},[s("div",{staticClass:"title"},[e._v("个人优势\n        ")]),e._v(" "),s("div",{staticClass:"partContent"},[e._v(e._s(e.teacher.describe))])]),e._v(" "),s("div",{staticClass:"part zhiwei"},[s("div",{staticClass:"title"},[e._v("期望岗位\n        ")]),e._v(" "),s("div",{staticClass:"partContent"},e._l(e.teacher.zhiwei,function(t,a){return s("div",{key:a,staticClass:"zhiweiContent"},[s("div",[s("span",[s("i",{staticClass:"el-icon-self-yingpinzhiwei"}),e._v("\n                "+e._s(t.qiwang)+"\n              ")]),e._v(" "),s("span",[s("i",{staticClass:"el-icon-self-dingwei"}),e._v(" "),e._l(t.city,function(t,a){return s("label",{key:a},[e._v("\n                  "+e._s(t.province+t.city+t.county)+"\n                ")])})],2)])])}),0)]),e._v(" "),s("div",{staticClass:"part jiaoyu"},[s("div",{staticClass:"title"},[e._v("教育经历")]),e._v(" "),s("div",{staticClass:"partContent"},e._l(e.teacher.jiaoyu,function(t,a){return s("div",{key:a,staticClass:"jiaoyuContent"},[s("div",[s("div",{staticClass:"gongsi"},[s("i",{staticClass:"el-icon-self-edu"}),e._v("\n                "+e._s(t.name)+"\n                "),s("span",{staticClass:"time"},[e._v(e._s(t.start+"-"+t.end))])]),e._v(" "),s("div",{staticClass:"zhiwei"},[s("span",[e._v(e._s(t.zhuanye))]),e._v(" "),t.xueli?s("span",[e._v(e._s(t.xueli))]):e._e()]),e._v(" "),s("div",{staticClass:"neirong"},[s("label",[e._v("内容：")]),s("span",[e._v(e._s(t.neirong))])])])])}),0)]),e._v(" "),s("div",{staticClass:"part zhengshu"},[s("div",{staticClass:"title"},[e._v("资格证书\n        ")]),e._v(" "),s("div",{staticClass:"partContent"},[s("div",e._l(e.teacher.zhengshu,function(t,a){return s("div",{key:a,staticClass:"zhengshuContent"},[e._v("\n                "+e._s(t)+"\n            ")])}),0)])]),e._v(" "),s("div",{staticClass:"part shengya"},[s("div",{staticClass:"title"},[e._v("工作经历")]),e._v(" "),s("div",{staticClass:"partContent"},e._l(e.teacher.jingli,function(t,a){return s("div",{key:a,staticClass:"jingliContent"},[s("div",[s("div",{staticClass:"gongsi"},[s("i",{staticClass:"el-icon-self-yingpinzhiwei"}),e._v("\n                "+e._s(t.name)+"\n                "),s("span",{staticClass:"time"},[e._v(e._s(t.start+"-"+t.end))])]),e._v(" "),s("div",{staticClass:"zhiwei"},[t.bumen?s("span",[e._v(e._s(t.bumen))]):e._e(),e._v(" "),s("span",[e._v(e._s(t.zhiweileixing))])]),e._v(" "),s("div",{staticClass:"neirong"},[s("label",[e._v("内容：")]),s("span",[e._v(e._s(t.neirong))])]),e._v(" "),t.yeji?s("div",{staticClass:"yeji"},[s("label",[e._v("业绩：")]),s("span",[e._v(e._s(t.yeji))])]):e._e()])])}),0)]),e._v(" "),s("div",{staticClass:"part shejiao"},[s("div",{staticClass:"title"},[e._v("社交主页")]),e._v(" "),s("div",{staticClass:"partContent"},e._l(e.teacher.shejiaoList,function(t,a){return s("div",{key:a,staticClass:"shejiaoContent"},[s("div",[s("p",[s("i",{staticClass:"el-icon-monitor"}),e._v(e._s(t.value)+"\n              ")])])])}),0)])]),e._v(" "),s("div",{staticClass:"other"},[s("div",{staticClass:"self"},[s("div",{staticClass:"name"},[s("h2",{staticClass:"show"},[e._v(e._s(e.teacher.name))]),e._v(" "),1==e.teacher.sex?s("p",{staticClass:"sex"},[e._v("♀")]):e._e(),e._v(" "),0==e.teacher.sex?s("p",{staticClass:"sex"},[e._v("♂")]):e._e()]),e._v(" "),s("div",{staticClass:"base"},[s("p",[s("i",{staticClass:"el-icon-self-touxiang"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("当前状态:")]),e._v("\n            "+e._s(e.teacher.status)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-self-gongzuojingyan"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("工作经验:")]),e._v("\n            "+e._s(e.teacher.gongzuojingyan)+"年\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-self-edu"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("学       历:")]),e._v("\n            "+e._s(e.teacher.education)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-self-dianhua"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("联系电话:")]),e._v("\n            "+e._s(e.teacher.phone)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-message"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("联系邮箱:")]),e._v("\n            "+e._s(e.teacher.email)+"\n          ")]),e._v(" "),s("p",[s("i",{staticClass:"el-icon-message"}),e._v(" "),s("label",{attrs:{for:""}},[e._v("联系地址:")]),e._v("\n            "+e._s(e.teacher.province)+e._s(e.teacher.city)+e._s(e.teacher.county)+"\n          ")])])]),e._v(" "),s("div",{staticClass:"jianli"},[s("div",{staticClass:"title"},[e._v("附件简历")]),e._v(" "),s("div",{staticClass:"partContent"},e._l(e.teacher.jianli,function(t,a){return s("div",{key:a,staticClass:"jianliContent"},[s("i",{staticClass:"el-icon-document"}),e._v("\n            "+e._s(t.name)+"\n            "),s("a",{staticClass:"edit",on:{click:function(s){return e.showJianli(t.path)}}},[s("i",{staticClass:"el-icon-edit"}),e._v(" "),s("label",[e._v("查看")])])])}),0)])])]),e._v(" "),s("div",{staticClass:"info"},[s("el-tabs",{model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"文章",name:"first"}},[s("div",{staticClass:"main-interest"},e._l(9,function(e,t){return s("essay",{key:e,staticClass:"half article"})}),1)]),e._v(" "),s("el-tab-pane",{attrs:{label:"帖子",name:"second"}},[s("div",{staticClass:"main-interest"},e._l(5,function(e,t){return s("disguss",{key:e,staticClass:"half"})}),1)])],1)],1)])},staticRenderFns:[]};var hs=s("VU/8")(ds,us,!1,function(e){s("Mqg6")},"data-v-a59ea166",null).exports,ps=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ms={name:"edit-school",data:()=>({schoolSrc:{},school:{},selectData:{province:[],city:[],county:[]},rules:{name:[{required:!0,message:"不能为空"}],county:[{required:!0,message:"不能为空"}],establishDt:[{required:!0,message:"不能为空"}],education:[{required:!0,message:"不能为空"}],descr:[{required:!0,message:"不能为空"}]}}),props:{typeIdx:{default:-1}},components:{},created(){},mounted(){this.initData()},methods:{initData(){let e=this;this.school={province:"",city:"",county:"",imgs:[],establishDt:"2000-01-01"},this.$request.selectAddress({level:1,pcode:0}).then(t=>{e.selectData.province=t.data}),-1!=this.typeIdx&&this.$request.selectSchoolById({schoolId:e.typeIdx}).then(t=>{e.school=t.data,this.schoolSrc=ps({},t.data),"[]"!=e.school.imgs?e.school.imgs=e.school.imgs.substr(1,e.school.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):e.school.imgs=[],e.school.province=e.school.address.substring(0,2),e.school.city=e.school.address.substring(0,4),e.school.county=e.school.address.substring(0,6),this.$request.selectAddress({level:2,pcode:e.school.province}).then(t=>{e.selectData.city=t.data}),this.$request.selectAddress({level:3,pcode:e.school.city}).then(t=>{e.selectData.county=t.data}),e.school=ps({},e.school)})},changeCity(e){let t=this;t.selectData.city=[],t.selectData.county=[],t.school.city="",t.school.county="",t.school.address="",this.$request.selectAddress({level:2,pcode:e}).then(e=>{t.selectData.city=e.data})},changeCounty(e){let t=this;t.selectData.county=[],t.school.county="",t.school.address="",this.$request.selectAddress({level:3,pcode:e}).then(e=>{t.selectData.county=e.data})},changeAddr(e){this.school.county=e,this.school.address=e},cancel(){this.$emit("cancel")},onSubmit(){this.$refs.form.validate(e=>{if(!e)return!1;{let e=ps({},this.school);if(-1!=this.typeIdx)if("[]"!=this.schoolSrc.imgs){let t="[";this.schoolSrc.imgs.substr(1,this.schoolSrc.imgs.length-2).split(",").forEach(e=>{this.school.imgs.forEach(s=>{s=s.replace(/\//g,"\\"),e.indexOf(s)>=0&&(t+=e+",")})}),t=t.substr(0,t.length-1),t+="]",e.imgs=t}else e.imgs="[]";this.$emit("onSubmit",e)}})},handleChange(e,t){this.school.image=t},handleRemove(e){let t=this.school.image;t.splice(t.indexOf(e),1),this.school.image=t},handleRemoveHis(e){this.school.imgs.splice(this.school.imgs.indexOf(e),1)}},watch:{typeIdx(e,t){this.initData()}}},vs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-school"},[s("el-form",{ref:"form",attrs:{model:e.school,"label-position":"right",rules:e.rules}},[s("el-form-item",{attrs:{label:"学校名称",prop:"name"}},[s("el-input",{model:{value:e.school.name,callback:function(t){e.$set(e.school,"name",t)},expression:"school.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"成立日期",prop:"establishDt"}},[s("el-date-picker",{attrs:{type:"date",placeholder:"选择日期",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:e.school.establishDt,callback:function(t){e.$set(e.school,"establishDt",t)},expression:"school.establishDt"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学校地址",prop:"county"}},[s("el-select",{attrs:{placeholder:"省"},on:{change:e.changeCity},model:{value:e.school.province,callback:function(t){e.$set(e.school,"province",t)},expression:"school.province"}},e._l(e.selectData.province,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"市"},on:{change:e.changeCounty},model:{value:e.school.city,callback:function(t){e.$set(e.school,"city",t)},expression:"school.city"}},e._l(e.selectData.city,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1),e._v(" "),s("el-select",{attrs:{placeholder:"区县"},on:{change:e.changeAddr},model:{value:e.school.county,callback:function(t){e.$set(e.school,"county",t)},expression:"school.county"}},e._l(e.selectData.county,function(e){return s("el-option",{key:e.code,attrs:{label:e.name,value:e.code,placeholder:""}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"学校教育",prop:"education"}},[s("el-input",{model:{value:e.school.education,callback:function(t){e.$set(e.school,"education",t)},expression:"school.education"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"学校介绍",prop:"descr"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.school.descr,callback:function(t){e.$set(e.school,"descr",t)},expression:"school.descr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"相关照片"}},[-1!=e.typeIdx&&e.school.imgs&&e.school.imgs.length>0?s("div",[s("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},e._l(e.school.imgs,function(t){return s("li",{staticClass:"el-upload-list__item is-ready",attrs:{tabindex:"0"}},[s("div",[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(s){return e.handleRemoveHis(t)}}},[s("i",{staticClass:"el-icon-delete"})])])])])}),0)]):e._e(),e._v(" "),s("el-upload",{ref:"imgUpload",attrs:{action:"doUpload","list-type":"picture-card","on-change":e.handleChange,"auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var fs=s("VU/8")(ms,vs,!1,function(e){s("Mnv7")},null,null).exports,ys={name:"schInfo",data(){return{typeIdx:-1,editVisible:!1,tableData:[],tableTitles:[{prop:"name",label:"学校名称"},{prop:"addressName",label:"学校地址"},{prop:"education",label:"学校教育"},{prop:"establishDt",label:"创建时间"}],tableConf:{operation:!0,btns:[{id:"edit",text:"修改信息",size:"medium",type:"text",click:e=>{this.typeIdx=e.id,this.editVisible=!0}},{id:"delete",text:"删除学校",size:"medium",type:"text",click:e=>{e.status=-1;let t=this;this.$request.deleteSchoolById({schoolId:e.id}).then(e=>{t.getSchoolList(t.recruiter.userId)})}}]},paginationConf:{sizes:[10,20,50,100],size:20,total:500},inputData:[{placeholder:"学校名称",model:"schoolName",width:170}],selectDataAddr:[{placeholder:"省",model:"province",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[0].clear(),request.getCity({code:e,level:2}).then(e=>{t.selectDataAddr[1].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"city",""),this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[1].options=[],this.selectDataAddr[2].options=[]},options:[]},{placeholder:"市",model:"city",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[1].clear(),request.getCity({code:e,level:3}).then(e=>{t.selectDataAddr[2].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[2].options=[]},options:[]},{placeholder:"县/区",model:"town",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]},{placeholder:"学校规模",model:"scale",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]}],selectData:[]}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O,editSchool:fs},mounted(){this.selectData=this.selectDataAddr,this.recruiter=JSON.parse(sessionStorage.getItem("user")),this.getSchoolList()},methods:{getSchoolList(){let e=this;e.$request.selectSchoolByCondition({userId:this.recruiter.id}).then(t=>{e.tableData=t.data})},addSchool(){this.typeIdx=-1,this.editVisible=!0},onSubmit(e){let t=this,s=new FormData,a=(e.image||[]).map(e=>e.raw);a.forEach(e=>{s.append("image",e)}),s.append("image",a),s.append("name",e.name),s.append("address",e.address),s.append("establishDt",e.establishDt.replace(/-/g,"")),s.append("education",e.education),s.append("userId",this.recruiter.id),s.append("descr",e.descr),s.append("frontPath",this.$rootPath),-1==t.typeIdx?this.$request.insertSchool(s).then(e=>{t.getSchoolList(),t.editVisible=!1}):(s.append("imgs",e.imgs),s.append("id",e.id),s.append("addressName",e.addressName),s.append("status",e.status),this.$request.updateSchool(s).then(e=>{t.getSchoolList(),t.editVisible=!1}))}}},gs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("el-dialog",{attrs:{title:"学校管理",visible:e.editVisible,top:"2vh",width:"50%","destroy-on-close":!0},on:{"update:visible":function(t){e.editVisible=t}}},[s("editSchool",{staticClass:"edit-school",attrs:{typeIdx:e.typeIdx},on:{cancel:function(t){e.editVisible=!1},onSubmit:e.onSubmit}})],1),e._v(" "),s("div",{staticClass:"table-school"},[s("div",{staticClass:"schoolTop"},[s("h1",[e._v("学校信息")]),e._v(" "),s("div",{staticClass:"feature"},[s("el-button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:e.addSchool}},[e._v("添加学校")])],1)]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}})],1)],1)},staticRenderFns:[]};var _s=s("VU/8")(ys,gs,!1,function(e){s("0Xiz"),s("Ex5D")},"data-v-4a96becb",null).exports,bs={name:"detail-school",data:()=>({school:{},zhiwei:[],recruiter:{},user:{},interestList:[],interest:{}}),props:{},components:{zhiweiPart:b},created(){this.user=JSON.parse(sessionStorage.getItem("user"))||{};let e=this.$route.query.id,t=this;this.$request.selectSchoolById({schoolId:e}).then(s=>{t.$request.selectJobByCondition({schoolId:e}).then(e=>{t.zhiwei=e.data}),"[]"!=s.data.imgs?s.data.image=s.data.imgs.substr(1,s.data.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):s.data.image=[],t.school=s.data})},mounted(){let e=setInterval(()=>{if(this.$refs.image){let t=this.$refs.image;t.scrollLeft+=2,t.scrollWidth==t.offsetWidth+t.scrollLeft&&clearInterval(e)}},300)},methods:{}},Cs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail-school"},[s("div",{staticClass:"school-info"},[s("div",{staticClass:"name"},[e._v(e._s(e.school.name))]),e._v(" "),s("div",{staticClass:"info"},[s("div",{staticClass:"base-info"},[s("p",[s("label",{attrs:{for:""}},[e._v("学校地址:")]),e._v(e._s(e.school.addressName))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("科目等级:")]),e._v(e._s(e.school.education))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("成立时间:")]),e._v(e._s(e.school.establishDt))]),e._v(" "),s("div",{ref:"image",staticClass:"base-image",attrs:{id:"image"}},e._l(e.school.image,function(e){return s("div",{staticClass:"image"},[s("img",{attrs:{src:e,alt:""}})])}),0)]),e._v(" "),s("div",{staticClass:"content"},[s("label",{attrs:{for:""}},[e._v("学校简介:")]),e._v(" "),s("div",{staticClass:"content-content"},[e._v(e._s(e.school.descr))])])])]),e._v(" "),s("div",{staticClass:"zhiwei-recr"},[s("div",{staticClass:"zhiwei"},[s("div",{staticClass:"name"},[e._v("招聘职位")]),e._v(" "),e._l(e.zhiwei,function(e,t){return s("zhiweiPart",{key:t,attrs:{teacher:e}})})],2)])])},staticRenderFns:[]};var ks=s("VU/8")(bs,Cs,!1,function(e){s("GRs5")},"data-v-939b789e",null).exports,Is=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ws={name:"edit-job",data:()=>({job:{},selectData:{province:[],city:[],county:[],school:[]},rules:{schoolId:[{required:!0,message:"不能为空"}],name:[{required:!0,message:"不能为空"}],education:[{required:!0,message:"不能为空"}],descr:[{required:!0,message:"不能为空"}],jobInsure:[{required:!0,message:"不能为空"}]},recruiter:{}}),props:{typeIdx:{default:-1}},components:{},created(){this.recruiter=JSON.parse(sessionStorage.getItem("user")),this.$request.selectSchoolByCondition({userId:this.recruiter.id}).then(e=>{this.selectData.school=e.data})},mounted(){this.initData()},methods:{initData(){let e=this;this.job={},-1!=this.typeIdx&&this.$request.selectJobById({jobId:e.typeIdx}).then(t=>{e.job=t.data,e.job.province=e.job.address.substring(0,2),e.job.city=e.job.address.substring(0,4),e.job.county=e.job.address.substring(0,6),this.$request.selectAddress({level:2,pcode:e.job.province}).then(t=>{e.selectData.city=t.data}),this.$request.selectAddress({level:3,pcode:e.job.city}).then(t=>{e.selectData.county=t.data}),e.job=Is({},e.job)})},cancel(){this.$emit("cancel")},onSubmit(){let e=this;this.$refs.form.validate(t=>{if(!t)return!1;e.selectData.school.forEach(t=>{t.id==e.job.schoolId&&(e.job.address=t.address)}),this.$emit("onSubmit",e.job)})}},watch:{typeIdx(e,t){console.log(e),this.initData()}}},Ds={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-job"},[s("el-form",{ref:"form",attrs:{model:e.job,"label-position":"right",rules:e.rules}},[s("el-form-item",{attrs:{label:"所属学校",prop:"schoolId"}},[s("el-select",{attrs:{placeholder:"所属学校"},model:{value:e.job.schoolId,callback:function(t){e.$set(e.job,"schoolId",t)},expression:"job.schoolId"}},e._l(e.selectData.school,function(e){return s("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})}),1)],1),e._v(" "),s("el-form-item",{attrs:{label:"职位名称",prop:"name"}},[s("el-input",{model:{value:e.job.name,callback:function(t){e.$set(e.job,"name",t)},expression:"job.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"科目等级",prop:"education"}},[s("el-input",{model:{value:e.job.education,callback:function(t){e.$set(e.job,"education",t)},expression:"job.education"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职位要求",prop:"descr"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.job.descr,callback:function(t){e.$set(e.job,"descr",t)},expression:"job.descr"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"职位保险",prop:"jobInsure"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.job.jobInsure,callback:function(t){e.$set(e.job,"jobInsure",t)},expression:"job.jobInsure"}})],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var $s=s("VU/8")(ws,Ds,!1,function(e){s("/T7B")},null,null).exports,xs={name:"zhiweiInfo",data(){return{typeIdx:-1,editVisible:!1,tableData:[],tableTitles:[{prop:"name",label:"职位名称"},{prop:"schoolName",label:"所属学校",width:"170"},{prop:"addressName",label:"地理位置"},{prop:"education",label:"科目等级",width:"170"},{prop:"statuName",label:"职位状态",width:"170"}],tableConf:{operation:!0,btns:[{id:"edit",text:"修改信息",size:"medium",type:"text",click:e=>{this.typeIdx=e.id,this.editVisible=!0}},{id:"delete",text:"关闭职位",size:"medium",type:"text",click:e=>{e.status=-1;let t=this;this.$request.updateJob(e).then(e=>{t.$message.success("关闭成功"),t.initData()})}},{id:"delete",text:"重新发布",size:"medium",type:"text",click:e=>{e.status=1;let t=this;this.$request.updateJob(e).then(e=>{t.$message.success("发布成功"),t.initData()})}}]},paginationConf:{sizes:[10,20,50,100],size:20,total:500},inputData:[{placeholder:"职位名称",model:"zhiweiName",width:170}],selectDataAddr:[{placeholder:"省",model:"province",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[0].clear(),request.getCity({code:e,level:2}).then(e=>{t.selectDataAddr[1].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"city",""),this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[1].options=[],this.selectDataAddr[2].options=[]},options:[]},{placeholder:"市",model:"city",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[1].clear(),request.getCity({code:e,level:3}).then(e=>{t.selectDataAddr[2].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[2].options=[]},options:[]},{placeholder:"县/区",model:"town",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]},{placeholder:"所属学校",model:"school",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]}],selectData:[]}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O,editJob:$s},mounted(){this.selectData=this.selectDataAddr,this.recruiter=JSON.parse(sessionStorage.getItem("user")),this.initData()},methods:{initData(){let e=this;e.tableData=[],e.$request.selectJobByCondition({userId:this.recruiter.id}).then(t=>{e.tableData=t.data,e.tableData.forEach(t=>{let s=t.schoolId;e.$request.selectSchoolById({schoolId:s}).then(s=>{t.schoolName=s.data.name,t.addressName=s.data.addressName,1==t.status&&(t.statuName="正常"),-1==t.status&&(t.statuName="已关闭"),e.tableData=[...e.tableData]})})})},addJob(){this.typeIdx=-1,this.editVisible=!0},onSubmit(e){let t=this;e.userId=this.recruiter.id;let s=new FormData;Object.keys(e).forEach(t=>{s.append(t,e[t])}),-1==t.typeIdx?this.$request.insertJob(s).then(e=>{this.editVisible=!1,t.initData()}):this.$request.updateJob(s).then(e=>{this.editVisible=!1,t.initData()})},tableCellStyle(e){if("statuName"==e.column.property)switch(e.row.status){case-1:return"color:red";case 0:return"color:orange";case 1:return"color:green"}}}},zs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("el-dialog",{attrs:{title:"职位管理",visible:e.editVisible,top:"2vh",width:"50%","destroy-on-close":!0},on:{"update:visible":function(t){e.editVisible=t}}},[s("editJob",{staticClass:"edit-school",attrs:{typeIdx:e.typeIdx},on:{cancel:function(t){e.editVisible=!1},onSubmit:e.onSubmit}})],1),e._v(" "),s("div",{staticClass:"table-school"},[s("div",{staticClass:"schoolTop"},[s("h1",[e._v("职位信息")]),e._v(" "),s("div",{staticClass:"feature"},[s("el-button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:e.addJob}},[e._v("添加职位")])],1)]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf,tableCellStyle:e.tableCellStyle}})],1)],1)},staticRenderFns:[]};var js=s("VU/8")(xs,zs,!1,function(e){s("sB1R"),s("3o/o")},"data-v-6e65349a",null).exports,Es={name:"info-job",data:()=>({school:{},zhiwei:{},recruiter:{},user:{}}),props:{},components:{},created(){this.initData()},mounted(){},methods:{initData(){this.user=JSON.parse(sessionStorage.getItem("user"))||{};let e=this.$route.query.id;this.$request.selectJobById({jobId:e}).then(e=>{this.zhiwei=e.data,this.$request.selectSchoolById({schoolId:this.zhiwei.schoolId}).then(e=>{this.school=e.data}),this.$request.getRecuriter({userId:this.zhiwei.userId}).then(e=>{this.recruiter=e.data,this.$request.selectJobByCondition({userId:this.zhiwei.userId}).then(e=>{this.$set(this.recruiter,"jobCnt",e.data.length)}),this.$request.selectSchoolByCondition({userId:this.zhiwei.userId}).then(e=>{this.$set(this.recruiter,"schoolCnt",e.data.length)})})})},showSchool(){this.$router.push({path:"/school",query:{id:this.school.id}})}}},Ss={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"info-job"},[s("div",{staticClass:"job"},[s("div",{staticClass:"name"},[s("p"),s("h4",[e._v(e._s(e.zhiwei.name))]),e._v(" "),s("p"),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("教授科目:")]),e._v(e._s(e.zhiwei.education))])]),e._v(" "),s("div",{staticClass:"job-content"},[s("div",{staticClass:"content-span"},[s("label",{attrs:{for:""}},[e._v("职位要求:")]),s("span",[e._v(e._s(e.zhiwei.descr))])]),e._v(" "),s("div",{staticClass:"content-span"},[s("label",{attrs:{for:""}},[e._v("职位保险:")]),s("span",[e._v(e._s(e.zhiwei.jobInsure))])])]),e._v(" "),s("div",{staticClass:"school",on:{click:e.showSchool}},[s("div",{staticClass:"school-name"},[e._v(e._s(e.school.name))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("学校地址:")]),e._v(e._s(e.school.addressName))])])]),e._v(" "),s("div",{staticClass:"recr"},[s("div",{staticClass:"name"},[e._v(e._s(e.recruiter.name))]),e._v(" "),s("div",{staticClass:"base"},[s("p",{staticClass:"identity"},[e._v(e._s(e.recruiter.identity))])]),e._v(" "),s("div",{staticClass:"contact"},[s("p",[s("label",{attrs:{for:""}},[e._v("联系邮箱:")]),e._v(e._s(e.recruiter.email))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("联系电话:")]),e._v(e._s(e.recruiter.phone))])]),e._v(" "),s("div",{staticClass:"fabu"},[s("p",[s("label",{attrs:{for:""}},[e._v("发布学校:")]),e._v(e._s(e.recruiter.schoolCnt))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("发布岗位:")]),e._v(e._s(e.recruiter.jobCnt))])])])])},staticRenderFns:[]};var Fs=s("VU/8")(Es,Ss,!1,function(e){s("doZj")},"data-v-a929bfde",null).exports,qs={name:"interest-list",data:()=>({activeName:"first",teachers:[],articleAttentions:[],postAttentions:[],articleList:[],postList:[]}),props:{},components:{essay:$,disguss:j,teacher:b},mounted(){this.user=JSON.parse(sessionStorage.getItem("user")),this.getPostAttentionList(),this.getArticleAttentionList()},methods:{getPostAttentionList(){this.postAttentions=[],this.$request.selectAttentionByCondition({userId:this.user.id,collectType:2}).then(e=>{e.data.forEach(e=>{this.$request.selectPostById({postId:e.collectId}).then(t=>{t.data.attention=e,this.postAttentions.push(t.data)})})})},getArticleAttentionList(){this.articleAttentions=[],this.$request.selectAttentionByCondition({userId:this.user.id,collectType:1}).then(e=>{e.data.forEach(e=>{this.$request.selectArticleById({articleId:e.collectId}).then(t=>{t.data.attention=e,this.articleAttentions.push(t.data)})})})},handleClick(e,t){this.activeName=e.name},deleteArticleAttention(e){this.$request.deleteAttention({id:e.attention.id}).then(e=>{this.$message.success("已取消收藏"),this.getArticleAttentionList()})},deletePostAttention(e){this.$request.deleteAttention({id:e.attention.id}).then(e=>{this.$message.success("已取消收藏"),this.getPostAttentionList()})}}},As={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"interest-list"},[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"我关注的文章",name:"first"}},[s("div",{staticClass:"interest-content"},e._l(e.articleAttentions,function(t,a){return s("div",{staticClass:"main-interest"},[s("essay",{key:a,attrs:{essay:t}}),e._v(" "),s("div",{staticClass:"delete-interest"},[s("i",{staticClass:"el-icon-star-on"}),e._v(" "),s("label",{on:{click:function(s){return e.deleteArticleAttention(t)}}},[e._v("取消收藏")])])],1)}),0)]),e._v(" "),s("el-tab-pane",{attrs:{label:"我关注的帖子",name:"second"}},[s("div",{staticClass:"interest-content-post"},e._l(e.postAttentions,function(t,a){return s("div",{staticClass:"main-interest-post"},[s("disguss",{key:a,attrs:{disguss:t}}),e._v(" "),s("div",{staticClass:"delete-interest"},[s("i",{staticClass:"el-icon-star-on"}),e._v(" "),s("label",{on:{click:function(s){return e.deletePostAttention(t)}}},[e._v("取消收藏")])])],1)}),0)])],1)],1)},staticRenderFns:[]};var Ns=s("VU/8")(qs,As,!1,function(e){s("3Z23")},null,null).exports,Ts={name:"comment-info",data:()=>({}),props:{commentType:{default:1},comment:{type:Object,default:()=>({})}},components:{essay:$,disguss:j},mounted(){},methods:{deleteComment(){this.$request.deleteComment(this.comment).then(e=>{this.$emit("initComment")})}}},Ls={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment-info"},[s("div",{staticClass:"article"},[s("div",{staticClass:"comment-main"},[s("div",{staticClass:"comment-content"},[s("p",{staticClass:"content-dt"},[e._v(e._s(e.comment.dt)+"\n          "),s("a",{staticClass:"delete",on:{click:e.deleteComment}},[s("i",{staticClass:"el-icon-delete"}),e._v("\n            删除评论\n          ")])]),e._v(" "),s("p",{staticClass:"content-content"},[e._v(e._s(e.comment.msg))])]),e._v(" "),s("div",{staticClass:"comment-parent"},[1==e.comment.type?s("essay",{staticClass:"parent article",attrs:{essay:e.comment.article}}):s("disguss",{staticClass:"parent disguss",attrs:{disguss:e.comment.post}})],1)])])])},staticRenderFns:[]};var Js={name:"comment-list",data:()=>({user:{},activeName:"first",articleComments:[],postComments:[]}),props:{},components:{comment:s("VU/8")(Ts,Ls,!1,function(e){s("9MzM"),s("mnLg")},"data-v-39724a4e",null).exports},created(){this.user=JSON.parse(sessionStorage.getItem("user"))||{},this.getPostCommentList(),this.getArticleCommentList()},mounted(){},methods:{getPostCommentList(){this.$request.selectCommentByCondition({userId:this.user.id,type:2}).then(e=>{e.data.forEach(e=>{e.type=2,e.post={},this.$request.selectPostById({postId:e.postId}).then(t=>{e.post=t.data})}),this.postComments=e.data})},getArticleCommentList(){this.$request.selectCommentByCondition({userId:this.user.id,type:1}).then(e=>{e.data.forEach(e=>{e.type=1,e.article={},this.$request.selectArticleById({articleId:e.articleId}).then(t=>{e.article=t.data})}),this.articleComments=e.data})},handleClick(e,t){this.activeName=e.name}}},Ps={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"comment-list"},[s("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"文章评论",name:"first"}},[e.articleComments.length>0?e._l(e.articleComments,function(t,a){return s("comment",{key:a,attrs:{comment:t},on:{initComment:e.getArticleCommentList}})}):s("label",[e._v("暂无评论")])],2),e._v(" "),s("el-tab-pane",{attrs:{label:"帖子评论",name:"second"}},[e.postComments.length>0?e._l(e.postComments,function(t,a){return s("comment",{key:a,attrs:{comment:t},on:{initComment:e.getPostCommentList}})}):s("label",[e._v("暂无评论")])],2)],1)],1)},staticRenderFns:[]};var Bs=s("VU/8")(Js,Ps,!1,function(e){s("AzGJ")},"data-v-5a556de7",null).exports,Rs={name:"info-post",data:()=>({addCommentFlag:!1,comment:{msg:""},post:{},author:{},commentList:[],user:{},attention:!1,attentionRes:{},accuse:!1,accuseRes:{}}),props:{},components:{},created(){let e=this;this.user=JSON.parse(sessionStorage.getItem("user"))||{};let t=this.$route.query.id;this.$request.selectPostById({postId:t}).then(t=>{this.post=t.data,this.getCommentList(),this.getAttention(),this.getAccuse(),"[]"!=this.post.imgs?this.post.imgs=this.post.imgs.substr(1,this.post.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):this.post.imgs=[],e.$request.getUser({userId:this.post.authorId}).then(t=>{1==t.data.userType&&e.$request.getVolunteer({userId:this.post.authorId}).then(t=>{e.author=t.data}),2==t.data.userType&&e.$request.getRecuriter({userId:this.post.authorId}).then(t=>{e.author=t.data})})})},mounted(){},methods:{getCommentList(){this.$request.selectCommentByCondition({mainId:this.post.id,type:2}).then(e=>{e.data.length>0&&e.data.forEach(e=>{e.author={},this.$request.getUser({userId:e.userId}).then(t=>{e.author=t.data})}),this.commentList=e.data})},addComment(){this.user.id?this.addCommentFlag=!0:this.$message.warning("请登录")},fabu(){let e=this;this.comment.userId=this.user.id,this.comment.postId=this.post.id,this.$request.insertPostComment(this.comment).then(t=>{e.getCommentList(),e.comment.msg="",this.$refs.infoPost.scrollTop=this.$refs.infoPost.scrollHeight,this.addCommentFlag=!1})},getAttention(){let e=this;if(e.user.id){let t={userId:this.user.id,collectId:this.post.id,collectType:2};e.$request.selectAttentionByCondition(t).then(e=>{e.data.length>0?(this.attention=!0,this.attentionRes=e.data[0]):this.attention=!1})}else this.$message.warning("请登录")},addAttention(){let e=this;if(e.user.id){let t={userId:this.user.id,collectId:this.post.id,collectType:2};e.$request.insertAttention(t).then(t=>{e.$message.success("收藏成功"),e.getAttention()})}else this.$message.warning("请登录")},deleteAttention(){let e=this;e.$request.deleteAttention({id:e.attentionRes.id}).then(t=>{e.$message.success("已取消收藏"),e.getAttention()})},getAccuse(){let e=this;if(e.user.id){let t={userId:this.user.id,accuseId:this.post.id,accuseType:2};e.$request.selectAccuseByCondition(t).then(e=>{e.data.length>0?(this.accuse=!0,this.accuseRes=e.data[0]):this.accuse=!1})}else this.$message.warning("请登录")},addAccuse(){let e=this;if(e.user.id){let t={userId:this.user.id,accuseId:this.post.id,accuseType:2};e.$request.insertAccuse(t).then(t=>{e.$message.success("举报成功"),e.getAccuse()})}else this.$message.warning("请登录")},deleteAccuse(){let e=this;e.$request.deleteAccuse({id:e.accuseRes.id}).then(t=>{e.$message.success("已取消举报"),e.getAccuse()})}}},Vs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-main"},[s("div",{staticClass:"menu"},[s("ul",[s("li",{staticStyle:{color:"green"},on:{click:e.addComment}},[s("i",{staticClass:"el-icon-chat-line-round"}),e._v("\n        评论\n      ")]),e._v(" "),e.attention?s("li",{staticStyle:{color:"coral"},on:{click:e.deleteAttention}},[s("i",{staticClass:"el-icon-star-on"}),e._v("\n        取消收藏\n      ")]):s("li",{on:{click:e.addAttention}},[s("i",{staticClass:"el-icon-star-off"}),e._v("\n        收藏\n      ")]),e._v(" "),e.accuse?s("li",{staticStyle:{color:"red"},on:{click:e.deleteAccuse}},[s("i",{staticClass:"el-icon-s-order"}),e._v(" "),s("label",[e._v("取消举报")])]):s("li",{on:{click:e.addAccuse}},[s("i",{staticClass:"el-icon-s-release"}),e._v(" "),s("label",[e._v("举报")])])])]),e._v(" "),s("div",{ref:"infoPost",staticClass:"info-post"},[s("div",{staticClass:"post"},[s("div",{staticClass:"left"},[e._v("\n        "+e._s(e.author.name)+"\n      ")]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-top"},[s("p",{staticClass:"name"},[e._v(e._s(e.post.title))]),e._v(" "),s("div",{staticClass:"base"},[s("p",[e._v(e._s(e.post.establishDt))])]),e._v(" "),s("div",{staticClass:"content-content"},[e._v(e._s(e.post.content))])]),e._v(" "),e.post.imgs&&e.post.imgs.length>0?s("div",{staticClass:"content-img"},e._l(e.post.imgs,function(e){return s("div",{key:e,staticClass:"image",style:"background-image:url("+e+")"},[s("img",{attrs:{src:e,alt:""}})])}),0):e._e()])]),e._v(" "),e.addCommentFlag?s("div",{staticClass:"commentInput"},[s("el-input",{attrs:{type:"textarea"},model:{value:e.comment.msg,callback:function(t){e.$set(e.comment,"msg",t)},expression:"comment.msg"}}),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.fabu}},[e._v("发表评论")]),e._v(" "),s("el-button",{on:{click:function(t){e.addCommentFlag=!1}}},[e._v("取消")])],1):e._e()]),e._v(" "),s("div",{staticClass:"comment"},[e.commentList.length>0?e._l(e.commentList,function(t,a){return s("div",{key:a,staticClass:"comment-info"},[s("div",{staticClass:"author"},[e._v(e._s(t.author.name||""))]),e._v(" "),s("div",{staticClass:"comment-single"},[s("p",[e._v(e._s(t.dt))]),e._v(" "),s("p",{staticClass:"comment-content"},[e._v(e._s(t.msg))])])])}):s("label",[e._v("暂无评论")])],2)])},staticRenderFns:[]};var Os=s("VU/8")(Rs,Vs,!1,function(e){s("zRif")},null,null).exports,Ms=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},Us={name:"edit-post",data:()=>({post:{},postSrc:{},selectData:{province:[],city:[],county:[],school:[]},rules:{title:[{required:!0,message:"不能为空"}],content:[{required:!0,message:"不能为空"}]}}),props:{typeIdx:{default:-1}},components:{},mounted(){this.initData()},methods:{initData(){let e=this;this.post={},-1!=this.typeIdx&&this.$request.selectPostById({postId:e.typeIdx}).then(t=>{e.post=t.data,this.postSrc=Ms({},t.data),"[]"!=e.post.imgs?e.post.imgs=e.post.imgs.substr(1,e.post.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):e.post.imgs=[],e.post=Ms({},e.post)})},cancel(){this.$emit("cancel")},onSubmit(){this.$refs.form.validate(e=>{if(!e)return!1;{let e=Ms({},this.post);if(-1!=this.typeIdx)if("[]"!=this.postSrc.imgs){let t="[";this.postSrc.imgs.substr(1,this.postSrc.imgs.length-2).split(",").forEach(e=>{this.post.imgs.forEach(s=>{s=s.replace(/\//g,"\\"),e.indexOf(s)>=0&&(t+=e+",")})}),t=t.substr(0,t.length-1),t+="]",e.imgs=t}else e.imgs="[]";this.$emit("onSubmit",e)}})},handleChange(e,t){this.post.image=t},handleRemove(e){let t=this.post.image;t.splice(t.indexOf(e),1),this.post.image=t},handleRemoveHis(e){this.post.imgs.splice(this.post.imgs.indexOf(e),1)}}},Gs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-post"},[s("el-form",{ref:"form",attrs:{model:e.post,"label-position":"right",rules:e.rules}},[s("el-form-item",{attrs:{label:"帖子名称",prop:"title"}},[s("el-input",{model:{value:e.post.title,callback:function(t){e.$set(e.post,"title",t)},expression:"post.title"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"帖子描述",prop:"content"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.post.content,callback:function(t){e.$set(e.post,"content",t)},expression:"post.content"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"相关照片"}},[-1!=e.typeIdx&&e.post.imgs&&e.post.imgs.length>0?s("div",[s("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},e._l(e.post.imgs,function(t){return s("li",{staticClass:"el-upload-list__item is-ready",attrs:{tabindex:"0"}},[s("div",[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(s){return e.handleRemoveHis(t)}}},[s("i",{staticClass:"el-icon-delete"})])])])])}),0)]):e._e(),e._v(" "),s("el-upload",{ref:"imgUpload",attrs:{action:"doUpload","list-type":"picture-card","on-change":e.handleChange,"auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var Xs=s("VU/8")(Us,Gs,!1,function(e){s("su1z")},null,null).exports,Hs={name:"post-list",data(){return{editVisible:!1,typeIdx:-1,tableData:[],tableTitles:[{prop:"title",label:"帖子名"},{prop:"establishDt",label:"发表时间"},{prop:"msgCount",label:"评论数"},{prop:"attentionCount",label:"收藏数"}],tableConf:{operation:!0,btns:[{id:"volunteer",text:"查看",size:"medium",type:"text",click:e=>{this.$router.push({path:"/post",query:{id:e.id}})}},{id:"volunteer",text:"修改帖子",size:"medium",type:"text",click:e=>{this.editVisible=!0,this.typeIdx=e.id}},{id:"delete",text:"删除帖子",size:"medium",type:"text",click:e=>{let t=this;t.$request.deletePost({postId:e.id}).then(e=>{t.$message.success("删除成功"),t.initData()})}}]},paginationConf:{sizes:[10,20,50,100],size:20,total:500},inputData:[{placeholder:"学校名称",model:"postName",width:170}],selectDataAddr:[{placeholder:"省",model:"province",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[0].clear(),request.getCity({code:e,level:2}).then(e=>{t.selectDataAddr[1].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"city",""),this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[1].options=[],this.selectDataAddr[2].options=[]},options:[]},{placeholder:"市",model:"city",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[1].clear(),request.getCity({code:e,level:3}).then(e=>{t.selectDataAddr[2].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[2].options=[]},options:[]},{placeholder:"县/区",model:"town",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]},{placeholder:"学校规模",model:"scale",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]}],selectData:[]}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O,editPost:Xs},created(){this.user=JSON.parse(sessionStorage.getItem("user")),this.initData()},mounted(){},methods:{initData(){let e=this;e.tableData=[],e.$request.selectPostByCondition({userId:this.user.id}).then(t=>{t.data.forEach(e=>{e.msgCount=0,e.attentionCount=0,this.$request.selectCommentByCondition({type:2,mainId:e.id}).then(t=>{e.msgCount=t.data.length}),this.$request.selectAttentionByCondition({collectType:2,userId:this.user.id,collectId:e.id}).then(t=>{e.attentionCount=t.data.length})}),e.tableData=t.data})},addPost(){this.typeIdx=-1,this.editVisible=!0},cancel(){this.editVisible=!1},onSubmit(e){let t=this;e.authorId=this.user.id;let s=new FormData,a=(e.image||[]).map(e=>e.raw);a.forEach(e=>{s.append("image",e)}),s.append("image",a),s.append("title",e.title),s.append("content",e.content),s.append("authorId",e.authorId),s.append("frontPath",this.$rootPath),console.log(e,s),-1==t.typeIdx?this.$request.insertPost(s).then(e=>{this.editVisible=!1,t.initData()}):(s.append("imgs",e.imgs),s.append("id",e.id),this.$request.updatePost(s).then(e=>{this.editVisible=!1,t.initData()}))}}},Zs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-list"},[s("el-dialog",{attrs:{title:"文章管理",visible:e.editVisible,top:"2vh",width:"50%","destroy-on-close":!0},on:{"update:visible":function(t){e.editVisible=t}}},[s("editPost",{staticClass:"edit-school",attrs:{typeIdx:e.typeIdx},on:{cancel:function(t){e.editVisible=!1},onSubmit:e.onSubmit}})],1),e._v(" "),s("div",{staticClass:"table-school"},[s("div",{staticClass:"postTop"},[s("h1",[e._v("我发表的帖子")]),e._v(" "),s("div",{staticClass:"feature"},[s("el-button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:e.addPost}},[e._v("发表帖子")])],1)]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}})],1)],1)},staticRenderFns:[]};var Ws=s("VU/8")(Hs,Zs,!1,function(e){s("/7Uz"),s("3kbO")},"data-v-6806cb88",null).exports,Ks={name:"info-article",data:()=>({addCommentFlag:!1,comment:{msg:""},article:{},author:{name:""},commentList:[],user:{},interest:{},attention:!1,attentionRes:{},accuse:!1,accuseRes:{}}),props:{},components:{},created(){let e=this.$route.query.id,t=this;this.user=JSON.parse(sessionStorage.getItem("user"))||{},this.$request.selectArticleById({articleId:e}).then(e=>{this.article=e.data,this.getCommentList(),this.getAttention(),this.getAccuse(),"[]"!=this.article.imgs?this.article.imgs=this.article.imgs.substr(1,this.article.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):this.article.imgs=[],t.$request.getUser({userId:this.article.authorId}).then(e=>{1==e.data.userType&&t.$request.getVolunteer({userId:this.article.authorId}).then(e=>{t.author=e.data}),2==e.data.userType&&t.$request.getRecuriter({userId:this.article.authorId}).then(e=>{t.author=e.data})})})},mounted(){},methods:{getCommentList(){this.$request.selectCommentByCondition({mainId:this.article.id,type:1}).then(e=>{e.data.length>0&&e.data.forEach(e=>{e.author={},this.$request.getUser({userId:e.userId}).then(t=>{e.author=t.data})}),this.commentList=e.data})},addComment(){this.user.id?this.addCommentFlag=!0:this.$message.warning("请登录")},fabu(){let e=this;this.comment.userId=this.user.id,this.comment.articleId=this.article.id,this.$request.insertArticleComment(this.comment).then(t=>{e.getCommentList(),e.comment.msg="",this.$refs.infoArticle.scrollTop=this.$refs.infoArticle.scrollHeight})},getAttention(){let e=this;if(e.user.id){let t={userId:this.user.id,collectId:this.article.id,collectType:1};e.$request.selectAttentionByCondition(t).then(e=>{e.data.length>0?(this.attention=!0,this.attentionRes=e.data[0]):this.attention=!1})}},addAttention(){let e=this;if(e.user.id){let t={userId:this.user.id,collectId:this.article.id,collectType:1};e.$request.insertAttention(t).then(t=>{e.$message.success("收藏成功"),e.getAttention()})}else this.$message.warning("请登录")},deleteAttention(){let e=this;e.$request.deleteAttention({id:e.attentionRes.id}).then(t=>{e.$message.success("已取消收藏"),e.getAttention()})},getAccuse(){let e=this;if(e.user.id){let t={userId:this.user.id,accuseId:this.article.id,accuseType:1};e.$request.selectAccuseByCondition(t).then(e=>{e.data.length>0?(this.accuse=!0,this.accuseRes=e.data[0]):this.accuse=!1})}},addAccuse(){let e=this;if(e.user.id){let t={userId:this.user.id,accuseId:this.article.id,accuseType:1};e.$request.insertAccuse(t).then(t=>{e.$message.success("举报成功"),e.getAccuse()})}else this.$message.warning("请登录")},deleteAccuse(){let e=this;e.$request.deleteAccuse({id:e.accuseRes.id}).then(t=>{e.$message.success("已取消举报"),e.getAccuse()})}}},Qs={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"article"},[s("div",{staticClass:"menu"},[s("ul",[s("li",{staticStyle:{color:"green"},on:{click:e.addComment}},[s("i",{staticClass:"el-icon-chat-line-round"}),e._v("\n        评论\n      ")]),e._v(" "),e.attention?s("li",{staticStyle:{color:"coral"},on:{click:e.deleteAttention}},[s("i",{staticClass:"el-icon-star-on"}),e._v("\n        取消收藏\n      ")]):s("li",{on:{click:e.addAttention}},[s("i",{staticClass:"el-icon-star-off"}),e._v("\n        收藏\n      ")]),e._v(" "),e.accuse?s("li",{staticStyle:{color:"red"},on:{click:e.deleteAccuse}},[s("i",{staticClass:"el-icon-s-order"}),e._v(" "),s("label",[e._v("取消举报")])]):s("li",{on:{click:e.addAccuse}},[s("i",{staticClass:"el-icon-s-release"}),e._v(" "),s("label",[e._v("举报")])])])]),e._v(" "),s("div",{ref:"infoArticle",staticClass:"info-article"},[s("div",{staticClass:"name"},[e._v("\n      "+e._s(e.article.title)+"\n    ")]),e._v(" "),s("div",{staticClass:"base"},[s("p",[s("label",{attrs:{for:""}},[e._v("发布者:")]),e._v(e._s(e.author.name||""))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("发布时间:")]),e._v(e._s(e.article.establishDt))])]),e._v(" "),s("div",{staticClass:"content-article"},[s("div",{staticClass:"content-content"},[e._v(e._s(e.article.content))]),e._v(" "),e.article.imgs&&e.article.imgs.length>0?s("div",{staticClass:"content-img"},e._l(e.article.imgs,function(e){return s("div",{key:e,staticClass:"image",style:"background-image:url("+e+")"},[s("img",{attrs:{src:e,alt:""}})])}),0):e._e()]),e._v(" "),e.addCommentFlag?s("div",{staticClass:"commentInput"},[s("el-input",{attrs:{type:"textarea"},model:{value:e.comment.msg,callback:function(t){e.$set(e.comment,"msg",t)},expression:"comment.msg"}}),e._v(" "),s("el-button",{attrs:{type:"primary"},on:{click:e.fabu}},[e._v("发表评论")]),e._v(" "),s("el-button",{on:{click:function(t){e.addCommentFlag=!1}}},[e._v("取消")])],1):e._e()]),e._v(" "),s("div",{staticClass:"comment"},[e.commentList.length>0?e._l(e.commentList,function(t,a){return s("div",{key:a,staticClass:"comment-info"},[s("div",{staticClass:"author"},[e._v(e._s(t.author.name||""))]),e._v(" "),s("div",{staticClass:"comment-single"},[s("p",[e._v(e._s(t.dt))]),e._v(" "),s("p",{staticClass:"comment-content"},[e._v(e._s(t.msg))])])])}):s("label",[e._v("暂无评论")])],2)])},staticRenderFns:[]};var Ys=s("VU/8")(Ks,Qs,!1,function(e){s("U8AE")},null,null).exports,ea=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},ta={name:"edit-article",data:()=>({article:{},articleSrc:{},selectData:{province:[],city:[],county:[]},rules:{title:[{required:!0,message:"不能为空"}],content:[{required:!0,message:"不能为空"}]}}),props:{typeIdx:{default:-1}},components:{},mounted(){this.initData()},methods:{initData(){let e=this;this.article={},-1!=this.typeIdx&&this.$request.selectArticleById({articleId:e.typeIdx}).then(t=>{e.article=t.data,this.articleSrc=ea({},t.data),"[]"!=e.article.imgs?e.article.imgs=e.article.imgs.substr(1,e.article.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):e.article.imgs=[],e.article=ea({},e.article)})},cancel(){this.$emit("cancel")},onSubmit(){this.$refs.form.validate(e=>{if(!e)return!1;{let e=ea({},this.article);if(-1!=this.typeIdx)if("[]"!=this.articleSrc.imgs){let t="[";this.articleSrc.imgs.substr(1,this.articleSrc.imgs.length-2).split(",").forEach(e=>{this.article.imgs.forEach(s=>{s=s.replace(/\//g,"\\"),e.indexOf(s)>=0&&(t+=e+",")})}),t=t.substr(0,t.length-1),t+="]",e.imgs=t}else e.imgs="[]";this.$emit("onSubmit",e)}})},handleChange(e,t){this.article.image=t},handleRemove(e){let t=this.article.image;t.splice(t.indexOf(e),1),this.article.image=t},handleRemoveHis(e){this.article.imgs.splice(this.article.imgs.indexOf(e),1)}},watch:{typeIdx(e,t){this.initData()}}},sa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"edit-article"},[s("el-form",{ref:"form",attrs:{model:e.article,"label-position":"right",rules:e.rules}},[s("el-form-item",{attrs:{label:"文章名称",prop:"title"}},[s("el-input",{model:{value:e.article.title,callback:function(t){e.$set(e.article,"title",t)},expression:"article.title"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"文章内容",prop:"content"}},[s("el-input",{attrs:{type:"textarea"},model:{value:e.article.content,callback:function(t){e.$set(e.article,"content",t)},expression:"article.content"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"相关照片"}},[-1!=e.typeIdx&&e.article.imgs&&e.article.imgs.length>0?s("div",[s("ul",{staticClass:"el-upload-list el-upload-list--picture-card"},e._l(e.article.imgs,function(t){return s("li",{staticClass:"el-upload-list__item is-ready",attrs:{tabindex:"0"}},[s("div",[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:t,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(s){return e.handleRemoveHis(t)}}},[s("i",{staticClass:"el-icon-delete"})])])])])}),0)]):e._e(),e._v(" "),s("el-upload",{ref:"imgUpload",attrs:{action:"doUpload","list-type":"picture-card","on-change":e.handleChange,"auto-upload":!1},scopedSlots:e._u([{key:"file",fn:function(t){var a=t.file;return s("div",{},[s("img",{staticClass:"el-upload-list__item-thumbnail",attrs:{src:a.url,alt:""}}),e._v(" "),s("span",{staticClass:"el-upload-list__item-actions"},[s("span",{staticClass:"el-upload-list__item-delete",on:{click:function(t){return e.handleRemove(a)}}},[s("i",{staticClass:"el-icon-delete"})])])])}}])},[s("i",{staticClass:"el-icon-plus",attrs:{slot:"default"},slot:"default"})])],1),e._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("提交")]),e._v(" "),s("el-button",{on:{click:e.cancel}},[e._v("取消")])],1)],1)],1)},staticRenderFns:[]};var aa=s("VU/8")(ta,sa,!1,function(e){s("yocs")},null,null).exports,ia={name:"article-list",data(){return{editVisible:!1,typeIdx:-1,tableData:[],tableTitles:[{prop:"title",label:"文章名"},{prop:"establishDt",label:"发表时间"},{prop:"msgCount",label:"评论数",width:"170"},{prop:"attentionCount",label:"收藏数",width:"170"}],tableConf:{operation:!0,btns:[{id:"volunteer",text:"查看",size:"medium",type:"text",click:e=>{this.$router.push({path:"/article",query:{id:e.id}})}},{id:"volunteer",text:"修改文章",size:"medium",type:"text",click:e=>{this.editVisible=!0,this.typeIdx=e.id}},{id:"delete",text:"删除文章",size:"medium",type:"text",click:e=>{e.status=-1;let t=this;t.$request.deleteArticle({articleId:e.id}).then(e=>{t.$message.success("删除成功"),t.initData()})}}]},paginationConf:{sizes:[10,20,50,100],size:20,total:500},inputData:[{placeholder:"学校名称",model:"articleName",width:170}],selectDataAddr:[{placeholder:"省",model:"province",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[0].clear(),request.getCity({code:e,level:2}).then(e=>{t.selectDataAddr[1].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"city",""),this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[1].options=[],this.selectDataAddr[2].options=[]},options:[]},{placeholder:"市",model:"city",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[1].clear(),request.getCity({code:e,level:3}).then(e=>{t.selectDataAddr[2].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[2].options=[]},options:[]},{placeholder:"县/区",model:"town",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]},{placeholder:"学校规模",model:"scale",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]}],selectData:[]}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O,editArticle:aa},created(){this.user=JSON.parse(sessionStorage.getItem("user")),this.initData()},mounted(){},methods:{initData(){let e=this;e.tableData=[],e.$request.selectArticleByCondition({userId:this.user.id}).then(t=>{t.data.forEach(e=>{e.msgCount=0,e.attentionCount=0,this.$request.selectCommentByCondition({type:1,mainId:e.id}).then(t=>{e.msgCount=t.data.length}),this.$request.selectAttentionByCondition({collectType:1,userId:this.user.id,collectId:e.id}).then(t=>{e.attentionCount=t.data.length})}),e.tableData=t.data})},addArticle(){this.typeIdx=-1,this.editVisible=!0},onSubmit(e){let t=this;e.authorId=this.user.id;let s=new FormData;console.log(e,s);let a=(e.image||[]).map(e=>e.raw);a.forEach(e=>{s.append("image",e)}),s.append("image",a),s.append("title",e.title),s.append("content",e.content),s.append("authorId",e.authorId),s.append("frontPath",this.$rootPath),console.log(e,s),-1==t.typeIdx?this.$request.insertArticle(s).then(e=>{this.editVisible=!1,t.initData()}):(s.append("imgs",e.imgs),s.append("id",e.id),this.$request.updateArticle(s).then(e=>{this.editVisible=!1,t.initData()}))}}},la={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"article-list"},[s("el-dialog",{attrs:{title:"文章管理",visible:e.editVisible,top:"2vh",width:"50%","destroy-on-close":!0},on:{"update:visible":function(t){e.editVisible=t}}},[s("editArticle",{staticClass:"edit-school",attrs:{typeIdx:e.typeIdx},on:{cancel:function(t){e.editVisible=!1},onSubmit:e.onSubmit}})],1),e._v(" "),s("div",{staticClass:"table-school"},[s("div",{staticClass:"articleTop"},[s("h1",[e._v("我发表的文章")]),e._v(" "),s("div",{staticClass:"feature"},[s("el-button",{staticClass:"add-btn",attrs:{type:"primary"},on:{click:e.addArticle}},[e._v("发表文章")])],1)]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}})],1)],1)},staticRenderFns:[]};var ra=s("VU/8")(ia,la,!1,function(e){s("RFJo"),s("j0RR")},"data-v-2dfefcf0",null).exports,na={name:"login",data:()=>({loginForm:{name:"",pass:""}}),mounted(){let e=document.documentElement.clientHeight||document.body.clientHeight;this.$refs.login.style.height=e+"px"},methods:{onSubmit(){"admin"==this.loginForm.name&&"admin"==this.loginForm.pass&&this.$router.push("/manager/volunteer")},onCancel(){this.$router.push("/")}}},oa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{ref:"login",staticClass:"managerLogin"},[s("div",{staticClass:"content"},[s("div",{staticClass:"title"},[e._v("\n      师者教师志愿者招募平台后台管理\n    ")]),e._v(" "),s("el-form",{ref:"form",staticClass:"form",attrs:{model:e.loginForm,"label-width":"80px"}},[s("el-form-item",{attrs:{label:"登录名"}},[s("el-input",{model:{value:e.loginForm.name,callback:function(t){e.$set(e.loginForm,"name",t)},expression:"loginForm.name"}})],1),e._v(" "),s("el-form-item",{attrs:{label:"登录密码"}},[s("el-input",{attrs:{type:"password"},model:{value:e.loginForm.pass,callback:function(t){e.$set(e.loginForm,"pass",t)},expression:"loginForm.pass"}})],1),e._v(" "),s("div",[s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("登录")]),e._v(" "),s("el-button",{on:{click:e.onCancel}},[e._v("取消")])],1)],1)],1)])},staticRenderFns:[]};var ca=s("VU/8")(na,oa,!1,function(e){s("O2kh")},null,null).exports,da={name:"schManage",data(){return{tableData:[{schoolName:"光明小学",schoolAddr:"XX省XX市XX区XX镇XX村",schoolScale:"80人",schoolDesc:"2000年10月10日建立，学校学生由10人增加到80人",schoolEstablish:"2000年10月10日"},{schoolName:"希望小学",schoolAddr:"XX省XX市XX区",schoolScale:"80人",schoolDesc:"2000年10月10日建立，学校学生由10人增加到80人",schoolEstablish:"2000年10月10日"},{schoolName:"光明小学",schoolAddr:"XX省XX市XX县XX镇XX村",schoolScale:"80人",schoolDesc:"2000年10月10日建立，学校学生由10人增加到80人",schoolEstablish:"2000年10月10日"}],tableTitles:[{prop:"name",label:"学校名称",width:"170",fixed:!0},{prop:"addressName",label:"学校地址",width:"170"},{prop:"scale",label:"学校规模",width:"100"},{prop:"establishDt",label:"创建时间",width:"180"}],tableConf:{operation:!0,btns:[{id:"detail",text:"查看",size:"medium",type:"primary",click:e=>{console.log(e)}},{id:"edit",text:"有误",size:"medium",type:"primary",click:e=>{console.log(e),e.status=-1;let t=this;this.$request.deleteSchoolById({schoolId:e.id}).then(e=>{t.initPage()})}},{id:"delete",text:"删除",size:"medium",type:"primary",click:e=>{console.log(e),e.status=-1;let t=this;this.$request.deleteSchoolById({schoolId:e.id}).then(e=>{t.initPage()})}}]},paginationConf:{sizes:[10,20,50,100],size:20,total:500},inputData:[{placeholder:"学校名称",model:"schoolName",width:170}],selectDataAddr:[{placeholder:"省",model:"province",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[0].clear(),request.getCity({code:e,level:2}).then(e=>{t.selectDataAddr[1].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"city",""),this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[1].options=[],this.selectDataAddr[2].options=[]},options:[]},{placeholder:"市",model:"city",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[1].clear(),request.getCity({code:e,level:3}).then(e=>{t.selectDataAddr[2].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[2].options=[]},options:[]},{placeholder:"县/区",model:"town",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]},{placeholder:"学校规模",model:"scale",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]}],selectData:[]}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O},mounted(){this.selectData=this.selectDataAddr,this.initPage()},methods:{initPage(){this.$request.selectSchoolByCondition({status:""}).then(e=>{console.log(e.data),this.tableData=e.data,this.tableData.forEach(e=>{1==e.status&&(e.statusName="正常"),-1==e.status&&(e.statusName="被删除")})})}}},ua={render:function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"table"},[t("h1",[this._v("被举报学校")]),this._v(" "),t("div",{staticClass:"schoolTop"}),this._v(" "),t("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:this.tableTitles,tableData:this.tableData,isLoading:!1,tableConf:this.tableConf}})],1)},staticRenderFns:[]};var ha=s("VU/8")(da,ua,!1,function(e){s("mT5J")},"data-v-4eb2ffe0",null).exports,pa={name:"zhiweiManage",data(){return{tableData:[{zhiweiName:"数学教师",zhiweiSch:"光明小学",zhiweiScale:"10人",zhiweiDesc:"教授小学-初中数学课程",zhiweiDuring:"5年"},{zhiweiName:"语文教师",zhiweiSch:"希望小学",zhiweiScale:"5人",zhiweiDesc:"教授小学-初中语文课程",zhiweiDuring:"1年"},{zhiweiName:"体育教师",zhiweiSch:"光明小学",zhiweiScale:"3人",zhiweiDesc:"教授小学-初中体育课程",zhiweiDuring:"3年"}],tableTitles:[{prop:"zhiweiName",label:"职位名称",width:"170",fixed:!0},{prop:"zhiweiSch",label:"所属学校",width:"170"},{prop:"zhiweiScale",label:"招募人数",width:"100"},{prop:"zhiweiDuring",label:"在职时间",width:"180"},{prop:"zhiweiDesc",label:"职位描述",width:"230"}],tableConf:{operation:!0,btns:[{id:"detail",text:"查看",size:"medium",type:"primary",click:e=>{console.log(e)}},{id:"edit",text:"无误",size:"medium",type:"primary",click:e=>{console.log(e)}},{id:"delete",text:"删除",size:"medium",type:"primary",click:e=>{console.log(e)}}]},paginationConf:{sizes:[10,20,50,100],size:20,total:500},inputData:[{placeholder:"职位名称",model:"zhiweiName",width:170}],selectDataAddr:[{placeholder:"省",model:"province",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[0].clear(),request.getCity({code:e,level:2}).then(e=>{t.selectDataAddr[1].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"city",""),this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[1].options=[],this.selectDataAddr[2].options=[]},options:[]},{placeholder:"市",model:"city",label:"name",value:"code",width:170,change:e=>{let t=this;e&&(t.selectDataAddr[1].clear(),request.getCity({code:e,level:3}).then(e=>{t.selectDataAddr[2].options=e.data}))},clear:()=>{this.$set(this.$refs.totalSel.searchData.selectData,"town",""),this.selectDataAddr[2].options=[]},options:[]},{placeholder:"县/区",model:"town",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]},{placeholder:"所属学校",model:"school",label:"name",value:"code",width:170,change:e=>{e&&this.selectDataAddr[2].clear()},clear:()=>{},options:[]}],selectData:[]}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O},mounted(){this.selectData=this.selectDataAddr},methods:{}},ma={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"table"},[s("h1",[e._v("被举报职位")]),e._v(" "),s("div",{staticClass:"schoolTop"},[s("input-select",{ref:"totalSel",attrs:{inputs:e.inputData,selects:e.selectData,searchBtn:!0},on:{search:e.search}})],1),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}}),e._v(" "),s("pagination",{attrs:{paginationConf:e.paginationConf,currentPage:e.paginationConf.currentPage},on:{pageChange:e.pageChange}})],1)},staticRenderFns:[]};var va=s("VU/8")(pa,ma,!1,function(e){s("4q1I")},"data-v-6a77e75e",null).exports,fa={name:"volunteer",data(){return{tableData:[],tableTitles:[{prop:"volName",label:"志愿者"},{prop:"applyDt",label:"申请日期"},{prop:"applyId",label:"证书编号"},{prop:"applyStartdt",label:"证书开始日期"},{prop:"applyEnddt",label:"证书结束日期"}],tableConf:{operation:!0,btns:[{id:"detail",text:"查看",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.identityDialog=!0}},{id:"edit",text:"通过",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.submitIdentity()}},{id:"delete",text:"驳回",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.cancelIdentity()}}]},currentIdentity:{volunteer:{}},currentDesc:"",identityDialog:!1}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O},mounted(){this.initData()},methods:{initData(){this.$request.getAllVolIdenty({result:-1}).then(e=>{e.data.forEach(e=>{e.volName="",e.phone="",e.email="",e.idcard="","[]"!=e.img?e.image=e.img.substr(1,e.img.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):e.image=[],this.$request.getVolunteer({userId:e.volId}).then(t=>{e.volunteer=t.data,e.volName=t.data.name,e.phone=t.data.phone,e.email=t.data.email,e.idcard=t.data.idcard})}),this.tableData=e.data})},submitIdentity(){this.currentIdentity.describe=this.currentDesc,this.currentIdentity.result=1,this.$request.updateVolIdenty(this.currentIdentity).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})},cancelIdentity(){this.currentIdentity.describe=this.currentDesc,this.currentIdentity.result=-2,this.$request.updateVolIdenty(this.currentIdentity).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})}}},ya={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"vol-identity-table"},[s("h1",[e._v("教资认证管理")]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}}),e._v(" "),s("el-dialog",{attrs:{title:"认证详情",visible:e.identityDialog,top:"3vh",width:"80%"},on:{"update:visible":function(t){e.identityDialog=t}}},[s("div",{staticClass:"identity-detail"},[s("div",{staticClass:"identity-top"},[s("div",{staticClass:"top-info name"},[s("label",[e._v("用户名：")]),e._v(e._s(e.currentIdentity.volunteer.name))]),e._v(" "),s("div",{staticClass:"top-info education"},[s("label",[e._v("学历：")]),e._v(e._s(e.currentIdentity.volunteer.education))]),e._v(" "),s("div",{staticClass:"top-info idcard"},[s("label",[e._v("身份证号：")]),e._v(e._s(e.currentIdentity.volunteer.idcard))]),e._v(" "),s("div",{staticClass:"top-info addressName"},[s("label",[e._v("联系地址：")]),e._v(e._s(e.currentIdentity.volunteer.addressName))]),e._v(" "),s("div",{staticClass:"top-info email"},[s("label",[e._v("联系邮箱：")]),e._v(e._s(e.currentIdentity.volunteer.email))]),e._v(" "),s("div",{staticClass:"top-info phone"},[s("label",[e._v("联系电话：")]),e._v(e._s(e.currentIdentity.volunteer.phone))])]),e._v(" "),s("div",{staticClass:"identity-content"},[s("div",{staticClass:"content-info applyDt"},[s("label",[e._v("申请日期：")]),e._v(e._s(e.currentIdentity.applyDt)+"\n          ")]),e._v(" "),s("div",{staticClass:"content-info applyId"},[s("label",[e._v("证书编号：")]),e._v(e._s(e.currentIdentity.applyId)+"\n          ")]),e._v(" "),s("div",{staticClass:"content-info applyStartdt"},[s("label",[e._v("证书有效期：")]),e._v("\n          "+e._s(e.currentIdentity.applyStartdt+"  --  "+e.currentIdentity.applyEnddt)+"\n          ")]),e._v(" "),s("div",{staticClass:"content-info image"},[e.currentIdentity.image&&0!=e.currentIdentity.image.length?e._l(e.currentIdentity.image,function(e){return s("img",{attrs:{src:e,alt:""}})}):[e._v("\n            无照片\n          ")]],2)])]),e._v(" "),s("template",{slot:"footer"},[s("el-input",{staticClass:"descr",attrs:{placeholder:"备注"},model:{value:e.currentDesc,callback:function(t){e.currentDesc=t},expression:"currentDesc"}}),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.submitIdentity}},[e._v("通过申请")]),e._v(" "),s("el-button",{attrs:{type:"warning"},on:{click:e.cancelIdentity}},[e._v("驳回申请")])],1)],2)],1)},staticRenderFns:[]};var ga=s("VU/8")(fa,ya,!1,function(e){s("50ku")},"data-v-3f7887f3",null).exports,_a={name:"recruiterIdentity",data(){return{tableData:[],tableTitles:[{prop:"recrName",label:"招募者"},{prop:"applyDt",label:"申请日期"},{prop:"companyName",label:"公司名称"},{prop:"applyName",label:"职称"},{prop:"applyId",label:"工号"},{prop:"companyPhone",label:"公司联系方式"}],tableConf:{operation:!0,btns:[{id:"detail",text:"查看",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.identityDialog=!0}},{id:"edit",text:"通过",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.submitIdentity()}},{id:"delete",text:"驳回",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.cancelIdentity()}}]},currentIdentity:{recruiter:{}},currentDesc:"",identityDialog:!1}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O},mounted(){this.initData()},methods:{initData(){this.$request.getAllRecrIdenty({result:-1}).then(e=>{e.data.forEach(e=>{e.recrName="",e.phone="",e.email="",e.idcard="","[]"!=e.image?e.images=e.image.substr(1,e.image.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):e.images=[],this.$request.getRecuriter({userId:e.recrId}).then(t=>{e.recruiter=t.data,e.recrName=t.data.name,e.phone=t.data.phone,e.email=t.data.email,e.idcard=t.data.idcard})}),this.tableData=e.data})},submitIdentity(){this.currentIdentity.describe=this.currentDesc,this.currentIdentity.result=1,this.$request.updateRecrIdenty(this.currentIdentity).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})},cancelIdentity(){this.currentIdentity.describe=this.currentDesc,this.currentIdentity.result=-2,this.$request.updateRecrIdenty(this.currentIdentity).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})}}},ba={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"recr-identity-table"},[s("h1",[e._v("教资认证管理")]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}}),e._v(" "),s("el-dialog",{attrs:{title:"认证详情",visible:e.identityDialog,top:"3vh",width:"80%"},on:{"update:visible":function(t){e.identityDialog=t}}},[s("div",{staticClass:"identity-detail"},[s("div",{staticClass:"identity-top"},[s("div",{staticClass:"top-info name"},[s("label",[e._v("用户名：")]),e._v(e._s(e.currentIdentity.recruiter.name))]),e._v(" "),s("div",{staticClass:"top-info idcard"},[s("label",[e._v("身份证号：")]),e._v(e._s(e.currentIdentity.recruiter.idcard))]),e._v(" "),s("div",{staticClass:"top-info addressName"},[s("label",[e._v("联系地址：")]),e._v(e._s(e.currentIdentity.recruiter.addressName))]),e._v(" "),s("div",{staticClass:"top-info email"},[s("label",[e._v("联系邮箱：")]),e._v(e._s(e.currentIdentity.recruiter.email))]),e._v(" "),s("div",{staticClass:"top-info phone"},[s("label",[e._v("联系电话：")]),e._v(e._s(e.currentIdentity.recruiter.phone))])]),e._v(" "),s("div",{staticClass:"identity-content"},[s("div",{staticClass:"content-info applyDt"},[s("label",[e._v("申请日期：")]),e._v(e._s(e.currentIdentity.applyDt)+"\n          ")]),e._v(" "),s("div",{staticClass:"content-info applyId"},[s("label",[e._v("公司名称：")]),e._v(e._s(e.currentIdentity.companyName)+"\n          ")]),e._v(" "),s("div",{staticClass:"content-info applyStartdt"},[s("label",[e._v("职称：")]),e._v("\n          "+e._s(e.currentIdentity.applyName)+"\n        ")]),e._v(" "),s("div",{staticClass:"content-info applyStartdt"},[s("label",[e._v("工号：")]),e._v("\n          "+e._s(e.currentIdentity.applyId)+"\n        ")]),e._v(" "),s("div",{staticClass:"content-info applyStartdt"},[s("label",[e._v("公司联系方式：")]),e._v("\n          "+e._s(e.currentIdentity.companyPhone)+"\n        ")]),e._v(" "),s("div",{staticClass:"content-info image"},[e.currentIdentity.images&&0!=e.currentIdentity.images.length?e._l(e.currentIdentity.images,function(e){return s("img",{attrs:{src:e,alt:""}})}):[e._v("\n            无照片\n          ")]],2)])]),e._v(" "),s("template",{slot:"footer"},[s("el-input",{staticClass:"descr",attrs:{placeholder:"备注"},model:{value:e.currentDesc,callback:function(t){e.currentDesc=t},expression:"currentDesc"}}),e._v(" "),s("el-button",{attrs:{type:"success"},on:{click:e.submitIdentity}},[e._v("通过申请")]),e._v(" "),s("el-button",{attrs:{type:"warning"},on:{click:e.cancelIdentity}},[e._v("驳回申请")])],1)],2)],1)},staticRenderFns:[]};var Ca=s("VU/8")(_a,ba,!1,function(e){s("u5A+")},"data-v-017b0bf7",null).exports,ka={name:"info-article",data:()=>({addCommentFlag:!1,comment:{msg:""},commentList:[],user:{},interest:{},attention:!1,attentionRes:{},accuse:!1,accuseRes:{}}),props:{article:{type:Object,default:()=>({})},author:{type:Object,default:()=>({})}},components:{},created(){this.getCommentList()},mounted(){},methods:{getCommentList(){this.$request.selectCommentByCondition({mainId:this.article.id,type:1}).then(e=>{e.data.length>0&&e.data.forEach(e=>{e.author={},this.$request.getUser({userId:e.userId}).then(t=>{e.author=t.data})}),this.commentList=e.data})},addComment(){this.user.id?this.addCommentFlag=!0:this.$message.warning("请登录")}}},Ia={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"manager-article"},[s("div",{staticClass:"info-article"},[s("div",{staticClass:"name"},[e._v("\n      "+e._s(e.article.title)+"\n    ")]),e._v(" "),s("div",{staticClass:"base"},[s("p",[s("label",{attrs:{for:""}},[e._v("发布者:")]),e._v(e._s(e.author.name||""))]),e._v(" "),s("p",[s("label",{attrs:{for:""}},[e._v("发布时间:")]),e._v(e._s(e.article.establishDt))])]),e._v(" "),s("div",{staticClass:"content-article"},[s("div",{staticClass:"content-content"},[e._v(e._s(e.article.content))]),e._v(" "),e.article.images&&e.article.images.length>0?s("div",{staticClass:"content-img"},e._l(e.article.images,function(e){return s("div",{key:e,staticClass:"image",style:"background-image:url("+e+")"},[s("img",{attrs:{src:e,alt:""}})])}),0):e._e()])]),e._v(" "),s("div",{staticClass:"comment"},[e.commentList.length>0?e._l(e.commentList,function(t,a){return s("div",{key:a,staticClass:"comment-info"},[s("div",{staticClass:"author"},[e._v(e._s(t.author.name||""))]),e._v(" "),s("div",{staticClass:"comment-single"},[s("p",[e._v(e._s(t.dt))]),e._v(" "),s("p",{staticClass:"comment-content"},[e._v(e._s(t.msg))])])])}):s("label",[e._v("暂无评论")])],2)])},staticRenderFns:[]};var wa=s("VU/8")(ka,Ia,!1,function(e){s("iyDP")},null,null).exports,Da={name:"recruiterIdentity",data(){return{tableData:[],tableTitles:[{prop:"articleName",label:"文章名"},{prop:"articleDt",label:"发表日期"},{prop:"authorName",label:"发表人"},{prop:"accuseName",label:"举报人"}],tableConf:{operation:!0,btns:[{id:"detail",text:"查看",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.identityDialog=!0}},{id:"edit",text:"信息正常",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.submitIdentity()}},{id:"delete",text:"信息有误",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.cancelIdentity()}}]},currentIdentity:{recruiter:{}},currentDesc:"",identityDialog:!1}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O,articleInfo:wa},mounted(){this.initData()},methods:{initData(){this.$request.selectAccuseByCondition({accuseType:1,accuseResult:0}).then(e=>{e.data.forEach(e=>{e.articleName="",e.articleDt="",e.authorName="",e.accuseName="",this.$request.selectArticleById({articleId:e.accuseId}).then(t=>{e.articleName=t.data.title,e.articleDt=t.data.establishDt,"[]"!=t.data.imgs?t.data.images=t.data.imgs.substr(1,t.data.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):t.data.images=[],e.article=t.data,this.$request.getUser({userId:t.data.authorId}).then(s=>{e.authorName=s.data.name,"1"==s.data.userType&&this.$request.getVolunteer({userId:t.data.authorId}).then(t=>{e.author=t.data}),"2"==s.data.userType&&this.$request.getRecuriter({userId:t.data.authorId}).then(t=>{e.author=t.data})})}),this.$request.getUser({userId:e.userId}).then(t=>{e.accuseName=t.data.name,"1"==t.data.userType&&this.$request.getVolunteer({userId:e.userId}).then(t=>{e.accuse=t.data}),"2"==t.data.userType&&this.$request.getRecuriter({userId:e.userId}).then(t=>{e.accuse=t.data})})}),this.tableData=e.data})},submitIdentity(){this.currentIdentity.result=1,this.$request.updateAccuse({id:this.currentIdentity.id,accuseRes:this.currentIdentity.result}).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})},cancelIdentity(){this.currentIdentity.result=-1,this.$request.updateAccuse({id:this.currentIdentity.id,accuseRes:this.currentIdentity.result}).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})}}},$a={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"article-accuse-table"},[s("h1",[e._v("文章举报处理")]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}}),e._v(" "),s("el-dialog",{attrs:{title:"文章",visible:e.identityDialog,top:"3vh",width:"80%"},on:{"update:visible":function(t){e.identityDialog=t}}},[s("template",{slot:"footer"},[s("el-button",{attrs:{type:"success"},on:{click:e.submitIdentity}},[e._v("信息正常")]),e._v(" "),s("el-button",{attrs:{type:"warning"},on:{click:e.cancelIdentity}},[e._v("信息有误")])],1),e._v(" "),s("articleInfo",{attrs:{article:e.currentIdentity.article,author:e.currentIdentity.author}})],2)],1)},staticRenderFns:[]};var xa=s("VU/8")(Da,$a,!1,function(e){s("RI17")},"data-v-0353f8c0",null).exports,za={name:"info-post",data:()=>({commentList:[]}),props:{post:{type:Object,default:()=>({})},author:{type:Object,default:()=>({})}},components:{},created(){this.getCommentList()},mounted(){},methods:{getCommentList(){this.$request.selectCommentByCondition({mainId:this.post.id,type:2}).then(e=>{e.data.length>0&&e.data.forEach(e=>{e.author={},this.$request.getUser({userId:e.userId}).then(t=>{e.author=t.data})}),this.commentList=e.data})}}},ja={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-main-manager"},[s("div",{ref:"infoPost",staticClass:"info-post"},[s("div",{staticClass:"post"},[s("div",{staticClass:"left"},[e._v("\n        "+e._s(e.author.name)+"\n      ")]),e._v(" "),s("div",{staticClass:"content"},[s("div",{staticClass:"content-top"},[s("p",{staticClass:"name"},[e._v(e._s(e.post.title))]),e._v(" "),s("div",{staticClass:"base"},[s("p",[e._v(e._s(e.post.establishDt))])]),e._v(" "),s("div",{staticClass:"content-content"},[e._v(e._s(e.post.content))])]),e._v(" "),e.post.images&&e.post.images.length>0?s("div",{staticClass:"content-img"},e._l(e.post.images,function(e){return s("div",{key:e,staticClass:"image",style:"background-image:url("+e+")"},[s("img",{attrs:{src:e,alt:""}})])}),0):e._e()])])]),e._v(" "),s("div",{staticClass:"comment"},[e.commentList.length>0?e._l(e.commentList,function(t,a){return s("div",{key:a,staticClass:"comment-info"},[s("div",{staticClass:"author"},[e._v(e._s(t.author.name||""))]),e._v(" "),s("div",{staticClass:"comment-single"},[s("p",[e._v(e._s(t.dt))]),e._v(" "),s("p",{staticClass:"comment-content"},[e._v(e._s(t.msg))])])])}):s("label",[e._v("暂无评论")])],2)])},staticRenderFns:[]};var Ea=s("VU/8")(za,ja,!1,function(e){s("3Waw")},null,null).exports,Sa={name:"recruiterIdentity",data(){return{tableData:[],tableTitles:[{prop:"postName",label:"文章名"},{prop:"postDt",label:"发表日期"},{prop:"authorName",label:"发表人"},{prop:"accuseName",label:"举报人"}],tableConf:{operation:!0,btns:[{id:"detail",text:"查看",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.identityDialog=!0}},{id:"edit",text:"信息正常",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.submitIdentity()}},{id:"delete",text:"信息有误",size:"medium",type:"text",click:e=>{this.currentIdentity=e,this.cancelIdentity()}}]},currentIdentity:{recruiter:{}},currentDesc:"",identityDialog:!1}},props:{},components:{tablePage:ue,pagination:G,inputSelect:O,postInfo:Ea},mounted(){this.initData()},methods:{initData(){this.$request.selectAccuseByCondition({accuseType:2,accuseResult:0}).then(e=>{e.data.forEach(e=>{e.postName="",e.postDt="",e.authorName="",e.accuseName="",this.$request.selectPostById({postId:e.accuseId}).then(t=>{e.postName=t.data.title,e.postDt=t.data.establishDt,"[]"!=t.data.imgs?t.data.images=t.data.imgs.substr(1,t.data.imgs.length-2).split(",").map(e=>"/"+e.substr(e.indexOf("static"),e.length-e.indexOf("static")).replace(/\\/g,"/")):t.data.images=[],e.post=t.data,this.$request.getUser({userId:t.data.authorId}).then(s=>{e.authorName=s.data.name,"1"==s.data.userType&&this.$request.getVolunteer({userId:t.data.authorId}).then(t=>{e.author=t.data}),"2"==s.data.userType&&this.$request.getRecuriter({userId:t.data.authorId}).then(t=>{e.author=t.data})})}),this.$request.getUser({userId:e.userId}).then(t=>{e.accuseName=t.data.name,"1"==t.data.userType&&this.$request.getVolunteer({userId:e.userId}).then(t=>{e.accuse=t.data}),"2"==t.data.userType&&this.$request.getRecuriter({userId:e.userId}).then(t=>{e.accuse=t.data})})}),this.tableData=e.data})},submitIdentity(){this.currentIdentity.result=1,this.$request.updateAccuse({id:this.currentIdentity.id,accuseRes:this.currentIdentity.result}).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})},cancelIdentity(){this.currentIdentity.result=-1,this.$request.updateAccuse({id:this.currentIdentity.id,accuseRes:this.currentIdentity.result}).then(e=>{this.initData(),this.identityDialog=!1,this.$message.success("处理成功")})}}},Fa={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"post-accuse-table"},[s("h1",[e._v("文章举报处理")]),e._v(" "),s("tablePage",{ref:"tbMain",staticClass:"tablepage",attrs:{tableTitles:e.tableTitles,tableData:e.tableData,isLoading:!1,tableConf:e.tableConf}}),e._v(" "),s("el-dialog",{attrs:{title:"文章",visible:e.identityDialog,top:"3vh",width:"80%"},on:{"update:visible":function(t){e.identityDialog=t}}},[s("template",{slot:"footer"},[s("el-button",{attrs:{type:"success"},on:{click:e.submitIdentity}},[e._v("信息正常")]),e._v(" "),s("el-button",{attrs:{type:"warning"},on:{click:e.cancelIdentity}},[e._v("信息有误")])],1),e._v(" "),s("postInfo",{attrs:{post:e.currentIdentity.post,author:e.currentIdentity.author}})],2)],1)},staticRenderFns:[]};var qa=s("VU/8")(Sa,Fa,!1,function(e){s("9krk")},"data-v-1c6c3c88",null).exports;a.default.use(o.a);var Aa=new o.a({routes:[{path:"/",name:"front",component:m,children:[{path:"",name:"frontMain",component:L},{path:"/user",name:"webUser",component:se,children:[{path:"recr",name:"recruiter",component:oe,children:[{path:"recruiter",name:"recrShow",component:ve},{path:"school",name:"recrSchool",component:_s},{path:"job",name:"recrJob",component:js},{path:"interest",name:"recrInterest",component:Ns},{path:"comment",name:"recrCommentList",component:Bs},{path:"postList",name:"rectPostList",component:Ws},{path:"articleList",name:"rectArticleList",component:ra},{path:"chat",name:"rectChat",component:Y}]},{path:"vol",name:"volunteer",component:Ce,children:[{path:"volunteer",name:"volShow",component:cs},{path:"interest",name:"volInterest",component:Ns},{path:"comment",name:"volCommentList",component:Bs},{path:"postList",name:"volPostList",component:Ws},{path:"articleList",name:"volArticleList",component:ra},{path:"chat",name:"volChat",component:Y}]}]},{path:"school",name:"schoolInfo",component:ks},{path:"job",name:"jobInfo",component:Fs},{path:"article",name:"articleInfo",component:Ys},{path:"post",name:"postInfo",component:Os},{path:"recruiter",name:"recrInfo",component:ge},{path:"volunteer",name:"volInfo",component:hs},{path:"search",name:"search",component:Z}]},{path:"/login",name:"login",component:F},{path:"/registe/recruiter",name:"registeRecruiter",component:le},{path:"/registe/volunteer",name:"registeVolunteer",component:le},{path:"/back",name:"back",component:ca},{path:"/manager",name:"manager",component:y,children:[{path:"school",name:"backSchool",component:ha},{path:"zhiwei",name:"backZhiwei",component:va},{path:"volunteer",name:"backVolunteer",component:ga},{path:"recruiter",name:"backRecruiter",component:Ca},{path:"articles",name:"backArticles",component:xa},{path:"posts",name:"backPosts",component:qa}]}]});s("e4zS"),s("t+Gu"),s("0/9m");a.default.prototype.$rootPath="/usr/local/nginx/html/shizheFront/static/upload/",a.default.prototype.$request=es,a.default.config.productionTip=!1,a.default.use(i.a),a.default.use(De.a),new a.default({el:"#app",router:Aa,store:l,render:e=>e(n)})},NOhF:function(e,t){},Nd6v:function(e,t){},O2kh:function(e,t){},Oluj:function(e,t){},RFJo:function(e,t){},RI17:function(e,t){},T0ah:function(e,t){},Tvwn:function(e,t){},U8AE:function(e,t){},WILv:function(e,t){},WcXL:function(e,t){},ZBJ4:function(e,t,s){e.exports=s.p+"static/img/logo.7ef33a6.png"},bips:function(e,t){},cSl9:function(e,t){},doZj:function(e,t){},dq79:function(e,t){},"e+dm":function(e,t){},e4zS:function(e,t){},eOTS:function(e,t){},hFwG:function(e,t){},iEqy:function(e,t){},iyDP:function(e,t){},j0RR:function(e,t){},j7S9:function(e,t){},kUeD:function(e,t){},lROm:function(e,t){},mT5J:function(e,t){},mnLg:function(e,t){},mndT:function(e,t){},s9nu:function(e,t){},sB1R:function(e,t){},spDy:function(e,t){},su1z:function(e,t){},"t+Gu":function(e,t){},tdXv:function(e,t){},"u5A+":function(e,t){},"w5M+":function(e,t){},yE5Q:function(e,t){},yocs:function(e,t){},zRif:function(e,t){}},["NHnr"]);
//# sourceMappingURL=app.d191c1725620b7e08b76.js.map